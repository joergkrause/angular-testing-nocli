!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@angular/compiler",["exports"],t):t((e.ng=e.ng||{},e.ng.compiler={}))}(this,function(e){"use strict";var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function r(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};var i=k("Inject",function(e){return{token:e}}),o=k("InjectionToken",function(e){return{_desc:e}});var s=k("Attribute",function(e){return{attributeName:e}});var a=k("ContentChildren",function(e,t){return void 0===t&&(t={}),n({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)}),u=k("ContentChild",function(e,t){return void 0===t&&(t={}),n({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),p=k("ViewChildren",function(e,t){return void 0===t&&(t={}),n({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)}),c=k("ViewChild",function(e,t){return n({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)});var l=k("Directive",function(e){return void 0===e&&(e={}),e});var h={Emulated:0,Native:1,None:2};h[h.Emulated]="Emulated",h[h.Native]="Native",h[h.None]="None";var f={OnPush:0,Default:1};f[f.OnPush]="OnPush",f[f.Default]="Default";var d=k("Component",function(e){return void 0===e&&(e={}),n({changeDetection:f.Default},e)});var v=k("Pipe",function(e){return n({pure:!0},e)});var m=k("Input",function(e){return{bindingPropertyName:e}});var y=k("Output",function(e){return{bindingPropertyName:e}});var g=k("HostBinding",function(e){return{hostPropertyName:e}});var _=k("HostListener",function(e,t){return{eventName:e,args:t}});var E=k("NgModule",function(e){return e});var S={name:"custom-elements"},x={name:"no-errors-schema"},C=k("Optional"),w=k("Injectable"),T=k("Self"),b=k("SkipSelf"),A=k("Host"),P=Function,M={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};M[M.NONE]="NONE",M[M.HTML]="HTML",M[M.STYLE]="STYLE",M[M.SCRIPT]="SCRIPT",M[M.URL]="URL",M[M.RESOURCE_URL]="RESOURCE_URL";var N={Error:0,Warning:1,Ignore:2};function k(e,t){var r=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(void 0,r):{};return n({ngMetadataName:e},o)};return r.isTypeOf=function(t){return t&&t.ngMetadataName===e},r.ngMetadataName=e,r}N[N.Error]="Error",N[N.Warning]="Warning",N[N.Ignore]="Ignore";var I=Object.freeze({Inject:function(){},createInject:i,createInjectionToken:o,Attribute:function(){},createAttribute:s,Query:function(){},createContentChildren:a,createContentChild:u,createViewChildren:p,createViewChild:c,Directive:function(){},createDirective:l,Component:function(){},ViewEncapsulation:h,ChangeDetectionStrategy:f,createComponent:d,Pipe:function(){},createPipe:v,Input:function(){},createInput:m,Output:function(){},createOutput:y,HostBinding:function(){},createHostBinding:g,HostListener:function(){},createHostListener:_,NgModule:function(){},createNgModule:E,ModuleWithProviders:function(){},SchemaMetadata:function(){},CUSTOM_ELEMENTS_SCHEMA:S,NO_ERRORS_SCHEMA:x,createOptional:C,createInjectable:w,createSelf:T,createSkipSelf:b,createHost:A,Type:P,SecurityContext:M,NodeFlags:{None:0,TypeElement:1,TypeText:2,ProjectedTemplate:4,CatRenderNode:3,TypeNgContent:8,TypePipe:16,TypePureArray:32,TypePureObject:64,TypePurePipe:128,CatPureExpression:224,TypeValueProvider:256,TypeClassProvider:512,TypeFactoryProvider:1024,TypeUseExistingProvider:2048,LazyProvider:4096,PrivateProvider:8192,TypeDirective:16384,Component:32768,CatProviderNoDirective:3840,CatProvider:20224,OnInit:65536,OnDestroy:131072,DoCheck:262144,OnChanges:524288,AfterContentInit:1048576,AfterContentChecked:2097152,AfterViewInit:4194304,AfterViewChecked:8388608,EmbeddedViews:16777216,ComponentView:33554432,TypeContentQuery:67108864,TypeViewQuery:134217728,StaticQuery:268435456,DynamicQuery:536870912,CatQuery:201326592,Types:201347067},DepFlags:{None:0,SkipSelf:1,Optional:2,Value:8},ArgumentType:{Inline:0,Dynamic:1},BindingFlags:{TypeElementAttribute:1,TypeElementClass:2,TypeElementStyle:4,TypeProperty:8,SyntheticProperty:16,SyntheticHostProperty:32,CatSyntheticProperty:48,Types:15},QueryBindingType:{First:0,All:1},QueryValueType:{ElementRef:0,RenderElement:1,TemplateRef:2,ViewContainerRef:3,Provider:4},ViewFlags:{None:0,OnPush:2},MissingTranslationStrategy:N,MetadataFactory:function(){},Route:function(){}}),R=/-+([a-z0-9])/g;function O(e,t){return D(e,":",t)}function D(e,t,r){var n=e.indexOf(t);return-1==n?r:[e.slice(0,n).trim(),e.slice(n+1).trim()]}function L(e,t,r){return Array.isArray(e)?t.visitArray(e,r):"object"==typeof(n=e)&&null!==n&&Object.getPrototypeOf(n)===X?t.visitStringMap(e,r):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,r):t.visitOther(e,r);var n}function F(e){return null!==e&&void 0!==e}function V(e){return void 0===e?null:e}var B=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return e.map(function(e){return L(e,r,t)})},e.prototype.visitStringMap=function(e,t){var r=this,n={};return Object.keys(e).forEach(function(i){n[i]=L(e[i],r,t)}),n},e.prototype.visitPrimitive=function(e,t){return e},e.prototype.visitOther=function(e,t){return e},e}(),U=function(e){if(J(e))throw new Error("Illegal state: value cannot be a promise");return e},H=function(e,t){return J(e)?e.then(t):t(e)},q=function(e){return e.some(J)?Promise.all(e):e};function j(e,t){var r=Error(e);return r[W]=!0,t&&(r[z]=t),r}var W="ngSyntaxError",z="ngParseErrors";function K(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var X=Object.getPrototypeOf({});function Q(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n>=55296&&n<=56319&&e.length>r+1){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(r++,n=(n-55296<<10)+i-56320+65536)}n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(n>>6&31|192,63&n|128):n<=65535?t+=String.fromCharCode(n>>12|224,n>>6&63|128,63&n|128):n<=2097151&&(t+=String.fromCharCode(n>>18&7|240,n>>12&63|128,n>>6&63|128,63&n|128))}return t}function G(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(G).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Y(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function J(e){return!!e&&"function"==typeof e.then}var $=function(){return function(e){this.full=e;var t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}(),Z=new $("5.2.8"),ee=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),te=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitBoundText(this,t)},e}(),re=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttr(this,t)},e}(),ne=function(){function e(e,t,r,n,i,o){this.name=e,this.type=t,this.securityContext=r,this.value=n,this.unit=i,this.sourceSpan=o,this.isAnimation=this.type===de.Animation}return e.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},e}(),ie=function(){function e(t,r,n,i,o){this.name=t,this.target=r,this.phase=n,this.handler=i,this.sourceSpan=o,this.fullName=e.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return e.calcFullName=function(e,t,r){return t?t+":"+e:r?"@"+e+"."+r:e},e.prototype.visit=function(e,t){return e.visitEvent(this,t)},e}(),oe=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitReference(this,t)},e}(),se=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitVariable(this,t)},e}(),ae=function(){function e(e,t,r,n,i,o,s,a,u,p,c,l,h){this.name=e,this.attrs=t,this.inputs=r,this.outputs=n,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=u,this.children=p,this.ngContentIndex=c,this.sourceSpan=l,this.endSourceSpan=h}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),ue=function(){function e(e,t,r,n,i,o,s,a,u,p,c){this.attrs=e,this.outputs=t,this.references=r,this.variables=n,this.directives=i,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=u,this.ngContentIndex=p,this.sourceSpan=c}return e.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},e}(),pe=function(){function e(e,t,r,n){this.directiveName=e,this.templateName=t,this.value=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},e}(),ce=function(){function e(e,t,r,n,i,o){this.directive=e,this.inputs=t,this.hostProperties=r,this.hostEvents=n,this.contentQueryStartId=i,this.sourceSpan=o}return e.prototype.visit=function(e,t){return e.visitDirective(this,t)},e}(),le=function(){function e(e,t,r,n,i,o,s){this.token=e,this.multiProvider=t,this.eager=r,this.providers=n,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return null},e}(),he={PublicService:0,PrivateService:1,Component:2,Directive:3,Builtin:4};he[he.PublicService]="PublicService",he[he.PrivateService]="PrivateService",he[he.Component]="Component",he[he.Directive]="Directive",he[he.Builtin]="Builtin";var fe=function(){function e(e,t,r){this.index=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitNgContent(this,t)},e}(),de={Property:0,Attribute:1,Class:2,Style:3,Animation:4};de[de.Property]="Property",de[de.Attribute]="Attribute",de[de.Class]="Class",de[de.Style]="Style",de[de.Animation]="Animation";var ve=function(){function e(){}return e.prototype.visitNgContent=function(e,t){},e.prototype.visitEmbeddedTemplate=function(e,t){},e.prototype.visitElement=function(e,t){},e.prototype.visitReference=function(e,t){},e.prototype.visitVariable=function(e,t){},e.prototype.visitEvent=function(e,t){},e.prototype.visitElementProperty=function(e,t){},e.prototype.visitAttr=function(e,t){},e.prototype.visitBoundText=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitDirective=function(e,t){},e.prototype.visitDirectiveProperty=function(e,t){},e}(),me=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.visitEmbeddedTemplate=function(e,t){return this.visitChildren(t,function(t){t(e.attrs),t(e.references),t(e.variables),t(e.directives),t(e.providers),t(e.children)})},t.prototype.visitElement=function(e,t){return this.visitChildren(t,function(t){t(e.attrs),t(e.inputs),t(e.outputs),t(e.references),t(e.directives),t(e.providers),t(e.children)})},t.prototype.visitDirective=function(e,t){return this.visitChildren(t,function(t){t(e.inputs),t(e.hostProperties),t(e.hostEvents)})},t.prototype.visitChildren=function(e,t){var r=[],n=this;return t(function(t){t&&t.length&&r.push(ye(n,t,e))}),[].concat.apply([],r)},t}(ve);function ye(e,t,r){void 0===r&&(r=null);var n=[],i=e.visit?function(t){return e.visit(t,r)||t.visit(e,r)}:function(t){return t.visit(e,r)};return t.forEach(function(e){var t=i(e);t&&n.push(t)}),n}var ge=function(){return function(e){var t=void 0===e?{}:e,r=t.defaultEncapsulation,n=void 0===r?h.Emulated:r,i=t.useJit,o=void 0===i||i,s=t.jitDevMode,a=void 0!==s&&s,u=t.missingTranslation,p=void 0===u?null:u,c=t.enableLegacyTemplate,l=t.preserveWhitespaces,f=t.strictInjectionParameters;this.defaultEncapsulation=n,this.useJit=!!o,this.jitDevMode=!!a,this.missingTranslation=p,this.enableLegacyTemplate=!0===c,this.preserveWhitespaces=_e(V(l)),this.strictInjectionParameters=!0===f}}();function _e(e,t){return void 0===t&&(t=!0),null===e?t:e}var Ee=function(){function e(e,t,r){this.filePath=e,this.name=t,this.members=r}return e.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},e}(),Se=function(){function e(){this.cache=new Map}return e.prototype.get=function(e,t,r){var n='"'+e+'".'+t+((r=r||[]).length?"."+r.join("."):""),i=this.cache.get(n);return i||(i=new Ee(e,t,r),this.cache.set(n,i)),i},e}(),xe=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function Ce(e){return e.replace(/\W/g,"_")}var we=0;function Te(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof Ee)return t.name;if(t.__anonymousType)return t.__anonymousType;var r=G(t);return r.indexOf("(")>=0?(r="anonymous_"+we++,t.__anonymousType=r):r=Ce(r),r}function be(e){var t=e.reference;return t instanceof Ee?t.filePath:"./"+G(t)}function Ae(e,t){return"View_"+Te({reference:e})+"_"+t}function Pe(e){return"RenderType_"+Te({reference:e})}function Me(e){return"HostView_"+Te({reference:e})}function Ne(e){return Te({reference:e})+"NgFactory"}var ke={Pipe:0,Directive:1,NgModule:2,Injectable:3};function Ie(e){return null!=e.value?Ce(e.value):Te(e.identifier)}function Re(e){return null!=e.identifier?e.identifier.reference:e.value}ke[ke.Pipe]="Pipe",ke[ke.Directive]="Directive",ke[ke.NgModule]="NgModule",ke[ke.Injectable]="Injectable";var Oe=function(){return function(e){var t=void 0===e?{}:e,r=t.moduleUrl,n=t.styles,i=t.styleUrls;this.moduleUrl=r||null,this.styles=Ue(n),this.styleUrls=Ue(i)}}(),De=function(){function e(e){var t=e.encapsulation,r=e.template,n=e.templateUrl,i=e.htmlAst,o=e.styles,s=e.styleUrls,a=e.externalStylesheets,u=e.animations,p=e.ngContentSelectors,c=e.interpolation,l=e.isInline,h=e.preserveWhitespaces;if(this.encapsulation=t,this.template=r,this.templateUrl=n,this.htmlAst=i,this.styles=Ue(o),this.styleUrls=Ue(s),this.externalStylesheets=Ue(a),this.animations=u?qe(u):[],this.ngContentSelectors=p||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=l,this.preserveWhitespaces=h}return e.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},e}(),Le=function(){function e(e){var t=e.isHost,r=e.type,n=e.isComponent,i=e.selector,o=e.exportAs,s=e.changeDetection,a=e.inputs,u=e.outputs,p=e.hostListeners,c=e.hostProperties,l=e.hostAttributes,h=e.providers,f=e.viewProviders,d=e.queries,v=e.guards,m=e.viewQueries,y=e.entryComponents,g=e.template,_=e.componentViewType,E=e.rendererType,S=e.componentFactory;this.isHost=!!t,this.type=r,this.isComponent=n,this.selector=i,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=u,this.hostListeners=p,this.hostProperties=c,this.hostAttributes=l,this.providers=Ue(h),this.viewProviders=Ue(f),this.queries=Ue(d),this.guards=v,this.viewQueries=Ue(m),this.entryComponents=Ue(y),this.template=g,this.componentViewType=_,this.rendererType=E,this.componentFactory=S}return e.create=function(t){var r=t.isHost,n=t.type,i=t.isComponent,o=t.selector,s=t.exportAs,a=t.changeDetection,u=t.inputs,p=t.outputs,c=t.host,l=t.providers,h=t.viewProviders,f=t.queries,d=t.guards,v=t.viewQueries,m=t.entryComponents,y=t.template,g=t.componentViewType,_=t.rendererType,E=t.componentFactory,S={},x={},C={};null!=c&&Object.keys(c).forEach(function(e){var t=c[e],r=e.match(xe);null===r?C[e]=t:null!=r[1]?x[r[1]]=t:null!=r[2]&&(S[r[2]]=t)});var w={};null!=u&&u.forEach(function(e){var t=O(e,[e,e]);w[t[0]]=t[1]});var T={};return null!=p&&p.forEach(function(e){var t=O(e,[e,e]);T[t[0]]=t[1]}),new e({isHost:r,type:n,isComponent:!!i,selector:o,exportAs:s,changeDetection:a,inputs:w,outputs:T,hostListeners:S,hostProperties:x,hostAttributes:C,providers:l,viewProviders:h,queries:f,guards:d,viewQueries:v,entryComponents:m,template:y,componentViewType:g,rendererType:_,componentFactory:E})},e.prototype.toSummary=function(){return{summaryKind:ke.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},e}(),Fe=function(){function e(e){var t=e.type,r=e.name,n=e.pure;this.type=t,this.name=r,this.pure=!!n}return e.prototype.toSummary=function(){return{summaryKind:ke.Pipe,type:this.type,name:this.name,pure:this.pure}},e}(),Ve=function(){function e(e){var t=e.type,r=e.providers,n=e.declaredDirectives,i=e.exportedDirectives,o=e.declaredPipes,s=e.exportedPipes,a=e.entryComponents,u=e.bootstrapComponents,p=e.importedModules,c=e.exportedModules,l=e.schemas,h=e.transitiveModule,f=e.id;this.type=t||null,this.declaredDirectives=Ue(n),this.exportedDirectives=Ue(i),this.declaredPipes=Ue(o),this.exportedPipes=Ue(s),this.providers=Ue(r),this.entryComponents=Ue(a),this.bootstrapComponents=Ue(u),this.importedModules=Ue(p),this.exportedModules=Ue(c),this.schemas=Ue(l),this.id=f||null,this.transitiveModule=h||null}return e.prototype.toSummary=function(){var e=this.transitiveModule;return{summaryKind:ke.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}},e}(),Be=function(){function e(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return e.prototype.addProvider=function(e,t){this.providers.push({provider:e,module:t})},e.prototype.addDirective=function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))},e.prototype.addExportedDirective=function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))},e.prototype.addPipe=function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))},e.prototype.addExportedPipe=function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))},e.prototype.addModule=function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))},e.prototype.addEntryComponent=function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))},e}();function Ue(e){return e||[]}var He=function(){return function(e,t){var r=t.useClass,n=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=r||null,this.useValue=n,this.useExisting=i,this.useFactory=o||null,this.dependencies=s||null,this.multi=!!a}}();function qe(e){return e.reduce(function(e,t){var r=Array.isArray(t)?qe(t):t;return e.concat(r)},[])}function je(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function We(e,t,r){var n;return n=r.isInline?t.type.reference instanceof Ee?t.type.reference.filePath+"."+t.type.reference.name+".html":Te(e)+"/"+Te(t.type)+".html":r.templateUrl,t.type.reference instanceof Ee?n:je(n)}function ze(e,t){var r=e.moduleUrl.split(/\/\\/g);return je("css/"+t+r[r.length-1]+".ngstyle.js")}function Ke(e){return je(Te(e.type)+"/module.ngfactory.js")}function Xe(e,t){return je(Te(e)+"/"+Te(t.type)+".ngfactory.js")}var Qe=function(){function e(e,t){void 0===t&&(t=-1),this.path=e,this.position=t}return Object.defineProperty(e.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),e.prototype.parentOf=function(e){return e&&this.path[this.path.indexOf(e)-1]},e.prototype.childOf=function(e){return this.path[this.path.indexOf(e)+1]},e.prototype.first=function(e){for(var t=this.path.length-1;t>=0;t--){var r=this.path[t];if(r instanceof e)return r}},e.prototype.push=function(e){this.path.push(e)},e.prototype.pop=function(){return this.path.pop()},e}(),Ge=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),Ye=function(){function e(e,t,r,n,i){this.switchValue=e,this.type=t,this.cases=r,this.sourceSpan=n,this.switchValueSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansion(this,t)},e}(),Je=function(){function e(e,t,r,n,i){this.value=e,this.expression=t,this.sourceSpan=r,this.valueSourceSpan=n,this.expSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},e}(),$e=function(){function e(e,t,r,n){this.name=e,this.value=t,this.sourceSpan=r,this.valueSpan=n}return e.prototype.visit=function(e,t){return e.visitAttribute(this,t)},e}(),Ze=function(){function e(e,t,r,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),this.name=e,this.attrs=t,this.children=r,this.sourceSpan=n,this.startSourceSpan=i,this.endSourceSpan=o}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),et=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitComment(this,t)},e}();function tt(e,t,r){void 0===r&&(r=null);var n=[],i=e.visit?function(t){return e.visit(t,r)||t.visit(e,r)}:function(t){return t.visit(e,r)};return t.forEach(function(e){var t=i(e);t&&n.push(t)}),n}var rt=function(){function e(){}return e.prototype.visitElement=function(e,t){this.visitChildren(t,function(t){t(e.attrs),t(e.children)})},e.prototype.visitAttribute=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitComment=function(e,t){},e.prototype.visitExpansion=function(e,t){return this.visitChildren(t,function(t){t(e.cases)})},e.prototype.visitExpansionCase=function(e,t){},e.prototype.visitChildren=function(e,t){var r=[],n=this;return t(function(t){t&&r.push(tt(n,t,e))}),[].concat.apply([],r)},e}();function nt(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '"+e+"' to be an array of strings.");for(var r=0;r<t.length;r+=1)if("string"!=typeof t[r])throw new Error("Expected '"+e+"' to be an array of strings.")}}var it=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function ot(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(null!=t){var r=t[0],n=t[1];it.forEach(function(e){if(e.test(r)||e.test(n))throw new Error("['"+r+"', '"+n+"'] contains unusable interpolation symbol.")})}}var st=function(){function e(e,t){this.start=e,this.end=t}return e.fromArray=function(t){return t?(ot("interpolation",t),new e(t[0],t[1])):at},e}(),at=new st("{{","}}"),ut=function(){return function(e,t){this.style=e,this.styleUrls=t}}();function pt(e){if(null==e||0===e.length||"/"==e[0])return!1;var t=e.match(ht);return null===t||"package"==t[1]||"asset"==t[1]}var ct=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,lt=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,ht=/^([^:/?#]+):/,ft={RAW_TEXT:0,ESCAPABLE_RAW_TEXT:1,PARSABLE_DATA:2};function dt(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function vt(e){return"ng-container"===dt(e)[1]}function mt(e){return"ng-content"===dt(e)[1]}function yt(e){return"ng-template"===dt(e)[1]}function gt(e){return null===e?null:dt(e)[0]}function _t(e,t){return e?":"+e+":"+t:t}ft[ft.RAW_TEXT]="RAW_TEXT",ft[ft.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",ft[ft.PARSABLE_DATA]="PARSABLE_DATA";var Et={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},St="";Et.ngsp=St;var xt="select",Ct="link",wt="rel",Tt="href",bt="stylesheet",At="style",Pt="script",Mt="ngNonBindable",Nt="ngProjectAs";function kt(e){var t=null,r=null,n=null,i=!1,o=null;e.attrs.forEach(function(e){var s=e.name.toLowerCase();s==xt?t=e.value:s==Tt?r=e.value:s==wt?n=e.value:e.name==Mt?i=!0:e.name==Nt&&e.value.length>0&&(o=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);var s=e.name.toLowerCase(),a=It.OTHER;return mt(s)?a=It.NG_CONTENT:s==At?a=It.STYLE:s==Pt?a=It.SCRIPT:s==Ct&&n==bt&&(a=It.STYLESHEET),new Rt(a,t,r,i,o)}var It={NG_CONTENT:0,STYLE:1,STYLESHEET:2,SCRIPT:3,OTHER:4};It[It.NG_CONTENT]="NG_CONTENT",It[It.STYLE]="STYLE",It[It.STYLESHEET]="STYLESHEET",It[It.SCRIPT]="SCRIPT",It[It.OTHER]="OTHER";var Rt=function(){return function(e,t,r,n,i){this.type=e,this.selectAttr=t,this.hrefAttr=r,this.nonBindable=n,this.projectAs=i}}();var Ot=function(){function e(e,t,r,n){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=r,this._config=n,this._resourceLoaderCache=new Map}return e.prototype.clearCache=function(){this._resourceLoaderCache.clear()},e.prototype.clearCacheFor=function(e){var t=this;if(e.isComponent){var r=e.template;this._resourceLoaderCache.delete(r.templateUrl),r.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)})}},e.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},e.prototype.normalizeTemplate=function(e){var t=this;if(F(e.template)){if(F(e.templateUrl))throw j("'"+G(e.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof e.template)throw j("The template specified for component "+G(e.componentType)+" is not a string")}else{if(!F(e.templateUrl))throw j("No template specified for component "+G(e.componentType));if("string"!=typeof e.templateUrl)throw j("The templateUrl specified for component "+G(e.componentType)+" is not a string")}if(F(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw j("The preserveWhitespaces option for component "+G(e.componentType)+" must be a boolean");return H(this._preParseTemplate(e),function(r){return t._normalizeTemplateMetadata(e,r)})},e.prototype._preParseTemplate=function(e){var t,r,n=this;return null!=e.template?(t=e.template,r=e.moduleUrl):(r=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(r)),H(t,function(t){return n._preparseLoadedTemplate(e,t,r)})},e.prototype._preparseLoadedTemplate=function(e,t,r){var n=!!e.template,i=st.fromArray(e.interpolation),o=this._htmlParser.parse(t,We({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:n,templateUrl:r}),!0,i);if(o.errors.length>0)throw j("Template parse errors:\n"+o.errors.join("\n"));var s=this._normalizeStylesheet(new Oe({styles:e.styles,moduleUrl:e.moduleUrl})),a=new Dt;tt(a,o.rootNodes);var u=this._normalizeStylesheet(new Oe({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:r}));return{template:t,templateUrl:r,isInline:n,htmlAst:o,styles:s.styles.concat(u.styles),inlineStyleUrls:s.styleUrls.concat(u.styleUrls),styleUrls:this._normalizeStylesheet(new Oe({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:a.ngContentSelectors}},e.prototype._normalizeTemplateMetadata=function(e,t){var r=this;return H(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),function(n){return r._normalizeLoadedTemplateMetadata(e,t,n)})},e.prototype._normalizeLoadedTemplateMetadata=function(e,t,r){var n=this,i=t.styles.slice();this._inlineStyles(t.inlineStyleUrls,r,i);var o=t.styleUrls,s=o.map(function(e){var t=r.get(e),i=t.styles.slice();return n._inlineStyles(t.styleUrls,r,i),new Oe({moduleUrl:e,styles:i})}),a=e.encapsulation;return null==a&&(a=this._config.defaultEncapsulation),a===h.Emulated&&0===i.length&&0===o.length&&(a=h.None),new De({encapsulation:a,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:i,styleUrls:o,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:_e(e.preserveWhitespaces,this._config.preserveWhitespaces)})},e.prototype._inlineStyles=function(e,t,r){var n=this;e.forEach(function(e){var i=t.get(e);i.styles.forEach(function(e){return r.push(e)}),n._inlineStyles(i.styleUrls,t,r)})},e.prototype._loadMissingExternalStylesheets=function(e,t){var r=this;return void 0===t&&(t=new Map),H(q(e.filter(function(e){return!t.has(e)}).map(function(e){return H(r._fetch(e),function(n){var i=r._normalizeStylesheet(new Oe({styles:[n],moduleUrl:e}));return t.set(e,i),r._loadMissingExternalStylesheets(i.styleUrls,t)})})),function(e){return t})},e.prototype._normalizeStylesheet=function(e){var t=this,r=e.moduleUrl,n=e.styleUrls.filter(pt).map(function(e){return t._urlResolver.resolve(r,e)}),i=e.styles.map(function(e){var i,o,s,a,u=(i=t._urlResolver,o=r,s=[],a=e.replace(lt,"").replace(ct,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[1]||e[2];return pt(r)?(s.push(i.resolve(o,r)),""):e[0]}),new ut(a,s));return n.push.apply(n,u.styleUrls),u.style});return new Oe({styles:i,styleUrls:n,moduleUrl:r})},e}(),Dt=function(){function e(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return e.prototype.visitElement=function(e,t){var r=kt(e);switch(r.type){case It.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(r.selectAttr);break;case It.STYLE:var n="";e.children.forEach(function(e){e instanceof Ge&&(n+=e.value)}),this.styles.push(n);break;case It.STYLESHEET:this.styleUrls.push(r.hrefAttr)}return r.nonBindable&&this.ngNonBindableStackCount++,tt(this,e.children),r.nonBindable&&this.ngNonBindableStackCount--,null},e.prototype.visitExpansion=function(e,t){tt(this,e.cases)},e.prototype.visitExpansionCase=function(e,t){tt(this,e.expression)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return null},e.prototype.visitText=function(e,t){return null},e}(),Lt=[c,p,u,a],Ft=function(){function e(e){this._reflector=e}return e.prototype.isDirective=function(e){var t=this._reflector.annotations(Y(e));return t&&t.some(Vt)},e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(Y(e));if(r){var n=Bt(r,Vt);if(n){var i=this._reflector.propMetadata(e),o=this._reflector.guards(e);return this._mergeWithPropertyMetadata(n,i,o,e)}}if(t)throw new Error("No Directive annotation found on "+G(e));return null},e.prototype._mergeWithPropertyMetadata=function(e,t,r,n){var i=[],o=[],s={},a={};return Object.keys(t).forEach(function(e){var r=Bt(t[e],function(e){return m.isTypeOf(e)});r&&(r.bindingPropertyName?i.push(e+": "+r.bindingPropertyName):i.push(e));var n=Bt(t[e],function(e){return y.isTypeOf(e)});n&&(n.bindingPropertyName?o.push(e+": "+n.bindingPropertyName):o.push(e)),t[e].filter(function(e){return g.isTypeOf(e)}).forEach(function(t){if(t.hostPropertyName){var r=t.hostPropertyName[0];if("("===r)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===r)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+t.hostPropertyName+"]"]=e}else s["["+e+"]"]=e}),t[e].filter(function(e){return _.isTypeOf(e)}).forEach(function(t){var r=t.args||[];s["("+t.eventName+")"]=e+"("+r.join(",")+")"});var u=Bt(t[e],function(e){return Lt.some(function(t){return t.isTypeOf(e)})});u&&(a[e]=u)}),this._merge(e,i,o,s,a,r,n)},e.prototype._extractPublicName=function(e){return O(e,[null,e])[1].trim()},e.prototype._dedupeBindings=function(e){for(var t=new Set,r=new Set,n=[],i=e.length-1;i>=0;i--){var o=e[i],s=this._extractPublicName(o);r.add(s),t.has(s)||(t.add(s),n.push(o))}return n.reverse()},e.prototype._merge=function(e,t,r,i,o,s,a){var u=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),p=this._dedupeBindings(e.outputs?e.outputs.concat(r):r),c=e.host?n({},e.host,i):i,h=e.queries?n({},e.queries,o):o;if(d.isTypeOf(e)){var f=e;return d({selector:f.selector,inputs:u,outputs:p,host:c,exportAs:f.exportAs,moduleId:f.moduleId,queries:h,changeDetection:f.changeDetection,providers:f.providers,viewProviders:f.viewProviders,entryComponents:f.entryComponents,template:f.template,templateUrl:f.templateUrl,styles:f.styles,styleUrls:f.styleUrls,encapsulation:f.encapsulation,animations:f.animations,interpolation:f.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return l({selector:e.selector,inputs:u,outputs:p,host:c,exportAs:e.exportAs,queries:h,providers:e.providers,guards:s})},e}();function Vt(e){return l.isTypeOf(e)||d.isTypeOf(e)}function Bt(e,t){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return e[r];return null}var Ut=0,Ht=9,qt=10,jt=11,Wt=12,zt=13,Kt=32,Xt=34,Qt=36,Gt=39,Yt=43,Jt=45,$t=47,Zt=59,er=61,tr=62,rr=48,nr=57,ir=65,or=69,sr=70,ar=90,ur=95,pr=97,cr=101,lr=102,hr=110,fr=114,dr=116,vr=118,mr=122,yr=123,gr=125,_r=160,Er=96;function Sr(e){return e>=Ht&&e<=Kt||e==_r}function xr(e){return rr<=e&&e<=nr}function Cr(e){return e>=pr&&e<=mr||e>=ir&&e<=ar}var wr={Character:0,Identifier:1,Keyword:2,String:3,Operator:4,Number:5,Error:6};wr[wr.Character]="Character",wr[wr.Identifier]="Identifier",wr[wr.Keyword]="Keyword",wr[wr.String]="String",wr[wr.Operator]="Operator",wr[wr.Number]="Number",wr[wr.Error]="Error";var Tr=["var","let","as","null","undefined","true","false","if","else","this"],br=function(){function e(){}return e.prototype.tokenize=function(e){for(var t=new kr(e),r=[],n=t.scanToken();null!=n;)r.push(n),n=t.scanToken();return r},e}(),Ar=function(){function e(e,t,r,n){this.index=e,this.type=t,this.numValue=r,this.strValue=n}return e.prototype.isCharacter=function(e){return this.type==wr.Character&&this.numValue==e},e.prototype.isNumber=function(){return this.type==wr.Number},e.prototype.isString=function(){return this.type==wr.String},e.prototype.isOperator=function(e){return this.type==wr.Operator&&this.strValue==e},e.prototype.isIdentifier=function(){return this.type==wr.Identifier},e.prototype.isKeyword=function(){return this.type==wr.Keyword},e.prototype.isKeywordLet=function(){return this.type==wr.Keyword&&"let"==this.strValue},e.prototype.isKeywordAs=function(){return this.type==wr.Keyword&&"as"==this.strValue},e.prototype.isKeywordNull=function(){return this.type==wr.Keyword&&"null"==this.strValue},e.prototype.isKeywordUndefined=function(){return this.type==wr.Keyword&&"undefined"==this.strValue},e.prototype.isKeywordTrue=function(){return this.type==wr.Keyword&&"true"==this.strValue},e.prototype.isKeywordFalse=function(){return this.type==wr.Keyword&&"false"==this.strValue},e.prototype.isKeywordThis=function(){return this.type==wr.Keyword&&"this"==this.strValue},e.prototype.isError=function(){return this.type==wr.Error},e.prototype.toNumber=function(){return this.type==wr.Number?this.numValue:-1},e.prototype.toString=function(){switch(this.type){case wr.Character:case wr.Identifier:case wr.Keyword:case wr.Operator:case wr.String:case wr.Error:return this.strValue;case wr.Number:return this.numValue.toString();default:return null}},e}();function Pr(e,t){return new Ar(e,wr.Character,t,String.fromCharCode(t))}function Mr(e,t){return new Ar(e,wr.Operator,0,t)}var Nr=new Ar(-1,wr.Character,0,""),kr=function(){function e(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return e.prototype.advance=function(){this.peek=++this.index>=this.length?Ut:this.input.charCodeAt(this.index)},e.prototype.scanToken=function(){for(var e=this.input,t=this.length,r=this.peek,n=this.index;r<=Kt;){if(++n>=t){r=Ut;break}r=e.charCodeAt(n)}if(this.peek=r,this.index=n,n>=t)return null;if(Ir(r))return this.scanIdentifier();if(xr(r))return this.scanNumber(n);var i=n;switch(r){case 46:return this.advance(),xr(this.peek)?this.scanNumber(i):Pr(i,46);case 40:case 41:case yr:case gr:case 91:case 93:case 44:case 58:case Zt:return this.scanCharacter(i,r);case Gt:case Xt:return this.scanString();case 35:case Yt:case Jt:case 42:case $t:case 37:case 94:return this.scanOperator(i,String.fromCharCode(r));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case tr:return this.scanComplexOperator(i,String.fromCharCode(r),er,"=");case 33:case er:return this.scanComplexOperator(i,String.fromCharCode(r),er,"=",er,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case _r:for(;Sr(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(r)+"]",0)},e.prototype.scanCharacter=function(e,t){return this.advance(),Pr(e,t)},e.prototype.scanOperator=function(e,t){return this.advance(),Mr(e,t)},e.prototype.scanComplexOperator=function(e,t,r,n,i,o){this.advance();var s=t;return this.peek==r&&(this.advance(),s+=n),null!=i&&this.peek==i&&(this.advance(),s+=o),Mr(e,s)},e.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();Or(this.peek);)this.advance();var t,r,n=this.input.substring(e,this.index);return Tr.indexOf(n)>-1?(r=n,new Ar(e,wr.Keyword,0,r)):(t=n,new Ar(e,wr.Identifier,0,t))},e.prototype.scanNumber=function(e){var t,r,n=this.index===e;for(this.advance();;){if(xr(this.peek));else if(46==this.peek)n=!1;else{if((r=this.peek)!=cr&&r!=or)break;if(this.advance(),((t=this.peek)==Jt||t==Yt)&&this.advance(),!xr(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var i,o=this.input.substring(e,this.index),s=n?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(o):parseFloat(o);return i=s,new Ar(e,wr.Number,i,"")},e.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var r="",n=this.index,i=this.input;this.peek!=t;)if(92==this.peek){r+=i.substring(n,this.index),this.advance();var o=void 0;if(this.peek=this.peek,117==this.peek){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=Lr(this.peek),this.advance();r+=String.fromCharCode(o),n=this.index}else{if(this.peek==Ut)return this.error("Unterminated quote",0);this.advance()}var u,p=i.substring(n,this.index);return this.advance(),u=r+p,new Ar(e,wr.String,0,u)},e.prototype.error=function(e,t){var r,n,i=this.index+t;return r=i,n="Lexer Error: "+e+" at column "+i+" in expression ["+this.input+"]",new Ar(r,wr.Error,0,n)},e}();function Ir(e){return pr<=e&&e<=mr||ir<=e&&e<=ar||e==ur||e==Qt}function Rr(e){if(0==e.length)return!1;var t=new kr(e);if(!Ir(t.peek))return!1;for(t.advance();t.peek!==Ut;){if(!Or(t.peek))return!1;t.advance()}return!0}function Or(e){return Cr(e)||xr(e)||e==ur||e==Qt}function Dr(e){return e===Gt||e===Xt||e===Er}function Lr(e){switch(e){case hr:return qt;case lr:return Wt;case fr:return zt;case dr:return Ht;case vr:return jt;default:return e}}var Fr=function(){return function(e,t,r,n){this.input=t,this.errLocation=r,this.ctxLocation=n,this.message="Parser Error: "+e+" "+r+" ["+t+"] in "+n}}(),Vr=function(){return function(e,t){this.start=e,this.end=t}}(),Br=function(){function e(e){this.span=e}return e.prototype.visit=function(e,t){return void 0===t&&(t=null),null},e.prototype.toString=function(){return"AST"},e}(),Ur=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.prefix=r,o.uninterpretedExpression=n,o.location=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},t.prototype.toString=function(){return"Quote"},t}(Br),Hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.visit=function(e,t){void 0===t&&(t=null)},t}(Br),qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},t}(Br),jr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.expressions=r,n}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},t}(Br),Wr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.condition=r,o.trueExp=n,o.falseExp=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},t}(Br),zr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.receiver=r,i.name=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},t}(Br),Kr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.receiver=r,o.name=n,o.value=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},t}(Br),Xr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.receiver=r,i.name=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},t}(Br),Qr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.obj=r,i.key=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},t}(Br),Gr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.obj=r,o.key=n,o.value=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},t}(Br),Yr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.exp=r,o.name=n,o.args=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},t}(Br),Jr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},t}(Br),$r=function(e){function t(t,r){var n=e.call(this,t)||this;return n.expressions=r,n}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},t}(Br),Zr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keys=r,i.values=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},t}(Br),en=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.strings=r,i.expressions=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},t}(Br),tn=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.operation=r,o.left=n,o.right=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},t}(Br),rn=function(e){function t(t,r){var n=e.call(this,t)||this;return n.expression=r,n}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},t}(Br),nn=function(e){function t(t,r){var n=e.call(this,t)||this;return n.expression=r,n}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitNonNullAssert(this,t)},t}(Br),on=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.receiver=r,o.name=n,o.args=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},t}(Br),sn=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.receiver=r,o.name=n,o.args=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},t}(Br),an=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.target=r,i.args=n,i}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},t}(Br),un=function(e){function t(t,r,n,i){var o=e.call(this,new Vr(0,null==r?0:r.length))||this;return o.ast=t,o.source=r,o.location=n,o.errors=i,o}return r(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},t.prototype.toString=function(){return this.source+" in "+this.location},t}(Br),pn=function(){return function(e,t,r,n,i){this.span=e,this.key=t,this.keyIsVar=r,this.name=n,this.expression=i}}(),cn=function(){function e(){}return e.prototype.visitBinary=function(e,t){},e.prototype.visitChain=function(e,t){},e.prototype.visitConditional=function(e,t){},e.prototype.visitFunctionCall=function(e,t){},e.prototype.visitImplicitReceiver=function(e,t){},e.prototype.visitInterpolation=function(e,t){},e.prototype.visitKeyedRead=function(e,t){},e.prototype.visitKeyedWrite=function(e,t){},e.prototype.visitLiteralArray=function(e,t){},e.prototype.visitLiteralMap=function(e,t){},e.prototype.visitLiteralPrimitive=function(e,t){},e.prototype.visitMethodCall=function(e,t){},e.prototype.visitPipe=function(e,t){},e.prototype.visitPrefixNot=function(e,t){},e.prototype.visitNonNullAssert=function(e,t){},e.prototype.visitPropertyRead=function(e,t){},e.prototype.visitPropertyWrite=function(e,t){},e.prototype.visitQuote=function(e,t){},e.prototype.visitSafeMethodCall=function(e,t){},e.prototype.visitSafePropertyRead=function(e,t){},e}(),ln=function(){function e(){}return e.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},e.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},e.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},e.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},e.prototype.visitImplicitReceiver=function(e,t){return null},e.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},e.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},e.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},e.prototype.visitLiteralPrimitive=function(e,t){return null},e.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},e.prototype.visitNonNullAssert=function(e,t){return e.expression.visit(this),null},e.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},e.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitAll=function(e,t){var r=this;return e.forEach(function(e){return e.visit(r,t)}),null},e.prototype.visitQuote=function(e,t){return null},e}(),hn=function(){function e(){}return e.prototype.visitImplicitReceiver=function(e,t){return e},e.prototype.visitInterpolation=function(e,t){return new en(e.span,e.strings,this.visitAll(e.expressions))},e.prototype.visitLiteralPrimitive=function(e,t){return new Jr(e.span,e.value)},e.prototype.visitPropertyRead=function(e,t){return new zr(e.span,e.receiver.visit(this),e.name)},e.prototype.visitPropertyWrite=function(e,t){return new Kr(e.span,e.receiver.visit(this),e.name,e.value.visit(this))},e.prototype.visitSafePropertyRead=function(e,t){return new Xr(e.span,e.receiver.visit(this),e.name)},e.prototype.visitMethodCall=function(e,t){return new on(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))},e.prototype.visitSafeMethodCall=function(e,t){return new sn(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))},e.prototype.visitFunctionCall=function(e,t){return new an(e.span,e.target.visit(this),this.visitAll(e.args))},e.prototype.visitLiteralArray=function(e,t){return new $r(e.span,this.visitAll(e.expressions))},e.prototype.visitLiteralMap=function(e,t){return new Zr(e.span,e.keys,this.visitAll(e.values))},e.prototype.visitBinary=function(e,t){return new tn(e.span,e.operation,e.left.visit(this),e.right.visit(this))},e.prototype.visitPrefixNot=function(e,t){return new rn(e.span,e.expression.visit(this))},e.prototype.visitNonNullAssert=function(e,t){return new nn(e.span,e.expression.visit(this))},e.prototype.visitConditional=function(e,t){return new Wr(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},e.prototype.visitPipe=function(e,t){return new Yr(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))},e.prototype.visitKeyedRead=function(e,t){return new Qr(e.span,e.obj.visit(this),e.key.visit(this))},e.prototype.visitKeyedWrite=function(e,t){return new Gr(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))},e.prototype.visitAll=function(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r].visit(this);return t},e.prototype.visitChain=function(e,t){return new jr(e.span,this.visitAll(e.expressions))},e.prototype.visitQuote=function(e,t){return new Ur(e.span,e.prefix,e.uninterpretedExpression,e.location)},e}();var fn=function(){return function(e,t,r){this.strings=e,this.expressions=t,this.offsets=r}}(),dn=function(){return function(e,t,r){this.templateBindings=e,this.warnings=t,this.errors=r}}();function vn(e){var t=K(e.start)+"([\\s\\S]*?)"+K(e.end);return new RegExp(t,"g")}var mn=function(){function e(e){this._lexer=e,this.errors=[]}return e.prototype.parseAction=function(e,t,r){void 0===r&&(r=at),this._checkNoInterpolation(e,t,r);var n=this._stripComments(e),i=this._lexer.tokenize(this._stripComments(e)),o=new yn(e,t,i,n.length,!0,this.errors,e.length-n.length).parseChain();return new un(o,e,t,this.errors)},e.prototype.parseBinding=function(e,t,r){void 0===r&&(r=at);var n=this._parseBindingAst(e,t,r);return new un(n,e,t,this.errors)},e.prototype.parseSimpleBinding=function(e,t,r){void 0===r&&(r=at);var n=this._parseBindingAst(e,t,r),i=gn.check(n);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),e,t),new un(n,e,t,this.errors)},e.prototype._reportError=function(e,t,r,n){this.errors.push(new Fr(e,t,r,n))},e.prototype._parseBindingAst=function(e,t,r){var n=this._parseQuote(e,t);if(null!=n)return n;this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),o=this._lexer.tokenize(i);return new yn(e,t,o,i.length,!1,this.errors,e.length-i.length).parseChain()},e.prototype._parseQuote=function(e,t){if(null==e)return null;var r=e.indexOf(":");if(-1==r)return null;var n=e.substring(0,r).trim();if(!Rr(n))return null;var i=e.substring(r+1);return new Ur(new Vr(0,e.length),n,i,t)},e.prototype.parseTemplateBindings=function(e,t,r){var n=this._lexer.tokenize(t);if(e){var i=this._lexer.tokenize(e).map(function(e){return e.index=0,e});n.unshift.apply(n,i)}return new yn(t,r,n,t.length,!1,this.errors,0).parseTemplateBindings()},e.prototype.parseInterpolation=function(e,t,r){void 0===r&&(r=at);var n=this.splitInterpolation(e,t,r);if(null==n)return null;for(var i=[],o=0;o<n.expressions.length;++o){var s=n.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(a),p=new yn(e,t,u,a.length,!1,this.errors,n.offsets[o]+(s.length-a.length)).parseChain();i.push(p)}return new un(new en(new Vr(0,null==e?0:e.length),n.strings,i),e,t,this.errors)},e.prototype.splitInterpolation=function(e,t,r){void 0===r&&(r=at);var n=vn(r),i=e.split(n);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,p=0;p<i.length;p++){var c=i[p];p%2==0?(o.push(c),u+=c.length):c.trim().length>0?(u+=r.start.length,s.push(c),a.push(u),u+=c.length+r.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(i,p,r)+" in",t),s.push("$implict"),a.push(u))}return new fn(o,s,a)},e.prototype.wrapLiteralPrimitive=function(e,t){return new un(new Jr(new Vr(0,null==e?0:e.length),e),e,t,this.errors)},e.prototype._stripComments=function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e},e.prototype._commentStart=function(e){for(var t=null,r=0;r<e.length-1;r++){var n=e.charCodeAt(r),i=e.charCodeAt(r+1);if(n===$t&&i==$t&&null==t)return r;t===n?t=null:null==t&&Dr(n)&&(t=n)}return null},e.prototype._checkNoInterpolation=function(e,t,r){var n=vn(r),i=e.split(n);i.length>1&&this._reportError("Got interpolation ("+r.start+r.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(i,1,r)+" in",t)},e.prototype._findInterpolationErrorColumn=function(e,t,r){for(var n="",i=0;i<t;i++)n+=i%2==0?e[i]:""+r.start+e[i]+r.end;return n.length},e}(),yn=function(){function e(e,t,r,n,i,o,s){this.input=e,this.location=t,this.tokens=r,this.inputLength=n,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return e.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:Nr},Object.defineProperty(e.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),e.prototype.span=function(e){return new Vr(e,this.inputIndex)},e.prototype.advance=function(){this.index++},e.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},e.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},e.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},e.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))},e.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},e.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},e.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},e.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},e.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var r=this.parsePipe();if(e.push(r),this.optionalCharacter(Zt))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Zt););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new Hr(this.span(t)):1==e.length?e[0]:new jr(this.span(t),e)},e.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),r=[];this.optionalCharacter(58);)r.push(this.parseExpression());e=new Yr(this.span(e.span.start),e,t,r)}while(this.optionalOperator("|"))}return e},e.prototype.parseExpression=function(){return this.parseConditional()},e.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe(),n=void 0;if(this.optionalCharacter(58))n=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(e,i);this.error("Conditional expression "+o+" requires all 3 expressions"),n=new Hr(this.span(e))}return new Wr(this.span(e),t,r,n)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new tn(this.span(e.span.start),"||",e,t)}return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new tn(this.span(e.span.start),"&&",e,t)}return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational();this.next.type==wr.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var r=this.parseRelational();e=new tn(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseRelational=function(){for(var e=this.parseAdditive();this.next.type==wr.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var r=this.parseAdditive();e=new tn(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();this.next.type==wr.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var r=this.parseMultiplicative();e=new tn(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();this.next.type==wr.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var r=this.parsePrefix();e=new tn(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parsePrefix=function(){if(this.next.type==wr.Operator){var e=this.inputIndex,t=this.next.strValue,r=void 0;switch(t){case"+":return this.advance(),r=this.parsePrefix(),new tn(this.span(e),"-",r,new Jr(new Vr(e,e),0));case"-":return this.advance(),r=this.parsePrefix(),new tn(this.span(e),t,new Jr(new Vr(e,e),0),r);case"!":return this.advance(),r=this.parsePrefix(),new rn(this.span(e),r)}}return this.parseCallChain()},e.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var r=this.parseConditional();e=new Gr(this.span(e.span.start),e,t,r)}else e=new Qr(this.span(e.span.start),e,t)}else if(this.optionalCharacter(40)){this.rparensExpected++;var n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new an(this.span(e.span.start),e,n)}else{if(!this.optionalOperator("!"))return e;e=new nn(this.span(e.span.start),e)}},e.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new Jr(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Jr(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Jr(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Jr(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new qr(this.span(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;var r=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new $r(this.span(e),r)}if(this.next.isCharacter(yr))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new qr(this.span(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new Jr(this.span(e),n)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new Jr(this.span(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Hr(this.span(e))):(this.error("Unexpected token "+this.next),new Hr(this.span(e)))},e.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t},e.prototype.parseLiteralMap=function(){var e=[],t=[],r=this.inputIndex;if(this.expectCharacter(yr),!this.optionalCharacter(gr)){this.rbracesExpected++;do{var n=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();e.push({key:i,quoted:n}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(gr)}return new Zr(this.span(r),e,t)},e.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var r=e.span.start,n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(r);return t?new sn(o,e,n,i):new on(o,e,n,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Hr(this.span(r))):new Xr(this.span(r),e,n);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Hr(this.span(r));var s=this.parseConditional();return new Kr(this.span(r),e,n,s)}return new zr(this.span(r),e,n)},e.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e},e.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-")}while(t);return e.toString()},e.prototype.parseTemplateBindings=function(){for(var e=[],t=null;this.index<this.tokens.length;){var r=this.inputIndex,n=this.peekKeywordLet();n&&this.advance();var i=this.expectTemplateBindingKey(),o=i;n||(null==t?t=o:o=t+o[0].toUpperCase()+o.substring(1)),this.optionalCharacter(58);var s=null,a=null;if(n)s=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs()){var u=this.inputIndex;this.advance(),s=i,o=this.expectTemplateBindingKey(),n=!0}else if(this.next!==Nr&&!this.peekKeywordLet()){var p=this.inputIndex,c=this.parsePipe(),l=this.input.substring(p-this.offset,this.inputIndex-this.offset);a=new un(c,l,this.location,this.errors)}if(e.push(new pn(this.span(r),o,n,s,a)),this.peekKeywordAs()&&!n){u=this.inputIndex;this.advance();var h=this.expectTemplateBindingKey();e.push(new pn(this.span(u),h,!0,o,null))}this.optionalCharacter(Zt)||this.optionalCharacter(44)}return new dn(e,[],this.errors)},e.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new Fr(e,this.input,this.locationText(t),this.location)),this.skip()},e.prototype.locationText=function(e){return void 0===e&&(e=null),null==e&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},e.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(Zt)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(gr))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new Fr(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},e}(),gn=function(){function e(){this.errors=[]}return e.check=function(t){var r=new e;return t.visit(r),r.errors},e.prototype.visitImplicitReceiver=function(e,t){},e.prototype.visitInterpolation=function(e,t){},e.prototype.visitLiteralPrimitive=function(e,t){},e.prototype.visitPropertyRead=function(e,t){},e.prototype.visitPropertyWrite=function(e,t){},e.prototype.visitSafePropertyRead=function(e,t){},e.prototype.visitMethodCall=function(e,t){},e.prototype.visitSafeMethodCall=function(e,t){},e.prototype.visitFunctionCall=function(e,t){},e.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},e.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},e.prototype.visitBinary=function(e,t){},e.prototype.visitPrefixNot=function(e,t){},e.prototype.visitNonNullAssert=function(e,t){},e.prototype.visitConditional=function(e,t){},e.prototype.visitPipe=function(e,t){this.errors.push("pipes")},e.prototype.visitKeyedRead=function(e,t){},e.prototype.visitKeyedWrite=function(e,t){},e.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},e.prototype.visitChain=function(e,t){},e.prototype.visitQuote=function(e,t){},e}(),_n=function(){function e(e,t,r,n){this.file=e,this.offset=t,this.line=r,this.col=n}return e.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},e.prototype.moveBy=function(t){for(var r=this.file.content,n=r.length,i=this.offset,o=this.line,s=this.col;i>0&&t<0;){if(i--,t++,(u=r.charCodeAt(i))==qt){o--;var a=r.substr(0,i-1).lastIndexOf(String.fromCharCode(qt));s=a>0?i-a:i}else s--}for(;i<n&&t>0;){var u=r.charCodeAt(i);i++,t--,u==qt?(o++,s=0):s++}return new e(this.file,i,o,s)},e.prototype.getContext=function(e,t){var r=this.file.content,n=this.offset;if(null!=n){n>r.length-1&&(n=r.length-1);for(var i=n,o=0,s=0;o<e&&n>0&&(o++,"\n"!=r[--n]||++s!=t););for(o=0,s=0;o<e&&i<r.length-1&&(o++,"\n"!=r[++i]||++s!=t););return{before:r.substring(n,this.offset),after:r.substring(this.offset,i+1)}}return null},e}(),En=function(){return function(e,t){this.content=e,this.url=t}}(),Sn=function(){function e(e,t,r){void 0===r&&(r=null),this.start=e,this.end=t,this.details=r}return e.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},e}(),xn={WARNING:0,ERROR:1};xn[xn.WARNING]="WARNING",xn[xn.ERROR]="ERROR";var Cn=function(){function e(e,t,r){void 0===r&&(r=xn.ERROR),this.span=e,this.msg=t,this.level=r}return e.prototype.contextualMessage=function(){var e=this.span.start.getContext(100,3);return e?this.msg+' ("'+e.before+"["+xn[this.level]+" ->]"+e.after+'")':this.msg},e.prototype.toString=function(){var e=this.span.details?", "+this.span.details:"";return this.contextualMessage()+": "+this.span.start+e},e}();function wn(e,t){var r=be(t),n=null!=r?"in "+e+" "+Te(t)+" in "+r:"in "+e+" "+Te(t),i=new En("",n);return new Sn(new _n(i,-1,-1,-1),new _n(i,-1,-1,-1))}var Tn={TAG_OPEN_START:0,TAG_OPEN_END:1,TAG_OPEN_END_VOID:2,TAG_CLOSE:3,TEXT:4,ESCAPABLE_RAW_TEXT:5,RAW_TEXT:6,COMMENT_START:7,COMMENT_END:8,CDATA_START:9,CDATA_END:10,ATTR_NAME:11,ATTR_VALUE:12,DOC_TYPE:13,EXPANSION_FORM_START:14,EXPANSION_CASE_VALUE:15,EXPANSION_CASE_EXP_START:16,EXPANSION_CASE_EXP_END:17,EXPANSION_FORM_END:18,EOF:19};Tn[Tn.TAG_OPEN_START]="TAG_OPEN_START",Tn[Tn.TAG_OPEN_END]="TAG_OPEN_END",Tn[Tn.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",Tn[Tn.TAG_CLOSE]="TAG_CLOSE",Tn[Tn.TEXT]="TEXT",Tn[Tn.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",Tn[Tn.RAW_TEXT]="RAW_TEXT",Tn[Tn.COMMENT_START]="COMMENT_START",Tn[Tn.COMMENT_END]="COMMENT_END",Tn[Tn.CDATA_START]="CDATA_START",Tn[Tn.CDATA_END]="CDATA_END",Tn[Tn.ATTR_NAME]="ATTR_NAME",Tn[Tn.ATTR_VALUE]="ATTR_VALUE",Tn[Tn.DOC_TYPE]="DOC_TYPE",Tn[Tn.EXPANSION_FORM_START]="EXPANSION_FORM_START",Tn[Tn.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",Tn[Tn.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",Tn[Tn.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",Tn[Tn.EXPANSION_FORM_END]="EXPANSION_FORM_END",Tn[Tn.EOF]="EOF";var bn=function(){return function(e,t,r){this.type=e,this.parts=t,this.sourceSpan=r}}(),An=function(e){function t(t,r,n){var i=e.call(this,n,t)||this;return i.tokenType=r,i}return r(t,e),t}(Cn),Pn=function(){return function(e,t){this.tokens=e,this.errors=t}}();var Mn=/\r\n?/g;function Nn(e){return'Unexpected character "'+(e===Ut?"EOF":String.fromCharCode(e))+'"'}function kn(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}var In=function(){return function(e){this.error=e}}(),Rn=function(){function e(e,t,r,n){void 0===n&&(n=at),this._file=e,this._getTagDefinition=t,this._tokenizeIcu=r,this._interpolationConfig=n,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return e.prototype._processCarriageReturns=function(e){return e.replace(Mn,"\n")},e.prototype.tokenize=function(){for(;this._peek!==Ut;){var e=this._getLocation();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(Jt)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode($t)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){if(!(e instanceof In))throw e;this.errors.push(e.error)}}return this._beginToken(Tn.EOF),this._endToken([]),new Pn(function(e){for(var t=[],r=void 0,n=0;n<e.length;n++){var i=e[n];r&&r.type==Tn.TEXT&&i.type==Tn.TEXT?(r.parts[0]+=i.parts[0],r.sourceSpan.end=i.sourceSpan.end):(r=i,t.push(r))}return t}(this.tokens),this.errors)},e.prototype._tokenizeExpansionForm=function(){if(Vn(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(((e=this._peek)===er||Cr(e)||xr(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(this._peek===gr){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},e.prototype._getLocation=function(){return new _n(this._file,this._index,this._line,this._column)},e.prototype._getSpan=function(e,t){return void 0===e&&(e=this._getLocation()),void 0===t&&(t=this._getLocation()),new Sn(e,t)},e.prototype._beginToken=function(e,t){void 0===t&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},e.prototype._endToken=function(e,t){void 0===t&&(t=this._getLocation());var r=new bn(this._currentTokenType,e,new Sn(this._currentTokenStart,t));return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r},e.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var r=new An(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new In(r)},e.prototype._advance=function(){if(this._index>=this._length)throw this._createError(Nn(Ut),this._getSpan());this._peek===qt?(this._line++,this._column=0):this._peek!==qt&&this._peek!==zt&&this._column++,this._index++,this._peek=this._index>=this._length?Ut:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?Ut:this._input.charCodeAt(this._index+1)},e.prototype._attemptCharCode=function(e){return this._peek===e&&(this._advance(),!0)},e.prototype._attemptCharCodeCaseInsensitive=function(e){return t=this._peek,r=e,Bn(t)==Bn(r)&&(this._advance(),!0);var t,r},e.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(Nn(this._peek),this._getSpan(t,t))},e.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var r=this._savePosition(),n=0;n<t;n++)if(!this._attemptCharCode(e.charCodeAt(n)))return this._restorePosition(r),!1;return!0},e.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},e.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(Nn(this._peek),this._getSpan(t))},e.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},e.prototype._requireCharCodeUntilFn=function(e,t){var r=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-r.offset<t)throw this._createError(Nn(this._peek),this._getSpan(r,r))},e.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},e.prototype._readChar=function(e){if(e&&38===this._peek)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},e.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(35)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(Fn),this._peek!=Zt)return this._restorePosition(t),"&";this._advance();var r=this._input.substring(e.offset+1,this._index-1),n=Et[r];if(!n)throw this._createError(kn(r),this._getSpan(e));return n}var i=this._attemptCharCode(120)||this._attemptCharCode(88),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(Ln),this._peek!=Zt)throw this._createError(Nn(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(t){var u=this._input.substring(e.offset+1,this._index-1);throw this._createError(kn(u),this._getSpan(e))}},e.prototype._consumeRawText=function(e,t,r){var n,i=this._getLocation();this._beginToken(e?Tn.ESCAPABLE_RAW_TEXT:Tn.RAW_TEXT,i);for(var o=[];n=this._getLocation(),!this._attemptCharCode(t)||!r();)for(this._index>n.offset&&o.push(this._input.substring(n.offset,this._index));this._peek!==t;)o.push(this._readChar(e));return this._endToken([this._processCarriageReturns(o.join(""))],n)},e.prototype._consumeComment=function(e){var t=this;this._beginToken(Tn.COMMENT_START,e),this._requireCharCode(Jt),this._endToken([]);var r=this._consumeRawText(!1,Jt,function(){return t._attemptStr("->")});this._beginToken(Tn.COMMENT_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeCdata=function(e){var t=this;this._beginToken(Tn.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var r=this._consumeRawText(!1,93,function(){return t._attemptStr("]>")});this._beginToken(Tn.CDATA_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeDocType=function(e){this._beginToken(Tn.DOC_TYPE,e),this._attemptUntilChar(tr),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},e.prototype._consumePrefixAndName=function(){for(var e,t,r=this._index,n=null;58!==this._peek&&!(((e=this._peek)<pr||mr<e)&&(e<ir||ar<e)&&(e<rr||e>nr));)this._advance();return 58===this._peek?(this._advance(),n=this._input.substring(r,this._index-1),t=this._index):t=r,this._requireCharCodeUntilFn(Dn,this._index===t?1:0),[n,this._input.substring(t,this._index)]},e.prototype._consumeTagOpen=function(e){var t,r,n=this._savePosition();try{if(!Cr(this._peek))throw this._createError(Nn(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(e),r=(t=this._input.substring(i,this._index)).toLowerCase(),this._attemptCharCodeUntilFn(On);this._peek!==$t&&this._peek!==tr;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(On),this._attemptCharCode(er)&&(this._attemptCharCodeUntilFn(On),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(On);this._consumeTagOpenEnd()}catch(t){if(t instanceof In)return this._restorePosition(n),this._beginToken(Tn.TEXT,e),void this._endToken(["<"]);throw t}var o=this._getTagDefinition(t).contentType;o===ft.RAW_TEXT?this._consumeRawTextWithTagClose(r,!1):o===ft.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,!0)},e.prototype._consumeRawTextWithTagClose=function(e,t){var r=this,n=this._consumeRawText(t,60,function(){return!!r._attemptCharCode($t)&&(r._attemptCharCodeUntilFn(On),!!r._attemptStrCaseInsensitive(e)&&(r._attemptCharCodeUntilFn(On),r._attemptCharCode(tr)))});this._beginToken(Tn.TAG_CLOSE,n.sourceSpan.end),this._endToken([null,e])},e.prototype._consumeTagOpenStart=function(e){this._beginToken(Tn.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},e.prototype._consumeAttributeName=function(){this._beginToken(Tn.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},e.prototype._consumeAttributeValue=function(){var e;if(this._beginToken(Tn.ATTR_VALUE),this._peek===Gt||this._peek===Xt){var t=this._peek;this._advance();for(var r=[];this._peek!==t;)r.push(this._readChar(!0));e=r.join(""),this._advance()}else{var n=this._index;this._requireCharCodeUntilFn(Dn,1),e=this._input.substring(n,this._index)}this._endToken([this._processCarriageReturns(e)])},e.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode($t)?Tn.TAG_OPEN_END_VOID:Tn.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(tr),this._endToken([])},e.prototype._consumeTagClose=function(e){this._beginToken(Tn.TAG_CLOSE,e),this._attemptCharCodeUntilFn(On);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(On),this._requireCharCode(tr),this._endToken(t)},e.prototype._consumeExpansionFormStart=function(){this._beginToken(Tn.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(yr),this._endToken([]),this._expansionCaseStack.push(Tn.EXPANSION_FORM_START),this._beginToken(Tn.RAW_TEXT,this._getLocation());var e=this._readUntil(44);this._endToken([e],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(On),this._beginToken(Tn.RAW_TEXT,this._getLocation());var t=this._readUntil(44);this._endToken([t],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(On)},e.prototype._consumeExpansionCaseStart=function(){this._beginToken(Tn.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil(yr).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(On),this._beginToken(Tn.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(yr),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(On),this._expansionCaseStack.push(Tn.EXPANSION_CASE_EXP_START)},e.prototype._consumeExpansionCaseEnd=function(){this._beginToken(Tn.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(gr),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(On),this._expansionCaseStack.pop()},e.prototype._consumeExpansionFormEnd=function(){this._beginToken(Tn.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(gr),this._endToken([]),this._expansionCaseStack.pop()},e.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(Tn.TEXT,e);var t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},e.prototype._isTextEnd=function(){if(60===this._peek||this._peek===Ut)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(Vn(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===gr&&this._isInExpansionCase())return!0}return!1},e.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},e.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},e.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},e.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Tn.EXPANSION_CASE_EXP_START},e.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Tn.EXPANSION_FORM_START},e}();function On(e){return!Sr(e)||e===Ut}function Dn(e){return Sr(e)||e===tr||e===$t||e===Gt||e===Xt||e===er}function Ln(e){return e==Zt||e==Ut||!((t=e)>=pr&&t<=lr||t>=ir&&t<=sr||xr(t));var t}function Fn(e){return e==Zt||e==Ut||!Cr(e)}function Vn(e,t,r){var n=!!r&&e.indexOf(r.start,t)==t;return e.charCodeAt(t)==yr&&!n}function Bn(e){return e>=pr&&e<=mr?e-pr+ir:e}var Un=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.elementName=t,i}return r(t,e),t.create=function(e,r,n){return new t(e,r,n)},t}(Cn),Hn=function(){return function(e,t){this.rootNodes=e,this.errors=t}}(),qn=function(){function e(e){this.getTagDefinition=e}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=at);var i,o,s,a,u,p=(i=e,o=t,s=this.getTagDefinition,u=n,void 0===(a=r)&&(a=!1),void 0===u&&(u=at),new Rn(new En(i,o),s,a,u).tokenize()),c=new jn(p.tokens,this.getTagDefinition).build();return new Hn(c.rootNodes,p.errors.concat(c.errors))},e}(),jn=function(){function e(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return e.prototype.build=function(){for(;this._peek.type!==Tn.EOF;)this._peek.type===Tn.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Tn.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Tn.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Tn.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Tn.TEXT||this._peek.type===Tn.RAW_TEXT||this._peek.type===Tn.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Tn.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Hn(this._rootNodes,this._errors)},e.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},e.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},e.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(Tn.CDATA_END)},e.prototype._consumeComment=function(e){var t=this._advanceIf(Tn.RAW_TEXT);this._advanceIf(Tn.COMMENT_END);var r=null!=t?t.parts[0].trim():null;this._addToParent(new et(r,e.sourceSpan))},e.prototype._consumeExpansion=function(e){for(var t=this._advance(),r=this._advance(),n=[];this._peek.type===Tn.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;n.push(i)}if(this._peek.type===Tn.EXPANSION_FORM_END){var o=new Sn(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Ye(t.parts[0],r.parts[0],n,o,t.sourceSpan)),this._advance()}else this._errors.push(Un.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))},e.prototype._parseExpansionCase=function(){var t=this._advance();if(this._peek.type!==Tn.EXPANSION_CASE_EXP_START)return this._errors.push(Un.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var r=this._advance(),n=this._collectExpansionExpTokens(r);if(!n)return null;var i=this._advance();n.push(new bn(Tn.EOF,[],i.sourceSpan));var o=new e(n,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new Sn(t.sourceSpan.start,i.sourceSpan.end),a=new Sn(r.sourceSpan.start,i.sourceSpan.end);return new Je(t.parts[0],o.rootNodes,s,t.sourceSpan,a)},e.prototype._collectExpansionExpTokens=function(e){for(var t=[],r=[Tn.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Tn.EXPANSION_FORM_START&&this._peek.type!==Tn.EXPANSION_CASE_EXP_START||r.push(this._peek.type),this._peek.type===Tn.EXPANSION_CASE_EXP_END){if(!Wn(r,Tn.EXPANSION_CASE_EXP_START))return this._errors.push(Un.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(r.pop(),0==r.length)return t}if(this._peek.type===Tn.EXPANSION_FORM_END){if(!Wn(r,Tn.EXPANSION_FORM_START))return this._errors.push(Un.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;r.pop()}if(this._peek.type===Tn.EOF)return this._errors.push(Un.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},e.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var r=this._getParentElement();null!=r&&0==r.children.length&&this.getTagDefinition(r.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Ge(t,e.sourceSpan))},e.prototype._closeVoidElement=function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()},e.prototype._consumeStartTag=function(e){for(var t=e.parts[0],r=e.parts[1],n=[];this._peek.type===Tn.ATTR_NAME;)n.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,r,this._getParentElement()),o=!1;if(this._peek.type===Tn.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==gt(i)||s.isVoid||this._errors.push(Un.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))}else this._peek.type===Tn.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new Sn(e.sourceSpan.start,a),p=new Ze(i,n,[],u,u,void 0);this._pushElement(p),o&&(this._popElement(i),p.endSourceSpan=u)},e.prototype._pushElement=function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop();var r=this.getTagDefinition(e.name),n=this._getParentElementSkippingContainers(),i=n.parent,o=n.container;if(i&&r.requireExtraParent(i.name)){var s=new Ze(r.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(e),this._elementStack.push(e)},e.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid)this._errors.push(Un.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"'));else if(!this._popElement(t)){var r='Unexpected closing tag "'+t+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(Un.create(t,e.sourceSpan,r))}},e.prototype._popElement=function(e){for(var t=this._elementStack.length-1;t>=0;t--){var r=this._elementStack[t];if(r.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1},e.prototype._consumeAttr=function(e){var t=_t(e.parts[0],e.parts[1]),r=e.sourceSpan.end,n="",i=void 0;if(this._peek.type===Tn.ATTR_VALUE){var o=this._advance();n=o.parts[0],r=o.sourceSpan.end,i=o.sourceSpan}return new $e(t,n,new Sn(e.sourceSpan.start,r),i)},e.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},e.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;t>=0;t--){if(!vt(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}},e.prototype._addToParent=function(e){var t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)},e.prototype._insertBeforeContainer=function(e,t,r){if(t){if(e){var n=e.children.indexOf(t);e.children[n]=r}else this._rootNodes.push(r);r.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,r)}else this._addToParent(r),this._elementStack.push(r)},e.prototype._getElementFullName=function(e,t,r){return null==e&&null==(e=this.getTagDefinition(t).implicitNamespacePrefix)&&null!=r&&(e=gt(r.name)),_t(e,t)},e}();function Wn(e,t){return e.length>0&&e[e.length-1]===t}function zn(e){return e.id||function(e){var t,r,n=Q(e),i=function(e,t){for(var r=Array(e.length+3>>>2),n=0;n<r.length;n++)r[n]=si(e,4*n,t);return r}(n,ei.Big),o=8*n.length,s=new Array(80),a=[1732584193,4023233417,2562383102,271733878,3285377520],u=a[0],p=a[1],c=a[2],l=a[3],h=a[4];i[o>>5]|=128<<24-o%32,i[15+(o+64>>9<<4)]=o;for(var f=0;f<i.length;f+=16){for(var d=[u,p,c,l,h],v=d[0],m=d[1],y=d[2],g=d[3],_=d[4],E=0;E<80;E++){s[E]=E<16?i[f+E]:ii(s[E-3]^s[E-8]^s[E-14]^s[E-16],1);var S=Yn(E,p,c,l),x=S[0],C=S[1],w=[ii(u,5),x,h,C,s[E]].reduce(ti);t=[l,c,ii(p,30),u,w],h=t[0],l=t[1],c=t[2],p=t[3],u=t[4]}r=[ti(u,v),ti(p,m),ti(c,y),ti(l,g),ti(h,_)],u=r[0],p=r[1],c=r[2],l=r[3],h=r[4]}return function(e){for(var t="",r=0;r<e.length;r++){var n=oi(e,r);t+=(n>>>4).toString(16)+(15&n).toString(16)}return t.toLowerCase()}(ai([u,p,c,l,h]))}((t=e.nodes,t.map(function(e){return e.visit(Qn,null)})).join("")+"["+e.meaning+"]");var t}function Kn(e){if(e.id)return e.id;var t=new Gn;return function(e,t){var r,n=Jn(e),i=n[0],o=n[1];if(t){var s=Jn(t),a=s[0],u=s[1];_=1,E=(g=[i,o])[0],S=g[1],c=[a,u],l=(p=[E<<_|S>>>32-_,S<<_|E>>>32-_])[0],h=p[1],f=c[0],d=c[1],v=ri(h,d),m=v[0],y=v[1],r=[ti(ti(l,f),m),y],i=r[0],o=r[1]}var p,c,l,h,f,d,v,m,y;var g,_,E,S;return function(e){for(var t="",r="1",n=e.length-1;n>=0;n--)t=ui(t,pi(oi(e,n),r)),r=pi(256,r);return t.split("").reverse().join("")}(ai([2147483647&i,o]))}(e.nodes.map(function(e){return e.visit(t,null)}).join(""),e.meaning)}var Xn=function(){function e(){}return e.prototype.visitText=function(e,t){return e.value},e.prototype.visitContainer=function(e,t){var r=this;return"["+e.children.map(function(e){return e.visit(r)}).join(", ")+"]"},e.prototype.visitIcu=function(e,t){var r=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(r)+"}"});return"{"+e.expression+", "+e.type+", "+n.join(", ")+"}"},e.prototype.visitTagPlaceholder=function(e,t){var r=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(r)}).join(", ")+'</ph name="'+e.closeName+'">'},e.prototype.visitPlaceholder=function(e,t){return e.value?'<ph name="'+e.name+'">'+e.value+"</ph>":'<ph name="'+e.name+'"/>'},e.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},e}(),Qn=new Xn;var Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.visitIcu=function(e,t){var r=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(r)+"}"});return"{"+e.type+", "+n.join(", ")+"}"},t}(Xn);function Yn(e,t,r,n){return e<20?[t&r|~t&n,1518500249]:e<40?[t^r^n,1859775393]:e<60?[t&r|t&n|r&n,2400959708]:[t^r^n,3395469782]}function Jn(e){var t=Q(e),r=[$n(t,0),$n(t,102072)],n=r[0],i=r[1];return 0!=n||0!=i&&1!=i||(n^=319790063,i^=-1801410264),[n,i]}function $n(e,t){var r,n,i=[2654435769,2654435769],o=i[0],s=i[1],a=e.length;for(r=0;r+12<=a;r+=12)o=(n=Zn([o=ti(o,si(e,r,ei.Little)),s=ti(s,si(e,r+4,ei.Little)),t=ti(t,si(e,r+8,ei.Little))]))[0],s=n[1],t=n[2];return Zn([o=ti(o,si(e,r,ei.Little)),s=ti(s,si(e,r+4,ei.Little)),t=ti(t=ti(t,a),si(e,r+8,ei.Little)<<8)])[2]}function Zn(e){var t=e[0],r=e[1],n=e[2];return t=ni(t=ni(t,r),n),t^=n>>>13,r=ni(r=ni(r,n),t),r^=t<<8,n=ni(n=ni(n,t),r),n^=r>>>13,t=ni(t=ni(t,r),n),t^=n>>>12,r=ni(r=ni(r,n),t),r^=t<<16,n=ni(n=ni(n,t),r),n^=r>>>5,t=ni(t=ni(t,r),n),t^=n>>>3,r=ni(r=ni(r,n),t),r^=t<<10,n=ni(n=ni(n,t),r),[t,r,n^=r>>>15]}var ei={Little:0,Big:1};function ti(e,t){return ri(e,t)[1]}function ri(e,t){var r=(65535&e)+(65535&t),n=(e>>>16)+(t>>>16)+(r>>>16);return[n>>>16,n<<16|65535&r]}function ni(e,t){var r=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(r>>16)<<16|65535&r}function ii(e,t){return e<<t|e>>>32-t}function oi(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function si(e,t,r){var n=0;if(r===ei.Big)for(var i=0;i<4;i++)n+=oi(e,t+i)<<24-8*i;else for(i=0;i<4;i++)n+=oi(e,t+i)<<8*i;return n}function ai(e){return e.reduce(function(e,t){return e+function(e){for(var t="",r=0;r<4;r++)t+=String.fromCharCode(e>>>8*(3-r)&255);return t}(t)},"")}function ui(e,t){for(var r="",n=Math.max(e.length,t.length),i=0,o=0;i<n||o;i++){var s=o+ +(e[i]||0)+ +(t[i]||0);s>=10?(o=1,r+=s-10):(o=0,r+=s)}return r}function pi(e,t){for(var r="",n=t;0!==e;e>>>=1)1&e&&(r=ui(r,n)),n=ui(n,n);return r}ei[ei.Little]="Little",ei[ei.Big]="Big";var ci=function(){return function(e,t,r,n,i,o){this.nodes=e,this.placeholders=t,this.placeholderToMessage=r,this.meaning=n,this.description=i,this.id=o,e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}(),li=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),hi=function(){function e(e,t){this.children=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitContainer(this,t)},e}(),fi=function(){function e(e,t,r,n){this.expression=e,this.type=t,this.cases=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitIcu(this,t)},e}(),di=function(){function e(e,t,r,n,i,o,s){this.tag=e,this.attrs=t,this.startName=r,this.closeName=n,this.children=i,this.isVoid=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},e}(),vi=function(){function e(e,t,r){this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},e}(),mi=function(){function e(e,t,r){this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},e}(),yi=function(){function e(){}return e.prototype.visitText=function(e,t){return new li(e.value,e.sourceSpan)},e.prototype.visitContainer=function(e,t){var r=this,n=e.children.map(function(e){return e.visit(r,t)});return new hi(n,e.sourceSpan)},e.prototype.visitIcu=function(e,t){var r=this,n={};Object.keys(e.cases).forEach(function(i){return n[i]=e.cases[i].visit(r,t)});var i=new fi(e.expression,e.type,n,e.sourceSpan);return i.expressionPlaceholder=e.expressionPlaceholder,i},e.prototype.visitTagPlaceholder=function(e,t){var r=this,n=e.children.map(function(e){return e.visit(r,t)});return new di(e.tag,e.attrs,e.startName,e.closeName,n,e.isVoid,e.sourceSpan)},e.prototype.visitPlaceholder=function(e,t){return new vi(e.value,e.name,e.sourceSpan)},e.prototype.visitIcuPlaceholder=function(e,t){return new mi(e.value,e.name,e.sourceSpan)},e}(),gi=function(){function e(){}return e.prototype.visitText=function(e,t){},e.prototype.visitContainer=function(e,t){var r=this;e.children.forEach(function(e){return e.visit(r)})},e.prototype.visitIcu=function(e,t){var r=this;Object.keys(e.cases).forEach(function(t){e.cases[t].visit(r)})},e.prototype.visitTagPlaceholder=function(e,t){var r=this;e.children.forEach(function(e){return e.visit(r)})},e.prototype.visitPlaceholder=function(e,t){},e.prototype.visitIcuPlaceholder=function(e,t){},e}(),_i=function(){function e(e){var t=void 0===e?{}:e,r=t.closedByChildren,n=t.requiredParents,i=t.implicitNamespacePrefix,o=t.contentType,s=void 0===o?ft.PARSABLE_DATA:o,a=t.closedByParent,u=void 0!==a&&a,p=t.isVoid,c=void 0!==p&&p,l=t.ignoreFirstLf,h=void 0!==l&&l,f=this;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach(function(e){return f.closedByChildren[e]=!0}),this.isVoid=c,this.closedByParent=u||c,n&&n.length>0&&(this.requiredParents={},this.parentToAdd=n[0],n.forEach(function(e){return f.requiredParents[e]=!0})),this.implicitNamespacePrefix=i||null,this.contentType=s,this.ignoreFirstLf=h}return e.prototype.requireExtraParent=function(e){if(!this.requiredParents)return!1;if(!e)return!0;var t=e.toLowerCase();return!("template"===t||"ng-template"===e)&&1!=this.requiredParents[t]},e.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},e}(),Ei={base:new _i({isVoid:!0}),meta:new _i({isVoid:!0}),area:new _i({isVoid:!0}),embed:new _i({isVoid:!0}),link:new _i({isVoid:!0}),img:new _i({isVoid:!0}),input:new _i({isVoid:!0}),param:new _i({isVoid:!0}),hr:new _i({isVoid:!0}),br:new _i({isVoid:!0}),source:new _i({isVoid:!0}),track:new _i({isVoid:!0}),wbr:new _i({isVoid:!0}),p:new _i({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new _i({closedByChildren:["tbody","tfoot"]}),tbody:new _i({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new _i({closedByChildren:["tbody"],closedByParent:!0}),tr:new _i({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new _i({closedByChildren:["td","th"],closedByParent:!0}),th:new _i({closedByChildren:["td","th"],closedByParent:!0}),col:new _i({requiredParents:["colgroup"],isVoid:!0}),svg:new _i({implicitNamespacePrefix:"svg"}),math:new _i({implicitNamespacePrefix:"math"}),li:new _i({closedByChildren:["li"],closedByParent:!0}),dt:new _i({closedByChildren:["dt","dd"]}),dd:new _i({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new _i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new _i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new _i({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new _i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new _i({closedByChildren:["optgroup"],closedByParent:!0}),option:new _i({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new _i({ignoreFirstLf:!0}),listing:new _i({ignoreFirstLf:!0}),style:new _i({contentType:ft.RAW_TEXT}),script:new _i({contentType:ft.RAW_TEXT}),title:new _i({contentType:ft.ESCAPABLE_RAW_TEXT}),textarea:new _i({contentType:ft.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},Si=new _i;function xi(e){return Ei[e.toLowerCase()]||Si}var Ci={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},wi=function(){function e(){this._placeHolderNameCounts={},this._signatureToName={}}return e.prototype.getStartTagPlaceholderName=function(e,t,r){var n=this._hashTag(e,t,r);if(this._signatureToName[n])return this._signatureToName[n];var i=e.toUpperCase(),o=Ci[i]||"TAG_"+i,s=this._generateUniqueName(r?o:"START_"+o);return this._signatureToName[n]=s,s},e.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var r=e.toUpperCase(),n=Ci[r]||"TAG_"+r,i=this._generateUniqueName("CLOSE_"+n);return this._signatureToName[t]=i,i},e.prototype.getPlaceholderName=function(e,t){var r=e.toUpperCase(),n="PH: "+r+"="+t;if(this._signatureToName[n])return this._signatureToName[n];var i=this._generateUniqueName(r);return this._signatureToName[n]=i,i},e.prototype.getUniquePlaceholder=function(e){return this._generateUniqueName(e.toUpperCase())},e.prototype._hashTag=function(e,t,r){return"<"+e+Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join("")+(r?"/>":"></"+e+">")},e.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},e.prototype._generateUniqueName=function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,e+"_"+t},e}(),Ti=new mn(new br);var bi=function(){function e(e,t){this._expressionParser=e,this._interpolationConfig=t}return e.prototype.toI18nMessage=function(e,t,r,n){this._isIcu=1==e.length&&e[0]instanceof Ye,this._icuDepth=0,this._placeholderRegistry=new wi,this._placeholderToContent={},this._placeholderToMessage={};var i=tt(this,e,{});return new ci(i,this._placeholderToContent,this._placeholderToMessage,t,r,n)},e.prototype.visitElement=function(e,t){var r=tt(this,e.children),n={};e.attrs.forEach(function(e){n[e.name]=e.value});var i=xi(e.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(e.name,n,i);this._placeholderToContent[o]=e.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[s]="</"+e.name+">"),new di(e.name,n,o,s,r,i,e.sourceSpan)},e.prototype.visitAttribute=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitExpansion=function(t,r){var n=this;this._icuDepth++;var i={},o=new fi(t.switchValue,t.type,i,t.sourceSpan);if(t.cases.forEach(function(e){i[e.value]=new hi(e.expression.map(function(e){return e.visit(n,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+t.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=t.switchValue,o}var a=this._placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString()),u=new e(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=u.toI18nMessage([t],"","",""),new mi(o,a,t.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},e.prototype._visitTextWithInterpolation=function(e,t){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new li(e,t);for(var n=[],i=new hi(n,t),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<r.strings.length-1;u++){var p=r.expressions[u],c=p.split(Ai)[2]||"INTERPOLATION",l=this._placeholderRegistry.getPlaceholderName(c,p);r.strings[u].length&&n.push(new li(r.strings[u],t)),n.push(new vi(p,l,t)),this._placeholderToContent[l]=s+p+a}var h=r.strings.length-1;return r.strings[h].length&&n.push(new li(r.strings[h],t)),i},e}(),Ai=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;var Pi=function(e){function t(t,r){return e.call(this,t,r)||this}return r(t,e),t}(Cn),Mi="i18n",Ni="i18n-",ki=/^i18n:?/,Ii="|",Ri="@@",Oi=!1;var Di=function(){return function(e,t){this.messages=e,this.errors=t}}(),Li={Extract:0,Merge:1};Li[Li.Extract]="Extract",Li[Li.Merge]="Merge";var Fi=function(){function e(e,t){this._implicitTags=e,this._implicitAttrs=t}return e.prototype.extract=function(e,t){var r=this;return this._init(Li.Extract,t),e.forEach(function(e){return e.visit(r,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Di(this._messages,this._errors)},e.prototype.merge=function(e,t,r){this._init(Li.Merge,r),this._translations=t;var n=new Ze("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Hn(n.children,this._errors)},e.prototype.visitExpansionCase=function(e,t){var r=tt(this,e.expression,t);if(this._mode===Li.Merge)return new Je(e.value,r,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},e.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var r=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var n=tt(this,e.cases,t);return this._mode===Li.Merge&&(e=new Ye(e.switchValue,e.type,n,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=r,e},e.prototype.visitComment=function(e,t){var r,n=!!((r=e)instanceof et&&r.value&&r.value.startsWith("i18n"));if(n&&this._isInTranslatableSection)this._reportError(e,"Could not start a block inside a translatable section");else{var i,o=!!((i=e)instanceof et&&i.value&&"/i18n"===i.value);if(!o||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(o){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var s=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return tt(this,this._translateMessage(e,s))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else if(n){if(!Oi&&console&&console.warn){Oi=!0;var a=e.sourceSpan.details?", "+e.sourceSpan.details:"";console.warn("I18n comments are deprecated, use an <ng-container> element instead ("+e.sourceSpan.start+a+")")}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(ki,"").trim(),this._openTranslatableSection(e)}}else this._reportError(e,"Trying to close an unopened block")}},e.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},e.prototype.visitElement=function(e,t){var r=this;this._mayBeAddBlockChildren(e),this._depth++;var n=this._inI18nNode,i=this._inImplicitNode,o=[],s=void 0,a=e.attrs.find(function(e){return e.name===Mi})||null,u=a?a.value:"",p=this._implicitTags.some(function(t){return e.name===t})&&!this._inIcu&&!this._isInTranslatableSection,c=!i&&p;if(this._inImplicitNode=i||p,this._isInTranslatableSection||this._inIcu)(a||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==Li.Extract&&tt(this,e.children);else{if(a||c){this._inI18nNode=!0;var l=this._addMessage(e.children,u);s=this._translateMessage(e,l)}if(this._mode==Li.Extract){var h=a||c;h&&this._openTranslatableSection(e),tt(this,e.children),h&&this._closeTranslatableSection(e,e.children)}}this._mode===Li.Merge&&(s||e.children).forEach(function(e){var n=e.visit(r,t);n&&!r._isInTranslatableSection&&(o=o.concat(n))});if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=i,this._mode===Li.Merge){var f=this._translateAttributes(e);return new Ze(e.name,f,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype._init=function(e,t){var r;this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=(r=new bi(Ti,t),function(e,t,n,i){return r.toI18nMessage(e,t,n,i)})},e.prototype._visitAttributesOf=function(e){var t=this,r={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith(Ni)}).forEach(function(e){return r[e.name.slice(Ni.length)]=e.value}),e.attrs.forEach(function(e){e.name in r?t._addMessage([e],r[e.name]):n.some(function(t){return e.name===t})&&t._addMessage([e])})},e.prototype._addMessage=function(e,t){if(0==e.length||1==e.length&&e[0]instanceof $e&&!e[0].value)return null;var r=Vi(t),n=r.meaning,i=r.description,o=r.id,s=this._createI18nMessage(e,n,i,o);return this._messages.push(s),s},e.prototype._translateMessage=function(e,t){if(t&&this._mode===Li.Merge){var r=this._translations.get(t);if(r)return r;this._reportError(e,'Translation unavailable for message id="'+this._translations.digest(t)+'"')}return[]},e.prototype._translateAttributes=function(e){var t=this,r=e.attrs,n={};r.forEach(function(e){e.name.startsWith(Ni)&&(n[e.name.slice(Ni.length)]=Vi(e.value))});var i=[];return r.forEach(function(r){if(r.name!==Mi&&!r.name.startsWith(Ni))if(r.value&&""!=r.value&&n.hasOwnProperty(r.name)){var o=n[r.name],s=o.meaning,a=o.description,u=o.id,p=t._createI18nMessage([r],s,a,u),c=t._translations.get(p);if(c)if(0==c.length)i.push(new $e(r.name,"",r.sourceSpan));else if(c[0]instanceof Ge){var l=c[0].value;i.push(new $e(r.name,l,r.sourceSpan))}else t._reportError(e,'Unexpected translation for attribute "'+r.name+'" (id="'+(u||t._translations.digest(p))+'")');else t._reportError(e,'Translation unavailable for attribute "'+r.name+'" (id="'+(u||t._translations.digest(p))+'")')}else i.push(r)}),i},e.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},e.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(e.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),e.prototype._closeTranslatableSection=function(e,t){if(this._isInTranslatableSection){var r=this._msgCountAtSectionStart;if(1==t.reduce(function(e,t){return e+(t instanceof et?0:1)},0))for(var n=this._messages.length-1;n>=r;n--){var i=this._messages[n].nodes;if(!(1==i.length&&i[0]instanceof li)){this._messages.splice(n,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(e,"Unexpected section end")},e.prototype._reportError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}();function Vi(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf(Ri),r=e.indexOf(Ii),n=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],i=n[0],o=n[1],s=r>-1?[i.slice(0,r),i.slice(r+1)]:["",i];return{meaning:s[0],description:s[1],id:o}}var Bi=new(function(){function e(){this.closedByParent=!1,this.contentType=ft.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return e.prototype.requireExtraParent=function(e){return!1},e.prototype.isClosedByChild=function(e){return!1},e}());function Ui(e){return Bi}var Hi=function(e){function t(){return e.call(this,Ui)||this}return r(t,e),t.prototype.parse=function(t,r,n){return void 0===n&&(n=!1),e.prototype.parse.call(this,t,r,n)},t}(qn),qi=function(){function e(){}return e.prototype.createNameMapper=function(e){return null},e}(),ji=function(e){function t(t,r){var n=e.call(this)||this;return n.mapName=r,n.internalToPublic={},n.publicToNextId={},n.publicToInternal={},t.nodes.forEach(function(e){return e.visit(n)}),n}return r(t,e),t.prototype.toPublicName=function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null},t.prototype.toInternalName=function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null},t.prototype.visitText=function(e,t){return null},t.prototype.visitTagPlaceholder=function(t,r){this.visitPlaceholderName(t.startName),e.prototype.visitTagPlaceholder.call(this,t,r),this.visitPlaceholderName(t.closeName)},t.prototype.visitPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},t.prototype.visitIcuPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},t.prototype.visitPlaceholderName=function(e){if(e&&!this.internalToPublic.hasOwnProperty(e)){var t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){var r=this.publicToNextId[t];this.publicToNextId[t]=r+1,t=t+"_"+r}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}},t}(gi),Wi=new(function(){function e(){}return e.prototype.visitTag=function(e){var t=this,r=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+r+"/>";var n=e.children.map(function(e){return e.visit(t)});return"<"+e.name+r+">"+n.join("")+"</"+e.name+">"},e.prototype.visitText=function(e){return e.value},e.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},e.prototype._serializeAttributes=function(e){var t=Object.keys(e).map(function(t){return t+'="'+e[t]+'"'}).join(" ");return t.length>0?" "+t:""},e.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},e}());function zi(e){return e.map(function(e){return e.visit(Wi)}).join("")}var Ki=function(){function e(e){var t=this;this.attrs={},Object.keys(e).forEach(function(r){t.attrs[r]=$i(e[r])})}return e.prototype.visit=function(e){return e.visitDeclaration(this)},e}(),Xi=function(){function e(e,t){this.rootTag=e,this.dtd=t}return e.prototype.visit=function(e){return e.visitDoctype(this)},e}(),Qi=function(){function e(e,t,r){void 0===t&&(t={}),void 0===r&&(r=[]);var n=this;this.name=e,this.children=r,this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=$i(t[e])})}return e.prototype.visit=function(e){return e.visitTag(this)},e}(),Gi=function(){function e(e){this.value=$i(e)}return e.prototype.visit=function(e){return e.visitText(this)},e}(),Yi=function(e){function t(t){return void 0===t&&(t=0),e.call(this,"\n"+new Array(t+1).join(" "))||this}return r(t,e),t}(Gi),Ji=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function $i(e){return Ji.reduce(function(e,t){return e.replace(t[0],t[1])},e)}var Zi="trans-unit",eo="context",to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.write=function(e,t){var r=new ro,n=[];e.forEach(function(e){var t=[];e.sources.forEach(function(e){var r=new Qi("context-group",{purpose:"location"});r.children.push(new Yi(10),new Qi(eo,{"context-type":"sourcefile"},[new Gi(e.filePath)]),new Yi(10),new Qi(eo,{"context-type":"linenumber"},[new Gi(""+e.startLine)]),new Yi(8)),t.push(new Yi(8),r)});var i,o=new Qi(Zi,{id:e.id,datatype:"html"});(i=o.children).push.apply(i,[new Yi(8),new Qi("source",{},r.serialize(e.nodes))].concat(t)),e.description&&o.children.push(new Yi(8),new Qi("note",{priority:"1",from:"description"},[new Gi(e.description)])),e.meaning&&o.children.push(new Yi(8),new Qi("note",{priority:"1",from:"meaning"},[new Gi(e.meaning)])),o.children.push(new Yi(6)),n.push(new Yi(6),o)});var i=new Qi("body",{},n.concat([new Yi(4)])),o=new Qi("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Yi(4),i,new Yi(2)]),s=new Qi("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Yi(2),o,new Yi]);return zi([new Ki({version:"1.0",encoding:"UTF-8"}),new Yi,s,new Yi])},t.prototype.load=function(e,t){var r=(new no).parse(e,t),n=r.locale,i=r.msgIdToHtml,o=r.errors,s={},a=new io;if(Object.keys(i).forEach(function(e){var r=a.convert(i[e],t),n=r.i18nNodes,u=r.errors;o.push.apply(o,u),s[e]=n}),o.length)throw new Error("xliff parse errors:\n"+o.join("\n"));return{locale:n,i18nNodesByMsgId:s}},t.prototype.digest=function(e){return zn(e)},t}(qi),ro=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Gi(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){var r=this,n=[new Gi("{"+e.expressionPlaceholder+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new Gi(t+" {")].concat(e.cases[t].visit(r),[new Gi("} ")]))}),n.push(new Gi("}")),n},e.prototype.visitTagPlaceholder=function(e,t){var r=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+e}}(e.tag);if(e.isVoid)return[new Qi("x",{id:e.startName,ctype:r,"equiv-text":"<"+e.tag+"/>"})];var n=new Qi("x",{id:e.startName,ctype:r,"equiv-text":"<"+e.tag+">"}),i=new Qi("x",{id:e.closeName,ctype:r,"equiv-text":"</"+e.tag+">"});return[n].concat(this.serialize(e.children),[i])},e.prototype.visitPlaceholder=function(e,t){return[new Qi("x",{id:e.name,"equiv-text":"{{"+e.value+"}}"})]},e.prototype.visitIcuPlaceholder=function(e,t){var r="{"+e.value.expression+", "+e.value.type+", "+Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" ")+"}";return[new Qi("x",{id:e.name,"equiv-text":r})]},e.prototype.serialize=function(e){var t=this;return[].concat.apply([],e.map(function(e){return e.visit(t)}))},e}(),no=function(){function e(){this._locale=null}return e.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};var r=(new Hi).parse(e,t,!1);return this._errors=r.errors,tt(this,r.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},e.prototype.visitElement=function(e,t){switch(e.name){case Zi:this._unitMlString=null;var r=e.attrs.find(function(e){return"id"===e.name});if(r){var n=r.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,"Duplicated translations for msg "+n):(tt(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,"Message "+n+" misses a translation"))}else this._addError(e,"<"+Zi+'> misses the "id" attribute');break;case"source":case"seg-source":break;case"target":var i=e.startSourceSpan.end.offset,o=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,o);this._unitMlString=s;break;case"file":var a=e.attrs.find(function(e){return"target-language"===e.name});a&&(this._locale=a.value),tt(this,e.children,null);break;default:tt(this,e.children,null)}},e.prototype.visitAttribute=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitComment=function(e,t){},e.prototype.visitExpansion=function(e,t){},e.prototype.visitExpansionCase=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}(),io=function(){function e(){}return e.prototype.convert=function(e,t){var r=(new Hi).parse(e,t,!0);return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:[].concat.apply([],tt(this,r.rootNodes)),errors:this._errors}},e.prototype.visitText=function(e,t){return new li(e.value,e.sourceSpan)},e.prototype.visitElement=function(e,t){if("x"===e.name){var r=e.attrs.find(function(e){return"id"===e.name});return r?new vi("",r.value,e.sourceSpan):(this._addError(e,'<x> misses the "id" attribute'),null)}return"mrk"===e.name?[].concat.apply([],tt(this,e.children)):(this._addError(e,"Unexpected tag"),null)},e.prototype.visitExpansion=function(e,t){var r={};return tt(this,e.cases).forEach(function(t){r[t.value]=new hi(t.nodes,e.sourceSpan)}),new fi(e.switchValue,e.type,r,e.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:tt(this,e.expression)}},e.prototype.visitComment=function(e,t){},e.prototype.visitAttribute=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}();var oo="ph",so="unit",ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.write=function(e,t){var r=new uo,n=[];e.forEach(function(e){var t=new Qi(so,{id:e.id}),i=new Qi("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new Yi(8),new Qi("note",{category:"description"},[new Gi(e.description)])),e.meaning&&i.children.push(new Yi(8),new Qi("note",{category:"meaning"},[new Gi(e.meaning)]))),e.sources.forEach(function(e){i.children.push(new Yi(8),new Qi("note",{category:"location"},[new Gi(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new Yi(6)),t.children.push(new Yi(6),i);var o=new Qi("segment");o.children.push(new Yi(8),new Qi("source",{},r.serialize(e.nodes)),new Yi(6)),t.children.push(new Yi(6),o,new Yi(4)),n.push(new Yi(4),t)});var i=new Qi("file",{original:"ng.template",id:"ngi18n"},n.concat([new Yi(2)])),o=new Qi("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Yi(2),i,new Yi]);return zi([new Ki({version:"1.0",encoding:"UTF-8"}),new Yi,o,new Yi])},t.prototype.load=function(e,t){var r=(new po).parse(e,t),n=r.locale,i=r.msgIdToHtml,o=r.errors,s={},a=new co;if(Object.keys(i).forEach(function(e){var r=a.convert(i[e],t),n=r.i18nNodes,u=r.errors;o.push.apply(o,u),s[e]=n}),o.length)throw new Error("xliff2 parse errors:\n"+o.join("\n"));return{locale:n,i18nNodesByMsgId:s}},t.prototype.digest=function(e){return Kn(e)},t}(qi),uo=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Gi(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){var r=this,n=[new Gi("{"+e.expressionPlaceholder+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new Gi(t+" {")].concat(e.cases[t].visit(r),[new Gi("} ")]))}),n.push(new Gi("}")),n},e.prototype.visitTagPlaceholder=function(e,t){var r=this,n=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid)return[new Qi(oo,{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:n,disp:"<"+e.tag+"/>"})];var i=new Qi("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:n,dispStart:"<"+e.tag+">",dispEnd:"</"+e.tag+">"}),o=[].concat.apply([],e.children.map(function(e){return e.visit(r)}));return o.length?o.forEach(function(e){return i.children.push(e)}):i.children.push(new Gi("")),[i]},e.prototype.visitPlaceholder=function(e,t){var r=(this._nextPlaceholderId++).toString();return[new Qi(oo,{id:r,equiv:e.name,disp:"{{"+e.value+"}}"})]},e.prototype.visitIcuPlaceholder=function(e,t){var r=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),n=(this._nextPlaceholderId++).toString();return[new Qi(oo,{id:n,equiv:e.name,disp:"{"+e.value.expression+", "+e.value.type+", "+r+"}"})]},e.prototype.serialize=function(e){var t=this;return this._nextPlaceholderId=0,[].concat.apply([],e.map(function(e){return e.visit(t)}))},e}(),po=function(){function e(){this._locale=null}return e.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};var r=(new Hi).parse(e,t,!1);return this._errors=r.errors,tt(this,r.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},e.prototype.visitElement=function(e,t){switch(e.name){case so:this._unitMlString=null;var r=e.attrs.find(function(e){return"id"===e.name});if(r){var n=r.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,"Duplicated translations for msg "+n):(tt(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,"Message "+n+" misses a translation"))}else this._addError(e,'<unit> misses the "id" attribute');break;case"source":break;case"target":var i=e.startSourceSpan.end.offset,o=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,o);this._unitMlString=s;break;case"xliff":var a=e.attrs.find(function(e){return"trgLang"===e.name});a&&(this._locale=a.value);var u=e.attrs.find(function(e){return"version"===e.name});if(u){var p=u.value;"2.0"!==p?this._addError(e,"The XLIFF file version "+p+" is not compatible with XLIFF 2.0 serializer"):tt(this,e.children,null)}break;default:tt(this,e.children,null)}},e.prototype.visitAttribute=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitComment=function(e,t){},e.prototype.visitExpansion=function(e,t){},e.prototype.visitExpansionCase=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}(),co=function(){function e(){}return e.prototype.convert=function(e,t){var r=(new Hi).parse(e,t,!0);return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:[].concat.apply([],tt(this,r.rootNodes)),errors:this._errors}},e.prototype.visitText=function(e,t){return new li(e.value,e.sourceSpan)},e.prototype.visitElement=function(e,t){var r=this;switch(e.name){case oo:var n=e.attrs.find(function(e){return"equiv"===e.name});if(n)return[new vi("",n.value,e.sourceSpan)];this._addError(e,'<ph> misses the "equiv" attribute');break;case"pc":var i=e.attrs.find(function(e){return"equivStart"===e.name}),o=e.attrs.find(function(e){return"equivEnd"===e.name});if(i){if(o){var s=i.value,a=o.value,u=[];return u.concat.apply(u,[new vi("",s,e.sourceSpan)].concat(e.children.map(function(e){return e.visit(r,null)}),[new vi("",a,e.sourceSpan)]))}this._addError(e,'<ph> misses the "equivEnd" attribute')}else this._addError(e,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat.apply([],tt(this,e.children));default:this._addError(e,"Unexpected tag")}return null},e.prototype.visitExpansion=function(e,t){var r={};return tt(this,e.cases).forEach(function(t){r[t.value]=new hi(t.nodes,e.sourceSpan)}),new fi(e.switchValue,e.type,r,e.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:[].concat.apply([],tt(this,e.expression))}},e.prototype.visitComment=function(e,t){},e.prototype.visitAttribute=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}();var lo="messagebundle",ho="ph",fo="ex",vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.write=function(e,t){var r=new go,n=new mo,i=new Qi(lo);return e.forEach(function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var r=[];e.sources.forEach(function(e){r.push(new Qi("source",{},[new Gi(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new Yi(2),new Qi("msg",t,r.concat(n.serialize(e.nodes))))}),i.children.push(new Yi),zi([new Ki({version:"1.0",encoding:"UTF-8"}),new Yi,new Xi(lo,'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Yi,r.addDefaultExamples(i),new Yi])},t.prototype.load=function(e,t){throw new Error("Unsupported")},t.prototype.digest=function(e){return yo(e)},t.prototype.createNameMapper=function(e){return new ji(e,_o)},t}(qi),mo=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Gi(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){var r=this,n=[new Gi("{"+e.expressionPlaceholder+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new Gi(t+" {")].concat(e.cases[t].visit(r),[new Gi("} ")]))}),n.push(new Gi("}")),n},e.prototype.visitTagPlaceholder=function(e,t){var r=new Qi(fo,{},[new Gi("<"+e.tag+">")]),n=new Qi(ho,{name:e.startName},[r]);if(e.isVoid)return[n];var i=new Qi(fo,{},[new Gi("</"+e.tag+">")]),o=new Qi(ho,{name:e.closeName},[i]);return[n].concat(this.serialize(e.children),[o])},e.prototype.visitPlaceholder=function(e,t){var r=new Qi(fo,{},[new Gi("{{"+e.value+"}}")]);return[new Qi(ho,{name:e.name},[r])]},e.prototype.visitIcuPlaceholder=function(e,t){var r=new Qi(fo,{},[new Gi("{"+e.value.expression+", "+e.value.type+", "+Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" ")+"}")]);return[new Qi(ho,{name:e.name},[r])]},e.prototype.serialize=function(e){var t=this;return[].concat.apply([],e.map(function(e){return e.visit(t)}))},e}();function yo(e){return Kn(e)}var go=function(){function e(){}return e.prototype.addDefaultExamples=function(e){return e.visit(this),e},e.prototype.visitTag=function(e){var t=this;if(e.name===ho){if(!e.children||0==e.children.length){var r=new Gi(e.attrs.name||"...");e.children=[new Qi(fo,{},[r])]}}else e.children&&e.children.forEach(function(e){return e.visit(t)})},e.prototype.visitText=function(e){},e.prototype.visitDeclaration=function(e){},e.prototype.visitDoctype=function(e){},e}();function _o(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var Eo="translationbundle",So="translation",xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.write=function(e,t){throw new Error("Unsupported")},t.prototype.load=function(e,t){var r=(new Co).parse(e,t),n=r.locale,i=r.msgIdToHtml,o=r.errors,s={},a=new wo;if(Object.keys(i).forEach(function(e){var r,n,o;r=s,n=e,o=function(){var r=a.convert(i[e],t),n=r.i18nNodes,o=r.errors;if(o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return n},Object.defineProperty(r,n,{configurable:!0,enumerable:!0,get:function(){var e=o();return Object.defineProperty(r,n,{enumerable:!0,value:e}),e},set:function(e){throw new Error("Could not overwrite an XTB translation")}})}),o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return{locale:n,i18nNodesByMsgId:s}},t.prototype.digest=function(e){return yo(e)},t.prototype.createNameMapper=function(e){return new ji(e,_o)},t}(qi);var Co=function(){function e(){this._locale=null}return e.prototype.parse=function(e,t){this._bundleDepth=0,this._msgIdToHtml={};var r=(new Hi).parse(e,t,!1);return this._errors=r.errors,tt(this,r.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},e.prototype.visitElement=function(e,t){switch(e.name){case Eo:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<"+Eo+"> elements can not be nested");var r=e.attrs.find(function(e){return"lang"===e.name});r&&(this._locale=r.value),tt(this,e.children,null),this._bundleDepth--;break;case So:var n=e.attrs.find(function(e){return"id"===e.name});if(n){var i=n.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(e,"Duplicated translations for msg "+i);else{var o=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,a=e.startSourceSpan.start.file.content.slice(o,s);this._msgIdToHtml[i]=a}}else this._addError(e,"<"+So+'> misses the "id" attribute');break;default:this._addError(e,"Unexpected tag")}},e.prototype.visitAttribute=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitComment=function(e,t){},e.prototype.visitExpansion=function(e,t){},e.prototype.visitExpansionCase=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}(),wo=function(){function e(){}return e.prototype.convert=function(e,t){var r=(new Hi).parse(e,t,!0);return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:tt(this,r.rootNodes),errors:this._errors}},e.prototype.visitText=function(e,t){return new li(e.value,e.sourceSpan)},e.prototype.visitExpansion=function(e,t){var r={};return tt(this,e.cases).forEach(function(t){r[t.value]=new hi(t.nodes,e.sourceSpan)}),new fi(e.switchValue,e.type,r,e.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:tt(this,e.expression)}},e.prototype.visitElement=function(e,t){if("ph"===e.name){var r=e.attrs.find(function(e){return"name"===e.name});if(r)return new vi("",r.value,e.sourceSpan);this._addError(e,'<ph> misses the "name" attribute')}else this._addError(e,"Unexpected tag");return null},e.prototype.visitComment=function(e,t){},e.prototype.visitAttribute=function(e,t){},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}(),To=function(e){function t(){return e.call(this,xi)||this}return r(t,e),t.prototype.parse=function(t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=at),e.prototype.parse.call(this,t,r,n,i)},t}(qn),bo=function(){function e(e,t,r,n,i,o){void 0===e&&(e={}),void 0===i&&(i=N.Warning),this._i18nNodesByMsgId=e,this.digest=r,this.mapperFactory=n,this._i18nToHtml=new Ao(e,t,r,n,i,o)}return e.load=function(t,r,n,i,o){var s=n.load(t,r),a=s.locale;return new e(s.i18nNodesByMsgId,a,function(e){return n.digest(e)},function(e){return n.createNameMapper(e)},i,o)},e.prototype.get=function(e){var t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes},e.prototype.has=function(e){return this.digest(e)in this._i18nNodesByMsgId},e}(),Ao=function(){function e(e,t,r,n,i,o){void 0===e&&(e={}),this._i18nNodesByMsgId=e,this._locale=t,this._digest=r,this._mapperFactory=n,this._missingTranslationStrategy=i,this._console=o,this._contextStack=[],this._errors=[]}return e.prototype.convert=function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),r=e.nodes[0].sourceSpan.start.file.url,n=(new To).parse(t,r,!0);return{nodes:n.rootNodes,errors:this._errors.concat(n.errors)}},e.prototype.visitText=function(e,t){return e.value},e.prototype.visitContainer=function(e,t){var r=this;return e.children.map(function(e){return e.visit(r)}).join("")},e.prototype.visitIcu=function(e,t){var r=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(r)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression)+", "+e.type+", "+n.join(" ")+"}"},e.prototype.visitPlaceholder=function(e,t){var r=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(r)?this._srcMsg.placeholders[r]:this._srcMsg.placeholderToMessage.hasOwnProperty(r)?this._convertToText(this._srcMsg.placeholderToMessage[r]):(this._addError(e,'Unknown placeholder "'+e.name+'"'),"")},e.prototype.visitTagPlaceholder=function(e,t){var r=this,n=""+e.tag,i=Object.keys(e.attrs).map(function(t){return t+'="'+e.attrs[t]+'"'}).join(" ");return e.isVoid?"<"+n+" "+i+"/>":"<"+n+" "+i+">"+e.children.map(function(e){return e.visit(r)}).join("")+"</"+n+">"},e.prototype.visitIcuPlaceholder=function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])},e.prototype._convertToText=function(e){var t,r=this,n=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(n))t=this._i18nNodesByMsgId[n],this._mapper=function(e){return i?i.toInternalName(e):e};else{if(this._missingTranslationStrategy===N.Error){var o=this._locale?' for locale "'+this._locale+'"':"";this._addError(e.nodes[0],'Missing translation for message "'+n+'"'+o)}else if(this._console&&this._missingTranslationStrategy===N.Warning){o=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+n+'"'+o)}t=e.nodes,this._mapper=function(e){return e}}var s=t.map(function(e){return e.visit(r)}).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s},e.prototype._addError=function(e,t){this._errors.push(new Pi(e.sourceSpan,t))},e}(),Po=function(){function e(e,t,r,n,i){if(void 0===n&&(n=N.Warning),this._htmlParser=e,t){var o=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new vo;case"xtb":return new xo;case"xliff2":case"xlf2":return new ao;case"xliff":case"xlf":default:return new to}}(r);this._translationBundle=bo.load(t,"i18n",o,n,i)}else this._translationBundle=new bo({},null,zn,void 0,n,i)}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=at);var i,o,s,a=this._htmlParser.parse(e,t,r,n);return a.errors.length?new Hn(a.rootNodes,a.errors):(i=a.rootNodes,o=this._translationBundle,s=n,new Fi([],{}).merge(i,o,s))},e}();var Mo=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,No=/\.ngfactory\.|\.ngsummary\./,ko=/\.ngsummary\./,Io=/NgSummary$/;function Ro(e,t){void 0===t&&(t=!1);var r=Do(e,t);return r[0]+".ngfactory"+Lo(r[1])}function Oo(e){return e.replace(No,".")}function Do(e,t){if(void 0===t&&(t=!1),e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];var r=e.lastIndexOf(".");return-1!==r?[e.substring(0,r),e.substring(r)]:[e,""]}function Lo(e){return".tsx"===e?".ts":e}function Fo(e){return e.replace(Mo,"")+".ngsummary.json"}function Vo(e,t){void 0===t&&(t=!1);var r=Do(Oo(e),t);return r[0]+".ngsummary"+r[1]}function Bo(e){return e+"NgSummary"}var Uo=/\u0275\d+/;function Ho(e){return Uo.test(e)}var qo="@angular/core",jo=function(){function e(){}return e.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:qo},e.ElementRef={name:"ElementRef",moduleName:qo},e.NgModuleRef={name:"NgModuleRef",moduleName:qo},e.ViewContainerRef={name:"ViewContainerRef",moduleName:qo},e.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:qo},e.QueryList={name:"QueryList",moduleName:qo},e.TemplateRef={name:"TemplateRef",moduleName:qo},e.CodegenComponentFactoryResolver={name:"ɵCodegenComponentFactoryResolver",moduleName:qo},e.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:qo},e.ComponentFactory={name:"ComponentFactory",moduleName:qo},e.ComponentRef={name:"ComponentRef",moduleName:qo},e.NgModuleFactory={name:"NgModuleFactory",moduleName:qo},e.createModuleFactory={name:"ɵcmf",moduleName:qo},e.moduleDef={name:"ɵmod",moduleName:qo},e.moduleProviderDef={name:"ɵmpd",moduleName:qo},e.RegisterModuleFactoryFn={name:"ɵregisterModuleFactory",moduleName:qo},e.Injector={name:"Injector",moduleName:qo},e.ViewEncapsulation={name:"ViewEncapsulation",moduleName:qo},e.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:qo},e.SecurityContext={name:"SecurityContext",moduleName:qo},e.LOCALE_ID={name:"LOCALE_ID",moduleName:qo},e.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:qo},e.inlineInterpolate={name:"ɵinlineInterpolate",moduleName:qo},e.interpolate={name:"ɵinterpolate",moduleName:qo},e.EMPTY_ARRAY={name:"ɵEMPTY_ARRAY",moduleName:qo},e.EMPTY_MAP={name:"ɵEMPTY_MAP",moduleName:qo},e.Renderer={name:"Renderer",moduleName:qo},e.viewDef={name:"ɵvid",moduleName:qo},e.elementDef={name:"ɵeld",moduleName:qo},e.anchorDef={name:"ɵand",moduleName:qo},e.textDef={name:"ɵted",moduleName:qo},e.directiveDef={name:"ɵdid",moduleName:qo},e.providerDef={name:"ɵprd",moduleName:qo},e.queryDef={name:"ɵqud",moduleName:qo},e.pureArrayDef={name:"ɵpad",moduleName:qo},e.pureObjectDef={name:"ɵpod",moduleName:qo},e.purePipeDef={name:"ɵppd",moduleName:qo},e.pipeDef={name:"ɵpid",moduleName:qo},e.nodeValue={name:"ɵnov",moduleName:qo},e.ngContentDef={name:"ɵncd",moduleName:qo},e.unwrapValue={name:"ɵunv",moduleName:qo},e.createRendererType2={name:"ɵcrt",moduleName:qo},e.RendererType2={name:"RendererType2",moduleName:qo},e.ViewDefinition={name:"ɵViewDefinition",moduleName:qo},e.createComponentFactory={name:"ɵccf",moduleName:qo},e}();function Wo(e){return{identifier:{reference:e}}}function zo(e,t){return Wo(e.resolveExternalReference(t))}var Ko={OnInit:0,OnDestroy:1,DoCheck:2,OnChanges:3,AfterContentInit:4,AfterContentChecked:5,AfterViewInit:6,AfterViewChecked:7};Ko[Ko.OnInit]="OnInit",Ko[Ko.OnDestroy]="OnDestroy",Ko[Ko.DoCheck]="DoCheck",Ko[Ko.OnChanges]="OnChanges",Ko[Ko.AfterContentInit]="AfterContentInit",Ko[Ko.AfterContentChecked]="AfterContentChecked",Ko[Ko.AfterViewInit]="AfterViewInit",Ko[Ko.AfterViewChecked]="AfterViewChecked";var Xo=[Ko.OnInit,Ko.OnDestroy,Ko.DoCheck,Ko.OnChanges,Ko.AfterContentInit,Ko.AfterContentChecked,Ko.AfterViewInit,Ko.AfterViewChecked];function Qo(e,t,r){return e.hasLifecycleHook(r,function(e){switch(e){case Ko.OnInit:return"ngOnInit";case Ko.OnDestroy:return"ngOnDestroy";case Ko.DoCheck:return"ngDoCheck";case Ko.OnChanges:return"ngOnChanges";case Ko.AfterContentInit:return"ngAfterContentInit";case Ko.AfterContentChecked:return"ngAfterContentChecked";case Ko.AfterViewInit:return"ngAfterViewInit";case Ko.AfterViewChecked:return"ngAfterViewChecked"}}(t))}var Go=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),Yo=function(){function e(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return e.parse=function(t){var r,n=[],i=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},o=new e,s=o,a=!1;for(Go.lastIndex=0;r=Go.exec(t);){if(r[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new e,o.notSelectors.push(s)}if(r[2]&&s.setElement(r[2]),r[3]&&s.addClassName(r[3]),r[4]&&s.addAttribute(r[4],r[6]),r[7]&&(a=!1,s=o),r[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(n,o),o=s=new e}}return i(n,o),n},e.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},e.prototype.hasElementSelector=function(){return!!this.element},e.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},e.prototype.getMatchingElementTemplate=function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",r="",n=0;n<this.attrs.length;n+=2){r+=" "+this.attrs[n]+(""!==this.attrs[n+1]?'="'+this.attrs[n+1]+'"':"")}return xi(e).isVoid?"<"+e+t+r+"/>":"<"+e+t+r+"></"+e+">"},e.prototype.addAttribute=function(e,t){void 0===t&&(t=""),this.attrs.push(e,t&&t.toLowerCase()||"")},e.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},e.prototype.toString=function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach(function(t){return e+="."+t}),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var r=this.attrs[t],n=this.attrs[t+1];e+="["+r+(n?"="+n:"")+"]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},e}(),Jo=function(){function e(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return e.createNotMatcher=function(t){var r=new e;return r.addSelectables(t,null),r},e.prototype.addSelectables=function(e,t){var r=null;e.length>1&&(r=new $o(e),this._listContexts.push(r));for(var n=0;n<e.length;n++)this._addSelectable(e[n],t,r)},e.prototype._addSelectable=function(e,t,r){var n=this,i=e.element,o=e.classNames,s=e.attrs,a=new Zo(e,t,r);i&&((p=0===s.length&&0===o.length)?this._addTerminal(n._elementMap,i,a):n=this._addPartial(n._elementPartialMap,i));if(o)for(var u=0;u<o.length;u++){var p=0===s.length&&u===o.length-1,c=o[u];p?this._addTerminal(n._classMap,c,a):n=this._addPartial(n._classPartialMap,c)}if(s)for(u=0;u<s.length;u+=2){p=u===s.length-2;var l=s[u],h=s[u+1];if(p){var f=n._attrValueMap,d=f.get(l);d||(d=new Map,f.set(l,d)),this._addTerminal(d,h,a)}else{var v=n._attrValuePartialMap,m=v.get(l);m||(m=new Map,v.set(l,m)),n=this._addPartial(m,h)}}},e.prototype._addTerminal=function(e,t,r){var n=e.get(t);n||(n=[],e.set(t,n)),n.push(r)},e.prototype._addPartial=function(t,r){var n=t.get(r);return n||(n=new e,t.set(r,n)),n},e.prototype.match=function(e,t){for(var r=!1,n=e.element,i=e.classNames,o=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,n,e,t)||r,r=this._matchPartial(this._elementPartialMap,n,e,t)||r,i)for(s=0;s<i.length;s++){var a=i[s];r=this._matchTerminal(this._classMap,a,e,t)||r,r=this._matchPartial(this._classPartialMap,a,e,t)||r}if(o)for(s=0;s<o.length;s+=2){var u=o[s],p=o[s+1],c=this._attrValueMap.get(u);p&&(r=this._matchTerminal(c,"",e,t)||r),r=this._matchTerminal(c,p,e,t)||r;var l=this._attrValuePartialMap.get(u);p&&(r=this._matchPartial(l,"",e,t)||r),r=this._matchPartial(l,p,e,t)||r}return r},e.prototype._matchTerminal=function(e,t,r,n){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],o=e.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var s=!1,a=0;a<i.length;a++)s=i[a].finalize(r,n)||s;return s},e.prototype._matchPartial=function(e,t,r,n){if(!e||"string"!=typeof t)return!1;var i=e.get(t);return!!i&&i.match(r,n)},e}(),$o=function(){return function(e){this.selectors=e,this.alreadyMatched=!1}}(),Zo=function(){function e(e,t,r){this.selector=e,this.cbContext=t,this.listContext=r,this.notSelectors=e.notSelectors}return e.prototype.finalize=function(e,t){var r=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(r=!Jo.createNotMatcher(this.notSelectors).match(e,null));return!r||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),r},e}(),es="ngComponentType",ts=function(){function e(e,t,r,n,i,o,s,a,u,p,c,l){this._config=e,this._htmlParser=t,this._ngModuleResolver=r,this._directiveResolver=n,this._pipeResolver=i,this._summaryResolver=o,this._schemaRegistry=s,this._directiveNormalizer=a,this._console=u,this._staticSymbolCache=p,this._reflector=c,this._errorCollector=l,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}return e.prototype.getReflector=function(){return this._reflector},e.prototype.clearCacheFor=function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)},e.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},e.prototype._createProxyClass=function(e,t){var r=null,n=function(){if(!r)throw new Error("Illegal state: Class "+t+" for type "+G(e)+" is not compiled yet!");return r.apply(this,arguments)};return n.setDelegate=function(e){r=e,n.prototype=e.prototype},n.overriddenName=t,n},e.prototype.getGeneratedClass=function(e,t){return e instanceof Ee?this._staticSymbolCache.get(Ro(e.filePath),t):this._createProxyClass(e,t)},e.prototype.getComponentViewClass=function(e){return this.getGeneratedClass(e,Ae(e,0))},e.prototype.getHostComponentViewClass=function(e){return this.getGeneratedClass(e,Me(e))},e.prototype.getHostComponentType=function(e){var t=Te({reference:e})+"_Host";if(e instanceof Ee)return this._staticSymbolCache.get(e.filePath,t);var r=function(){};return r.overriddenName=t,r},e.prototype.getRendererType=function(e){return e instanceof Ee?this._staticSymbolCache.get(Ro(e.filePath),Pe(e)):{}},e.prototype.getComponentFactory=function(e,t,r,n){if(t instanceof Ee)return this._staticSymbolCache.get(Ro(t.filePath),Ne(t));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(jo.createComponentFactory)(e,t,i,r,n,[])},e.prototype.initComponentFactory=function(e,t){var r;e instanceof Ee||(r=e.ngContentSelectors).push.apply(r,t)},e.prototype._loadSummary=function(e,t){var r=this._summaryCache.get(e);if(!r){var n=this._summaryResolver.resolveSummary(e);r=n?n.type:null,this._summaryCache.set(e,r||null)}return r&&r.summaryKind===t?r:null},e.prototype.getHostComponentMetadata=function(e,t){var r=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(r));var n=Yo.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(n,"");return Le.create({isHost:!0,type:{reference:r,diDeps:[],lifecycleHooks:[]},template:new De({encapsulation:h.None,template:n,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:f.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:h.None,styles:[],data:{}},entryComponents:[],componentFactory:null})},e.prototype.loadDirectiveMetadata=function(e,t,r){var n=this;if(this._directiveCache.has(t))return null;t=Y(t);var i,o,s=this.getNonNormalizedDirectiveMetadata(t),a=s.annotation,u=s.metadata,p=function(e){var r=new Le({isHost:!1,type:u.type,isComponent:u.isComponent,selector:u.selector,exportAs:u.exportAs,changeDetection:u.changeDetection,inputs:u.inputs,outputs:u.outputs,hostListeners:u.hostListeners,hostProperties:u.hostProperties,hostAttributes:u.hostAttributes,providers:u.providers,viewProviders:u.viewProviders,queries:u.queries,guards:u.guards,viewQueries:u.viewQueries,entryComponents:u.entryComponents,componentViewType:u.componentViewType,rendererType:u.rendererType,componentFactory:u.componentFactory,template:e});return e&&n.initComponentFactory(u.componentFactory,e.ngContentSelectors),n._directiveCache.set(t,r),n._summaryCache.set(t,r.toSummary()),null};if(u.isComponent){var c=u.template,l=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,a),encapsulation:c.encapsulation,template:c.template,templateUrl:c.templateUrl,styles:c.styles,styleUrls:c.styleUrls,animations:c.animations,interpolation:c.interpolation,preserveWhitespaces:c.preserveWhitespaces});return J(l)&&r?(this._reportError((i=t,(o=Error("Can't compile synchronously as "+G(i)+" is still being loaded!"))[es]=i,o),t),null):H(l,p)}return p(null),null},e.prototype.getNonNormalizedDirectiveMetadata=function(e){var t=this;if(!(e=Y(e)))return null;var r=this._nonNormalizedDirectiveCache.get(e);if(r)return r;var n=this._directiveResolver.resolve(e,!1);if(!n)return null;var i=void 0;if(d.isTypeOf(n)){nt("styles",(s=n).styles),nt("styleUrls",s.styleUrls),ot("interpolation",s.interpolation);var o=s.animations;i=new De({encapsulation:V(s.encapsulation),template:V(s.template),templateUrl:V(s.templateUrl),htmlAst:null,styles:s.styles||[],styleUrls:s.styleUrls||[],animations:o||[],interpolation:V(s.interpolation),isInline:!!s.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:V(n.preserveWhitespaces)})}var s,a=null,u=[],p=[],c=n.selector;d.isTypeOf(n)?(a=(s=n).changeDetection,s.viewProviders&&(u=this._getProvidersMetadata(s.viewProviders,p,'viewProviders for "'+os(e)+'"',[],e)),s.entryComponents&&(p=rs(s.entryComponents).map(function(e){return t._getEntryComponentMetadata(e)}).concat(p)),c||(c=this._schemaRegistry.getDefaultComponentElementName())):c||(this._reportError(j("Directive "+os(e)+" has no selector, please add it!"),e),c="error");var l=[];null!=n.providers&&(l=this._getProvidersMetadata(n.providers,p,'providers for "'+os(e)+'"',[],e));var h=[],f=[];null!=n.queries&&(h=this._getQueriesMetadata(n.queries,!1,e),f=this._getQueriesMetadata(n.queries,!0,e));var v=Le.create({isHost:!1,selector:c,exportAs:V(n.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:a,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:l||[],viewProviders:u||[],queries:h||[],guards:n.guards||{},viewQueries:f||[],entryComponents:p,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(v.componentFactory=this.getComponentFactory(c,e,v.inputs,v.outputs)),r={metadata:v,annotation:n},this._nonNormalizedDirectiveCache.set(e,r),r},e.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);return t||this._reportError(j("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+os(e)+"."),e),t},e.prototype.getDirectiveSummary=function(e){var t=this._loadSummary(e,ke.Directive);return t||this._reportError(j("Illegal state: Could not load the summary for directive "+os(e)+"."),e),t},e.prototype.isDirective=function(e){return!!this._loadSummary(e,ke.Directive)||this._directiveResolver.isDirective(e)},e.prototype.isPipe=function(e){return!!this._loadSummary(e,ke.Pipe)||this._pipeResolver.isPipe(e)},e.prototype.isNgModule=function(e){return!!this._loadSummary(e,ke.NgModule)||this._ngModuleResolver.isNgModule(e)},e.prototype.getNgModuleSummary=function(e,t){void 0===t&&(t=null);var r=this._loadSummary(e,ke.NgModule);if(!r){var n=this.getNgModuleMetadata(e,!1,t);(r=n?n.toSummary():null)&&this._summaryCache.set(e,r)}return r},e.prototype.loadNgModuleDirectiveAndPipeMetadata=function(e,t,r){var n=this;void 0===r&&(r=!0);var i=this.getNgModuleMetadata(e,r),o=[];return i&&(i.declaredDirectives.forEach(function(r){var i=n.loadDirectiveMetadata(e,r.reference,t);i&&o.push(i)}),i.declaredPipes.forEach(function(e){return n._loadPipeMetadata(e.reference)})),Promise.all(o)},e.prototype.getNgModuleMetadata=function(e,t,r){var n=this;void 0===t&&(t=!0),void 0===r&&(r=null),e=Y(e);var i=this._ngModuleCache.get(e);if(i)return i;var o=this._ngModuleResolver.resolve(e,t);if(!o)return null;var s=[],a=[],u=[],p=[],c=[],l=[],h=[],f=[],d=[];o.imports&&rs(o.imports).forEach(function(t){var i=void 0;if(ns(t))i=t;else if(t&&t.ngModule){var o=t;i=o.ngModule,o.providers&&l.push.apply(l,n._getProvidersMetadata(o.providers,h,"provider for the NgModule '"+os(i)+"'",[],t))}if(i){if(!n._checkSelfImport(e,i))if(r||(r=new Set),r.has(i))n._reportError(j(n._getTypeDescriptor(i)+" '"+os(t)+"' is imported recursively by the module '"+os(e)+"'."),e);else{r.add(i);var s=n.getNgModuleSummary(i,r);r.delete(i),s?p.push(s):n._reportError(j("Unexpected "+n._getTypeDescriptor(t)+" '"+os(t)+"' imported by the module '"+os(e)+"'. Please add a @NgModule annotation."),e)}}else n._reportError(j("Unexpected value '"+os(t)+"' imported by the module '"+os(e)+"'"),e)}),o.exports&&rs(o.exports).forEach(function(t){if(ns(t))if(r||(r=new Set),r.has(t))n._reportError(j(n._getTypeDescriptor(t)+" '"+G(t)+"' is exported recursively by the module '"+os(e)+"'"),e);else{r.add(t);var i=n.getNgModuleSummary(t,r);r.delete(t),i?c.push(i):a.push(n._getIdentifierMetadata(t))}else n._reportError(j("Unexpected value '"+os(t)+"' exported by the module '"+os(e)+"'"),e)});var v=this._getTransitiveNgModuleMetadata(p,c);o.declarations&&rs(o.declarations).forEach(function(t){if(ns(t)){var r=n._getIdentifierMetadata(t);if(n.isDirective(t))v.addDirective(r),s.push(r),n._addTypeToModule(t,e);else{if(!n.isPipe(t))return void n._reportError(j("Unexpected "+n._getTypeDescriptor(t)+" '"+os(t)+"' declared by the module '"+os(e)+"'. Please add a @Pipe/@Directive/@Component annotation."),e);v.addPipe(r),v.pipes.push(r),u.push(r),n._addTypeToModule(t,e)}}else n._reportError(j("Unexpected value '"+os(t)+"' declared by the module '"+os(e)+"'"),e)});var m=[],y=[];return a.forEach(function(t){if(v.directivesSet.has(t.reference))m.push(t),v.addExportedDirective(t);else{if(!v.pipesSet.has(t.reference))return void n._reportError(j("Can't export "+n._getTypeDescriptor(t.reference)+" "+os(t.reference)+" from "+os(e)+" as it was neither declared nor imported!"),e);y.push(t),v.addExportedPipe(t)}}),o.providers&&l.push.apply(l,this._getProvidersMetadata(o.providers,h,"provider for the NgModule '"+os(e)+"'",[],e)),o.entryComponents&&h.push.apply(h,rs(o.entryComponents).map(function(e){return n._getEntryComponentMetadata(e)})),o.bootstrap&&rs(o.bootstrap).forEach(function(t){ns(t)?f.push(n._getIdentifierMetadata(t)):n._reportError(j("Unexpected value '"+os(t)+"' used in the bootstrap property of module '"+os(e)+"'"),e)}),h.push.apply(h,f.map(function(e){return n._getEntryComponentMetadata(e.reference)})),o.schemas&&d.push.apply(d,rs(o.schemas)),i=new Ve({type:this._getTypeMetadata(e),providers:l,entryComponents:h,bootstrapComponents:f,schemas:d,declaredDirectives:s,exportedDirectives:m,declaredPipes:u,exportedPipes:y,importedModules:p,exportedModules:c,transitiveModule:v,id:o.id||null}),h.forEach(function(e){return v.addEntryComponent(e)}),l.forEach(function(e){return v.addProvider(e,i.type)}),v.addModule(i.type),this._ngModuleCache.set(e,i),i},e.prototype._checkSelfImport=function(e,t){return e===t&&(this._reportError(j("'"+os(e)+"' module can't import itself"),e),!0)},e.prototype._getTypeDescriptor=function(e){if(ns(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"},e.prototype._addTypeToModule=function(e,t){var r=this._ngModuleOfTypes.get(e);r&&r!==t?this._reportError(j("Type "+os(e)+" is part of the declarations of 2 modules: "+os(r)+" and "+os(t)+"! Please consider moving "+os(e)+" to a higher module that imports "+os(r)+" and "+os(t)+". You can also create a new NgModule that exports and includes "+os(e)+" then import that NgModule in "+os(r)+" and "+os(t)+"."),t):this._ngModuleOfTypes.set(e,t)},e.prototype._getTransitiveNgModuleMetadata=function(e,t){var r=new Be,n=new Map;return e.concat(t).forEach(function(e){e.modules.forEach(function(e){return r.addModule(e)}),e.entryComponents.forEach(function(e){return r.addEntryComponent(e)});var t=new Set;e.providers.forEach(function(e){var i=Re(e.provider.token),o=n.get(i);o||(o=new Set,n.set(i,o));var s=e.module.reference;!t.has(i)&&o.has(s)||(o.add(s),t.add(i),r.addProvider(e.provider,e.module))})}),t.forEach(function(e){e.exportedDirectives.forEach(function(e){return r.addExportedDirective(e)}),e.exportedPipes.forEach(function(e){return r.addExportedPipe(e)})}),e.forEach(function(e){e.exportedDirectives.forEach(function(e){return r.addDirective(e)}),e.exportedPipes.forEach(function(e){return r.addPipe(e)})}),r},e.prototype._getIdentifierMetadata=function(e){return{reference:e=Y(e)}},e.prototype.isInjectable=function(e){return this._reflector.annotations(e).some(function(e){return w.isTypeOf(e)})},e.prototype.getInjectableSummary=function(e){return{summaryKind:ke.Injectable,type:this._getTypeMetadata(e,null,!1)}},e.prototype._getInjectableMetadata=function(e,t){void 0===t&&(t=null);var r=this._loadSummary(e,ke.Injectable);return r?r.type:this._getTypeMetadata(e,t)},e.prototype._getTypeMetadata=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!0);var n,i,o=this._getIdentifierMetadata(e);return{reference:o.reference,diDeps:this._getDependenciesMetadata(o.reference,t,r),lifecycleHooks:(n=this._reflector,i=o.reference,Xo.filter(function(e){return Qo(n,e,i)}))}},e.prototype._getFactoryMetadata=function(e,t){return void 0===t&&(t=null),{reference:e=Y(e),diDeps:this._getDependenciesMetadata(e,t)}},e.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);return t||this._reportError(j("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+os(e)+"."),e),t||null},e.prototype.getPipeSummary=function(e){var t=this._loadSummary(e,ke.Pipe);return t||this._reportError(j("Illegal state: Could not load the summary for pipe "+os(e)+"."),e),t},e.prototype.getOrLoadPipeMetadata=function(e){var t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t},e.prototype._loadPipeMetadata=function(e){e=Y(e);var t=this._pipeResolver.resolve(e),r=new Fe({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,r),this._summaryCache.set(e,r.toSummary()),r},e.prototype._getDependenciesMetadata=function(e,t,r){var n=this;void 0===r&&(r=!0);var a=!1,u=(t||this._reflector.parameters(e)||[]).map(function(e){var t=!1,r=!1,u=!1,p=!1,c=!1,l=null;return Array.isArray(e)?e.forEach(function(e){A.isTypeOf(e)?r=!0:T.isTypeOf(e)?u=!0:b.isTypeOf(e)?p=!0:C.isTypeOf(e)?c=!0:s.isTypeOf(e)?(t=!0,l=e.attributeName):i.isTypeOf(e)?l=e.token:o.isTypeOf(e)||e instanceof Ee?l=e:ns(e)&&null==l&&(l=e)}):l=e,null==l?(a=!0,null):{isAttribute:t,isHost:r,isSelf:u,isSkipSelf:p,isOptional:c,token:n._getTokenMetadata(l)}});if(a){var p=u.map(function(e){return e?os(e.token):"?"}).join(", "),c="Can't resolve all parameters for "+os(e)+": ("+p+").";r||this._config.strictInjectionParameters?this._reportError(j(c),e):this._console.warn("Warning: "+c+" This will become an error in Angular v6.x")}return u},e.prototype._getTokenMetadata=function(e){return"string"==typeof(e=Y(e))?{value:e}:{identifier:{reference:e}}},e.prototype._getProvidersMetadata=function(e,t,r,n,i){var o=this;return void 0===n&&(n=[]),e.forEach(function(s,a){if(Array.isArray(s))o._getProvidersMetadata(s,t,r,n);else{var u=void 0;if((s=Y(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))o._validateProvider(s),u=new He(s.provide,s);else{if(!ns(s)){if(void 0===s)return void o._reportError(j("Encountered undefined provider! Usually this means you have a circular dependencies (might be caused by using 'barrel' index.ts files."));var p=e.reduce(function(e,t,r){return r<a?e.push(""+os(t)):r==a?e.push("?"+os(t)+"?"):r==a+1&&e.push("..."),e},[]).join(", ");return void o._reportError(j("Invalid "+(r||"provider")+" - only instances of Provider and Type are allowed, got: ["+p+"]"),i)}u=new He(s,{useClass:s})}u.token===o._reflector.resolveExternalReference(jo.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push.apply(t,o._getEntryComponentsFromProvider(u,i)):n.push(o.getProviderMetadata(u))}}),n},e.prototype._validateProvider=function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(j("Invalid provider for "+os(e.provide)+". useClass cannot be "+e.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},e.prototype._getEntryComponentsFromProvider=function(e,t){var r,n,i=this,o=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(j("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(r=e.useValue,n=s,L(r,new is,n),s.forEach(function(e){var t=i._getEntryComponentMetadata(e.reference,!1);t&&o.push(t)}),o):(this._reportError(j("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])},e.prototype._getEntryComponentMetadata=function(e,t){void 0===t&&(t=!0);var r=this.getNonNormalizedDirectiveMetadata(e);if(r&&r.metadata.isComponent)return{componentType:e,componentFactory:r.metadata.componentFactory};var n=this._loadSummary(e,ke.Directive);if(n&&n.isComponent)return{componentType:e,componentFactory:n.componentFactory};if(t)throw j(e.name+" cannot be used as an entry component.");return null},e.prototype.getProviderMetadata=function(e){var t=void 0,r=null,n=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(r=this._getInjectableMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:r})):e.useFactory&&(t=(n=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:r,useValue:e.useValue,useFactory:n,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}},e.prototype._getQueriesMetadata=function(e,t,r){var n=this,i=[];return Object.keys(e).forEach(function(o){var s=e[o];s.isViewQuery===t&&i.push(n._getQueryMetadata(s,o,r))}),i},e.prototype._queryVarBindings=function(e){return e.split(/\s*,\s*/)},e.prototype._getQueryMetadata=function(e,t,r){var n,i=this;return"string"==typeof e.selector?n=this._queryVarBindings(e.selector).map(function(e){return i._getTokenMetadata(e)}):e.selector?n=[this._getTokenMetadata(e.selector)]:(this._reportError(j("Can't construct a query for the property \""+t+'" of "'+os(r)+"\" since the query selector wasn't defined."),r),n=[]),{selectors:n,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null}},e.prototype._reportError=function(e,t,r){if(!this._errorCollector)throw e;this._errorCollector(e,t),r&&this._errorCollector(e,r)},e}();function rs(e){return(t=function e(t,r){if(void 0===r&&(r=[]),t)for(var n=0;n<t.length;n++){var i=Y(t[n]);Array.isArray(i)?e(i,r):r.push(i)}return r}(e))?Array.from(new Set(t)):[];var t}function ns(e){return e instanceof Ee||e instanceof P}var is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.visitOther=function(e,t){t.push({reference:e})},t}(B);function os(e){return e instanceof Ee?e.name+" in "+e.filePath:G(e)}var ss={Const:0};ss[ss.Const]="Const";var as=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,e||(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),us={Dynamic:0,Bool:1,String:2,Int:3,Number:4,Function:5,Inferred:6};us[us.Dynamic]="Dynamic",us[us.Bool]="Bool",us[us.String]="String",us[us.Int]="Int",us[us.Number]="Number",us[us.Function]="Function",us[us.Inferred]="Inferred";var ps=function(e){function t(t,r){void 0===r&&(r=null);var n=e.call(this,r)||this;return n.name=t,n}return r(t,e),t.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},t}(as),cs=function(e){function t(t,r){void 0===r&&(r=null);var n=e.call(this,r)||this;return n.value=t,n}return r(t,e),t.prototype.visitType=function(e,t){return e.visitExpressionType(this,t)},t}(as),ls=function(e){function t(t,r){void 0===r&&(r=null);var n=e.call(this,r)||this;return n.of=t,n}return r(t,e),t.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},t}(as),hs=function(e){function t(t,r){void 0===r&&(r=null);var n=e.call(this,r)||this;return n.valueType=t||null,n}return r(t,e),t.prototype.visitType=function(e,t){return e.visitMapType(this,t)},t}(as),fs=new ps(us.Dynamic),ds=new ps(us.Inferred),vs=new ps(us.Bool),ms=(new ps(us.Int),new ps(us.Number),new ps(us.String),new ps(us.Function),{Equals:0,NotEquals:1,Identical:2,NotIdentical:3,Minus:4,Plus:5,Divide:6,Multiply:7,Modulo:8,And:9,Or:10,Lower:11,LowerEquals:12,Bigger:13,BiggerEquals:14});function ys(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function gs(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(!e[n].isEquivalent(t[n]))return!1;return!0}ms[ms.Equals]="Equals",ms[ms.NotEquals]="NotEquals",ms[ms.Identical]="Identical",ms[ms.NotIdentical]="NotIdentical",ms[ms.Minus]="Minus",ms[ms.Plus]="Plus",ms[ms.Divide]="Divide",ms[ms.Multiply]="Multiply",ms[ms.Modulo]="Modulo",ms[ms.And]="And",ms[ms.Or]="Or",ms[ms.Lower]="Lower",ms[ms.LowerEquals]="LowerEquals",ms[ms.Bigger]="Bigger",ms[ms.BiggerEquals]="BiggerEquals";var _s=function(){function e(e,t){this.type=e||null,this.sourceSpan=t||null}return e.prototype.prop=function(e,t){return new Bs(this,e,null,t)},e.prototype.key=function(e,t,r){return new Us(this,e,t,r)},e.prototype.callMethod=function(e,t,r){return new bs(this,e,t,null,r)},e.prototype.callFn=function(e,t){return new As(this,e,null,t)},e.prototype.instantiate=function(e,t,r){return new Ps(this,e,t,r)},e.prototype.conditional=function(e,t,r){return void 0===t&&(t=null),new Is(this,e,t,null,r)},e.prototype.equals=function(e,t){return new Vs(ms.Equals,this,e,null,t)},e.prototype.notEquals=function(e,t){return new Vs(ms.NotEquals,this,e,null,t)},e.prototype.identical=function(e,t){return new Vs(ms.Identical,this,e,null,t)},e.prototype.notIdentical=function(e,t){return new Vs(ms.NotIdentical,this,e,null,t)},e.prototype.minus=function(e,t){return new Vs(ms.Minus,this,e,null,t)},e.prototype.plus=function(e,t){return new Vs(ms.Plus,this,e,null,t)},e.prototype.divide=function(e,t){return new Vs(ms.Divide,this,e,null,t)},e.prototype.multiply=function(e,t){return new Vs(ms.Multiply,this,e,null,t)},e.prototype.modulo=function(e,t){return new Vs(ms.Modulo,this,e,null,t)},e.prototype.and=function(e,t){return new Vs(ms.And,this,e,null,t)},e.prototype.or=function(e,t){return new Vs(ms.Or,this,e,null,t)},e.prototype.lower=function(e,t){return new Vs(ms.Lower,this,e,null,t)},e.prototype.lowerEquals=function(e,t){return new Vs(ms.LowerEquals,this,e,null,t)},e.prototype.bigger=function(e,t){return new Vs(ms.Bigger,this,e,null,t)},e.prototype.biggerEquals=function(e,t){return new Vs(ms.BiggerEquals,this,e,null,t)},e.prototype.isBlank=function(e){return this.equals(Ks,e)},e.prototype.cast=function(e,t){return new Ds(this,e,t)},e.prototype.toStmt=function(){return new Js(this,null)},e}(),Es={This:0,Super:1,CatchError:2,CatchStack:3};Es[Es.This]="This",Es[Es.Super]="Super",Es[Es.CatchError]="CatchError",Es[Es.CatchStack]="CatchStack";var Ss=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return"string"==typeof t?(i.name=t,i.builtin=null):(i.name=null,i.builtin=t),i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.name===e.name&&this.builtin===e.builtin},t.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},t.prototype.set=function(e){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new xs(this.name,e,null,this.sourceSpan)},t}(_s),xs=function(e){function t(t,r,n,i){var o=e.call(this,n||r.type,i)||this;return o.name=t,o.value=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)},t.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return new Gs(this.name,this.value,e,t,this.sourceSpan)},t}(_s),Cs=function(e){function t(t,r,n,i,o){var s=e.call(this,i||n.type,o)||this;return s.receiver=t,s.index=r,s.value=n,s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)},t.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},t}(_s),ws=function(e){function t(t,r,n,i,o){var s=e.call(this,i||n.type,o)||this;return s.receiver=t,s.name=r,s.value=n,s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)},t.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},t}(_s),Ts={ConcatArray:0,SubscribeObservable:1,Bind:2};Ts[Ts.ConcatArray]="ConcatArray",Ts[Ts.SubscribeObservable]="SubscribeObservable",Ts[Ts.Bind]="Bind";var bs=function(e){function t(t,r,n,i,o){var s=e.call(this,i,o)||this;return s.receiver=t,s.args=n,"string"==typeof r?(s.name=r,s.builtin=null):(s.name=null,s.builtin=r),s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&gs(this.args,e.args)},t.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},t}(_s),As=function(e){function t(t,r,n,i){var o=e.call(this,n,i)||this;return o.fn=t,o.args=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&gs(this.args,e.args)},t.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},t}(_s),Ps=function(e){function t(t,r,n,i){var o=e.call(this,n,i)||this;return o.classExpr=t,o.args=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&gs(this.args,e.args)},t.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},t}(_s),Ms=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.value=t,i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.value===e.value},t.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},t}(_s),Ns=function(e){function t(t,r,n,i){void 0===n&&(n=null);var o=e.call(this,r,i)||this;return o.value=t,o.typeParams=n,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime},t.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},t}(_s),ks=function(){return function(e,t,r){this.moduleName=e,this.name=t,this.runtime=r}}(),Is=function(e){function t(t,r,n,i,o){void 0===n&&(n=null);var s=e.call(this,i||r.type,o)||this;return s.condition=t,s.falseCase=n,s.trueCase=r,s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&ys(this.falseCase,e.falseCase)},t.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},t}(_s),Rs=function(e){function t(t,r){var n=e.call(this,vs,r)||this;return n.condition=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)},t.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},t}(_s),Os=function(e){function t(t,r){var n=e.call(this,t.type,r)||this;return n.condition=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)},t.prototype.visitExpression=function(e,t){return e.visitAssertNotNullExpr(this,t)},t}(_s),Ds=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.value=t,i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.value.isEquivalent(e.value)},t.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},t}(_s),Ls=function(){function e(e,t){void 0===t&&(t=null),this.name=e,this.type=t}return e.prototype.isEquivalent=function(e){return this.name===e.name},e}(),Fs=function(e){function t(t,r,n,i){var o=e.call(this,n,i)||this;return o.params=t,o.statements=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.params,e.params)&&gs(this.statements,e.statements)},t.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new Ys(e,this.params,this.statements,this.type,t,this.sourceSpan)},t}(_s),Vs=function(e){function t(t,r,n,i,o){var s=e.call(this,i||r.type,o)||this;return s.operator=t,s.rhs=n,s.lhs=r,s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)},t.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},t}(_s),Bs=function(e){function t(t,r,n,i){var o=e.call(this,n,i)||this;return o.receiver=t,o.name=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name},t.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},t.prototype.set=function(e){return new ws(this.receiver,this.name,e,null,this.sourceSpan)},t}(_s),Us=function(e){function t(t,r,n,i){var o=e.call(this,n,i)||this;return o.receiver=t,o.index=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)},t.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},t.prototype.set=function(e){return new Cs(this.receiver,this.index,e,null,this.sourceSpan)},t}(_s),Hs=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.entries=t,i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.entries,e.entries)},t.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},t}(_s),qs=function(){function e(e,t,r){this.key=e,this.value=t,this.quoted=r}return e.prototype.isEquivalent=function(e){return this.key===e.key&&this.value.isEquivalent(e.value)},e}(),js=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.entries=t,i.valueType=null,r&&(i.valueType=r.valueType),i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.entries,e.entries)},t.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},t}(_s),Ws=function(e){function t(t,r){var n=e.call(this,t[t.length-1].type,r)||this;return n.parts=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.parts,e.parts)},t.prototype.visitExpression=function(e,t){return e.visitCommaExpr(this,t)},t}(_s),zs=(new Ss(Es.This,null,null),new Ss(Es.Super,null,null),new Ss(Es.CatchError,null,null),new Ss(Es.CatchStack,null,null),new Ms(null,null,null)),Ks=new Ms(null,ds,null),Xs={Final:0,Private:1,Exported:2};Xs[Xs.Final]="Final",Xs[Xs.Private]="Private",Xs[Xs.Exported]="Exported";var Qs=function(){function e(e,t){this.modifiers=e||[],this.sourceSpan=t||null}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Gs=function(e){function t(t,r,n,i,o){void 0===i&&(i=null);var s=e.call(this,i,o)||this;return s.name=t,s.value=r,s.type=n||r.type,s}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)},t.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},t}(Qs),Ys=function(e){function t(t,r,n,i,o,s){void 0===o&&(o=null);var a=e.call(this,o,s)||this;return a.name=t,a.params=r,a.statements=n,a.type=i||null,a}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.params,e.params)&&gs(this.statements,e.statements)},t.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},t}(Qs),Js=function(e){function t(t,r){var n=e.call(this,null,r)||this;return n.expr=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.expr.isEquivalent(e.expr)},t.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},t}(Qs),$s=function(e){function t(t,r){var n=e.call(this,null,r)||this;return n.value=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.value.isEquivalent(e.value)},t.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},t}(Qs),Zs=function(){function e(e,t){this.modifiers=t,t||(this.modifiers=[]),this.type=e||null}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),ea=(function(e){function t(t,r,n){void 0===n&&(n=null);var i=e.call(this,r,n)||this;return i.name=t,i}r(t,e),t.prototype.isEquivalent=function(e){return this.name===e.name}}(Zs),function(e){function t(t,r,n,i,o){void 0===o&&(o=null);var s=e.call(this,i,o)||this;return s.name=t,s.params=r,s.body=n,s}return r(t,e),t.prototype.isEquivalent=function(e){return this.name===e.name&&gs(this.body,e.body)},t}(Zs)),ta=function(e){function t(t,r,n,i){void 0===i&&(i=null);var o=e.call(this,n,i)||this;return o.name=t,o.body=r,o}return r(t,e),t.prototype.isEquivalent=function(e){return this.name===e.name&&gs(this.body,e.body)},t}(Zs),ra=function(e){function t(t,r,n,i,o,s,a,u){void 0===a&&(a=null);var p=e.call(this,a,u)||this;return p.name=t,p.parent=r,p.fields=n,p.getters=i,p.constructorMethod=o,p.methods=s,p}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.name===e.name&&ys(this.parent,e.parent)&&gs(this.fields,e.fields)&&gs(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&gs(this.methods,e.methods)},t.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},t}(Qs),na=function(e){function t(t,r,n,i){void 0===n&&(n=[]);var o=e.call(this,null,i)||this;return o.condition=t,o.trueCase=r,o.falseCase=n,o}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&gs(this.trueCase,e.trueCase)&&gs(this.falseCase,e.falseCase)},t.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},t}(Qs),ia=function(e){function t(t,r){var n=e.call(this,null,r)||this;return n.comment=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t},t.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},t}(Qs),oa=function(e){function t(t,r,n){var i=e.call(this,null,n)||this;return i.bodyStmts=t,i.catchStmts=r,i}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof t&&gs(this.bodyStmts,e.bodyStmts)&&gs(this.catchStmts,e.catchStmts)},t.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},t}(Qs),sa=function(e){function t(t,r){var n=e.call(this,null,r)||this;return n.error=t,n}return r(t,e),t.prototype.isEquivalent=function(e){return e instanceof oa&&this.error.isEquivalent(e.error)},t.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},t}(Qs),aa=function(){function e(){}return e.prototype.transformExpr=function(e,t){return e},e.prototype.transformStmt=function(e,t){return e},e.prototype.visitReadVarExpr=function(e,t){return this.transformExpr(e,t)},e.prototype.visitWriteVarExpr=function(e,t){return this.transformExpr(new xs(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitWriteKeyExpr=function(e,t){return this.transformExpr(new Cs(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitWritePropExpr=function(e,t){return this.transformExpr(new ws(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitInvokeMethodExpr=function(e,t){var r=e.builtin||e.name;return this.transformExpr(new bs(e.receiver.visitExpression(this,t),r,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},e.prototype.visitInvokeFunctionExpr=function(e,t){return this.transformExpr(new As(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},e.prototype.visitInstantiateExpr=function(e,t){return this.transformExpr(new Ps(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},e.prototype.visitLiteralExpr=function(e,t){return this.transformExpr(e,t)},e.prototype.visitExternalExpr=function(e,t){return this.transformExpr(e,t)},e.prototype.visitConditionalExpr=function(e,t){return this.transformExpr(new Is(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitNotExpr=function(e,t){return this.transformExpr(new Rs(e.condition.visitExpression(this,t),e.sourceSpan),t)},e.prototype.visitAssertNotNullExpr=function(e,t){return this.transformExpr(new Os(e.condition.visitExpression(this,t),e.sourceSpan),t)},e.prototype.visitCastExpr=function(e,t){return this.transformExpr(new Ds(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitFunctionExpr=function(e,t){return this.transformExpr(new Fs(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)},e.prototype.visitBinaryOperatorExpr=function(e,t){return this.transformExpr(new Vs(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitReadPropExpr=function(e,t){return this.transformExpr(new Bs(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)},e.prototype.visitReadKeyExpr=function(e,t){return this.transformExpr(new Us(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)},e.prototype.visitLiteralArrayExpr=function(e,t){return this.transformExpr(new Hs(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n=e.entries.map(function(e){return new qs(e.key,e.value.visitExpression(r,t),e.quoted)}),i=new hs(e.valueType,null);return this.transformExpr(new js(n,i,e.sourceSpan),t)},e.prototype.visitCommaExpr=function(e,t){return this.transformExpr(new Ws(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return this.transformStmt(new Gs(e.name,e.value.visitExpression(this,t),e.type,e.modifiers,e.sourceSpan),t)},e.prototype.visitDeclareFunctionStmt=function(e,t){return this.transformStmt(new Ys(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)},e.prototype.visitExpressionStmt=function(e,t){return this.transformStmt(new Js(e.expr.visitExpression(this,t),e.sourceSpan),t)},e.prototype.visitReturnStmt=function(e,t){return this.transformStmt(new $s(e.value.visitExpression(this,t),e.sourceSpan),t)},e.prototype.visitDeclareClassStmt=function(e,t){var r=this,n=e.parent.visitExpression(this,t),i=e.getters.map(function(e){return new ta(e.name,r.visitAllStatements(e.body,t),e.type,e.modifiers)}),o=e.constructorMethod&&new ea(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(function(e){return new ea(e.name,e.params,r.visitAllStatements(e.body,t),e.type,e.modifiers)});return this.transformStmt(new ra(e.name,n,e.fields,i,o,s,e.modifiers,e.sourceSpan),t)},e.prototype.visitIfStmt=function(e,t){return this.transformStmt(new na(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)},e.prototype.visitTryCatchStmt=function(e,t){return this.transformStmt(new oa(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)},e.prototype.visitThrowStmt=function(e,t){return this.transformStmt(new sa(e.error.visitExpression(this,t),e.sourceSpan),t)},e.prototype.visitCommentStmt=function(e,t){return this.transformStmt(e,t)},e.prototype.visitAllStatements=function(e,t){var r=this;return e.map(function(e){return e.visitStatement(r,t)})},e}(),ua=function(){function e(){}return e.prototype.visitType=function(e,t){return e},e.prototype.visitExpression=function(e,t){return e.type&&e.type.visitType(this,t),e},e.prototype.visitBuiltintType=function(e,t){return this.visitType(e,t)},e.prototype.visitExpressionType=function(e,t){return e.value.visitExpression(this,t),this.visitType(e,t)},e.prototype.visitArrayType=function(e,t){return this.visitType(e,t)},e.prototype.visitMapType=function(e,t){return this.visitType(e,t)},e.prototype.visitReadVarExpr=function(e,t){return this.visitExpression(e,t)},e.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},e.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},e.prototype.visitLiteralExpr=function(e,t){return this.visitExpression(e,t)},e.prototype.visitExternalExpr=function(e,t){var r=this;return e.typeParams&&e.typeParams.forEach(function(e){return e.visitType(r,t)}),this.visitExpression(e,t)},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitFunctionExpr=function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)},e.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return e.entries.forEach(function(e){return e.value.visitExpression(r,t)}),this.visitExpression(e,t)},e.prototype.visitCommaExpr=function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)},e.prototype.visitAllExpressions=function(e,t){var r=this;e.forEach(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e},e.prototype.visitDeclareFunctionStmt=function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},e.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareClassStmt=function(e,t){var r=this;return e.parent.visitExpression(this,t),e.getters.forEach(function(e){return r.visitAllStatements(e.body,t)}),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(function(e){return r.visitAllStatements(e.body,t)}),e},e.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},e.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},e.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},e.prototype.visitCommentStmt=function(e,t){return e},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}();function pa(e){var t=new ca;return t.visitAllStatements(e,null),t.varNames}var ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.varNames=new Set,t}return r(t,e),t.prototype.visitDeclareFunctionStmt=function(e,t){return e},t.prototype.visitDeclareClassStmt=function(e,t){return e},t.prototype.visitReadVarExpr=function(e,t){return e.name&&this.varNames.add(e.name),null},t}(ua);var la=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.externalReferences=[],t}return r(t,e),t.prototype.visitExternalExpr=function(t,r){return this.externalReferences.push(t.value),e.prototype.visitExternalExpr.call(this,t,r)},t}(ua);function ha(e,t){if(!t)return e;var r=new da(t);return e.visitStatement(r,null)}function fa(e,t){if(!t)return e;var r=new da(t);return e.visitExpression(r,null)}var da=function(e){function t(t){var r=e.call(this)||this;return r.sourceSpan=t,r}return r(t,e),t.prototype._clone=function(e){var t=Object.create(e.constructor.prototype);for(var r in e)t[r]=e[r];return t},t.prototype.transformExpr=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},t.prototype.transformStmt=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},t}(aa);function va(e,t,r){return new Ss(e,t,r)}function ma(e,t,r){return void 0===t&&(t=null),new Ns(e,null,t,r)}function ya(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),null!=e?ga(ma(e,t,null),r):null}function ga(e,t){return void 0===t&&(t=null),new cs(e,t)}function _a(e,t,r){return new Hs(e,t,r)}function Ea(e,t){return void 0===t&&(t=null),new js(e.map(function(e){return new qs(e.key,e.value,e.quoted)}),t,null)}function Sa(e,t,r,n){return new Fs(e,t,r,n)}function xa(e,t,r){return new Ms(e,t,r)}var Ca=function(e){function t(t,r){return e.call(this,r,t)||this}return r(t,e),t}(Cn),wa=function(){return function(e,t){var r=this;this.reflector=e,this.component=t,this.errors=[],this.viewQueries=(n=t,i=1,o=new Map,n.viewQueries&&n.viewQueries.forEach(function(e){return Na(o,{meta:e,queryId:i++})}),o),this.viewProviders=new Map,t.viewProviders.forEach(function(e){null==r.viewProviders.get(Re(e.token))&&r.viewProviders.set(Re(e.token),!0)});var n,i,o}}(),Ta=function(){function e(e,t,r,n,i,o,s,a,u){var p=this;this.viewContext=e,this._parent=t,this._isViewRoot=r,this._directiveAsts=n,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(function(e){return p._attrs[e.name]=e.value});var c,l,h,f,d,v,m,y=n.map(function(e){return e.directive});if(this._allProviders=(c=y,l=u,h=e.errors,f=new Map,c.forEach(function(e){Ma([{token:{identifier:e.type},useClass:e.type}],e.isComponent?he.Component:he.Directive,!0,l,h,f)}),c.filter(function(e){return e.isComponent}).concat(c.filter(function(e){return!e.isComponent})).forEach(function(e){Ma(e.providers,he.PublicService,!1,l,h,f),Ma(e.viewProviders,he.PrivateService,!1,l,h,f)}),f),this._contentQueries=(d=y,v=a,m=new Map,d.forEach(function(e,t){e.queries&&e.queries.forEach(function(e){return Na(m,{meta:e,queryId:v++})})}),m),Array.from(this._allProviders.values()).forEach(function(e){p._addQueryReadsTo(e.token,e.token,p._queriedTokens)}),s){var g=zo(this.viewContext.reflector,jo.TemplateRef);this._addQueryReadsTo(g,g,this._queriedTokens)}o.forEach(function(e){var t=e.value||zo(p.viewContext.reflector,jo.ElementRef);p._addQueryReadsTo({value:e.name},t,p._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(jo.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(e){(e.eager||p._queriedTokens.get(Re(e.token)))&&p._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return e.prototype.afterElement=function(){var e=this;Array.from(this._allProviders.values()).forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(e.prototype,"transformProviders",{get:function(){var e=[],t=[];return this._transformedProviders.forEach(function(r){r.eager?t.push(r):e.push(r)}),e.concat(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedDirectiveAsts",{get:function(){var e=this.transformProviders.map(function(e){return e.token.identifier}),t=this._directiveAsts.slice();return t.sort(function(t,r){return e.indexOf(t.directive.type)-e.indexOf(r.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryMatches",{get:function(){var e=[];return this._queriedTokens.forEach(function(t){e.push.apply(e,t)}),e},enumerable:!0,configurable:!0}),e.prototype._addQueryReadsTo=function(e,t,r){this._getQueriesFor(e).forEach(function(e){var n=e.meta.read||t,i=Re(n),o=r.get(i);o||(o=[],r.set(i,o)),o.push({queryId:e.queryId,value:n})})},e.prototype._getQueriesFor=function(e){for(var t,r=[],n=this,i=0;null!==n;)(t=n._contentQueries.get(Re(e)))&&r.push.apply(r,t.filter(function(e){return e.meta.descendants||i<=1})),n._directiveAsts.length>0&&i++,n=n._parent;return(t=this.viewContext.viewQueries.get(Re(e)))&&r.push.apply(r,t),r},e.prototype._getOrCreateLocalProvider=function(e,t,r){var n=this,i=this._allProviders.get(Re(t));if(!i||(e===he.Directive||e===he.PublicService)&&i.providerType===he.PrivateService||(e===he.PrivateService||e===he.PublicService)&&i.providerType===he.Builtin)return null;var o=this._transformedProviders.get(Re(t));if(o)return o;if(null!=this._seenProviders.get(Re(t)))return this.viewContext.errors.push(new Ca("Cannot instantiate cyclic dependency! "+Ie(t),this._sourceSpan)),null;this._seenProviders.set(Re(t),!0);var s=i.providers.map(function(e){var t=e.useValue,o=e.useExisting,s=void 0;if(null!=e.useExisting){var a=n._getDependency(i.providerType,{token:e.useExisting},r);null!=a.token?o=a.token:(o=null,t=a.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(function(e){return n._getDependency(i.providerType,e,r)})}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(function(e){return n._getDependency(i.providerType,e,r)})}return Aa(e,{useExisting:o,useValue:t,deps:s})});return o=Pa(i,{eager:r,providers:s}),this._transformedProviders.set(Re(t),o),o},e.prototype._getLocalDependency=function(e,t,r){if(void 0===r&&(r=!1),t.isAttribute){var n=this._attrs[t.token.value];return{isValue:!0,value:null==n?null:n}}if(null!=t.token){if(e===he.Directive||e===he.Component){if(Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.Renderer)||Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.ElementRef)||Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.ChangeDetectorRef)||Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.TemplateRef))return t;Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(Re(t.token)===this.viewContext.reflector.resolveExternalReference(jo.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,r))return t}return null},e.prototype._getDependency=function(e,t,r){void 0===r&&(r=!1);var n=this,i=r,o=null;if(t.isSkipSelf||(o=this._getLocalDependency(e,t,r)),t.isSelf)!o&&t.isOptional&&(o={isValue:!0,value:null});else{for(;!o&&n._parent;){var s=n;n=n._parent,s._isViewRoot&&(i=!1),o=n._getLocalDependency(he.PublicService,t,i)}o||(o=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===Re(t.token)||null!=this.viewContext.viewProviders.get(Re(t.token))?t:t.isOptional?o={isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new Ca("No provider for "+Ie(t.token),this._sourceSpan)),o},e}(),ba=function(){function e(e,t,r,n){var i=this;this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(e){Ma([{token:{identifier:e},useClass:e}],he.PublicService,!0,n,i._errors,i._allProviders)}),Ma(t.transitiveModule.providers.map(function(e){return e.provider}).concat(r),he.PublicService,!1,n,this._errors,this._allProviders)}return e.prototype.parse=function(){var e=this;if(Array.from(this._allProviders.values()).forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n"+t)}var r=[],n=[];return this._transformedProviders.forEach(function(e){e.eager?n.push(e):r.push(e)}),r.concat(n)},e.prototype._getOrCreateLocalProvider=function(e,t){var r=this,n=this._allProviders.get(Re(e));if(!n)return null;var i=this._transformedProviders.get(Re(e));if(i)return i;if(null!=this._seenProviders.get(Re(e)))return this._errors.push(new Ca("Cannot instantiate cyclic dependency! "+Ie(e),n.sourceSpan)),null;this._seenProviders.set(Re(e),!0);var o=n.providers.map(function(e){var i=e.useValue,o=e.useExisting,s=void 0;if(null!=e.useExisting){var a=r._getDependency({token:e.useExisting},t,n.sourceSpan);null!=a.token?o=a.token:(o=null,i=a.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(function(e){return r._getDependency(e,t,n.sourceSpan)})}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(function(e){return r._getDependency(e,t,n.sourceSpan)})}return Aa(e,{useExisting:o,useValue:i,deps:s})});return i=Pa(n,{eager:t,providers:o}),this._transformedProviders.set(Re(e),i),i},e.prototype._getDependency=function(e,t,r){void 0===t&&(t=!1);var n=!1;e.isSkipSelf||null==e.token||(Re(e.token)===this.reflector.resolveExternalReference(jo.Injector)||Re(e.token)===this.reflector.resolveExternalReference(jo.ComponentFactoryResolver)?n=!0:null!=this._getOrCreateLocalProvider(e.token,t)&&(n=!0));var i=e;return e.isSelf&&!n&&(e.isOptional?i={isValue:!0,value:null}:this._errors.push(new Ca("No provider for "+Ie(e.token),r))),i},e}();function Aa(e,t){var r=t.useExisting,n=t.useValue,i=t.deps;return{token:e.token,useClass:e.useClass,useExisting:r,useFactory:e.useFactory,useValue:n,deps:i,multi:e.multi}}function Pa(e,t){var r=t.eager,n=t.providers;return new le(e.token,e.multiProvider,e.eager||r,n,e.providerType,e.lifecycleHooks,e.sourceSpan)}function Ma(e,t,r,n,i,o){e.forEach(function(e){var s=o.get(Re(e.token));if(null!=s&&!!s.multiProvider!=!!e.multi&&i.push(new Ca("Mixing multi and non multi provider is not possible for token "+Ie(s.token),n)),s)e.multi||(s.providers.length=0),s.providers.push(e);else{var a=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],u=!(e.useClass||e.useExisting||e.useFactory);s=new le(e.token,!!e.multi,r||u,[e],t,a,n),o.set(Re(e.token),s)}})}function Na(e,t){t.meta.selectors.forEach(function(r){var n=e.get(Re(r));n||(n=[],e.set(Re(r),n)),n.push(t)})}function ka(e,t,r){return void 0===r&&(r=null),L(t,new Ia(e),r)}var Ia=function(){function e(e){this.ctx=e}return e.prototype.visitArray=function(e,t){var r=this;return _a(e.map(function(e){return L(e,r,null)}),t)},e.prototype.visitStringMap=function(e,t){var r=this,n=[],i=new Set(e&&e.$quoted$);return Object.keys(e).forEach(function(t){n.push(new qs(t,L(e[t],r,null),i.has(t)))}),new js(n,t)},e.prototype.visitPrimitive=function(e,t){return xa(e,t)},e.prototype.visitOther=function(e,t){return e instanceof _s?e:this.ctx.importExpr(e)},e}();function Ra(e,t){var r=0;t.eager||(r|=4096),t.providerType===he.PrivateService&&(r|=8192),t.lifecycleHooks.forEach(function(e){e!==Ko.OnDestroy&&t.providerType!==he.Directive&&t.providerType!==he.Component||(r|=Fa(e))});var n=t.multiProvider?function(e,t,r){var n=[],i=[],o=r.map(function(t,r){var n;if(t.useClass){var i=s(r,t.deps||t.useClass.diDeps);n=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){var i=s(r,t.deps||t.useFactory.diDeps);n=e.importExpr(t.useFactory.reference).callFn(i)}else if(t.useExisting){var i=s(r,[{token:t.useExisting}]);n=i[0]}else n=ka(e,t.useValue);return n});return{providerExpr:Sa(i,[new $s(_a(o))],ds),flags:1024|t,depsExpr:_a(n)};function s(t,r){return r.map(function(r,o){var s="p"+t+"_"+o;return i.push(new Ls(s,fs)),n.push(La(e,r)),va(s)})}}(e,r,t.providers):Oa(e,r,t.providerType,t.providers[0]);return{providerExpr:n.providerExpr,flags:n.flags,depsExpr:n.depsExpr,tokenExpr:Da(e,t.token)}}function Oa(e,t,r,n){var i,o;return r===he.Directive||r===he.Component?(i=e.importExpr(n.useClass.reference),t|=16384,o=n.deps||n.useClass.diDeps):n.useClass?(i=e.importExpr(n.useClass.reference),t|=512,o=n.deps||n.useClass.diDeps):n.useFactory?(i=e.importExpr(n.useFactory.reference),t|=1024,o=n.deps||n.useFactory.diDeps):n.useExisting?(i=zs,t|=2048,o=[{token:n.useExisting}]):(i=ka(e,n.useValue),t|=256,o=[]),{providerExpr:i,flags:t,depsExpr:_a(o.map(function(t){return La(e,t)}))}}function Da(e,t){return t.identifier?e.importExpr(t.identifier.reference):xa(t.value)}function La(e,t){var r=t.isValue?ka(e,t.value):Da(e,t.token),n=0;return t.isSkipSelf&&(n|=1),t.isOptional&&(n|=2),t.isValue&&(n|=8),0===n?r:_a([xa(n),r])}function Fa(e){var t=0;switch(e){case Ko.AfterContentChecked:t=2097152;break;case Ko.AfterContentInit:t=1048576;break;case Ko.AfterViewChecked:t=8388608;break;case Ko.AfterViewInit:t=4194304;break;case Ko.DoCheck:t=262144;break;case Ko.OnChanges:t=524288;break;case Ko.OnDestroy:t=131072;break;case Ko.OnInit:t=65536}return t}function Va(e,t,r,n){var i=n.map(function(e){return t.importExpr(e.componentFactory)}),o=zo(e,jo.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:_a(i)},{token:o,isSkipSelf:!0,isOptional:!0},{token:zo(e,jo.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(jo.CodegenComponentFactoryResolver)},a=Oa(t,r,he.PrivateService,{token:o,multi:!1,useClass:s});return{providerExpr:a.providerExpr,flags:a.flags,depsExpr:a.depsExpr,tokenExpr:Da(t,o)}}var Ba=function(){return function(e){this.ngModuleFactoryVar=e}}(),Ua=va("_l"),Ha=function(){function e(e){this.reflector=e}return e.prototype.compile=function(e,t,r){var n=wn("NgModule",t.type),i=t.transitiveModule.entryComponents,o=t.bootstrapComponents,s=new ba(this.reflector,t,r,n),a=[Va(this.reflector,e,0,i)].concat(s.parse().map(function(t){return Ra(e,t)})).map(function(e){var t=e.providerExpr,r=e.depsExpr,n=e.flags,i=e.tokenExpr;return ma(jo.moduleProviderDef).callFn([xa(n),i,t,r])}),u=ma(jo.moduleDef).callFn([_a(a)]),p=Sa([new Ls(Ua.name)],[new $s(u)],ds),c=Te(t.type)+"NgFactory";if(this._createNgModuleFactory(e,t.type.reference,ma(jo.createModuleFactory).callFn([e.importExpr(t.type.reference),_a(o.map(function(t){return e.importExpr(t.reference)})),p])),t.id){var l=ma(jo.RegisterModuleFactoryFn).callFn([xa(t.id),va(c)]).toStmt();e.statements.push(l)}return new Ba(c)},e.prototype.createStub=function(e,t){this._createNgModuleFactory(e,t,zs)},e.prototype._createNgModuleFactory=function(e,t,r){var n=va(Te({reference:t})+"NgFactory").set(r).toDeclStmt(ya(jo.NgModuleFactory,[ga(e.importExpr(t))],[ss.Const]),[Xs.Final,Xs.Exported]);e.statements.push(n)},e}(),qa=function(){function e(e){this._reflector=e}return e.prototype.isNgModule=function(e){return this._reflector.annotations(e).some(E.isTypeOf)},e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=Bt(this._reflector.annotations(e),E.isTypeOf);if(r)return r;if(t)throw new Error("No NgModule metadata found for '"+G(e)+"'.");return null},e}(),ja=function(){function e(e){void 0===e&&(e=null),this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return e.prototype.addSource=function(e,t){return void 0===t&&(t=null),this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this},e.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},e.prototype.addMapping=function(e,t,r,n){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'+t+'"');if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==r||null==n))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:r,sourceCol0:n}),this},Object.defineProperty(e.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){var e=this;if(!this.hasMappings)return null;var t=new Map,r=[],n=[];Array.from(this.sourcesContent.keys()).forEach(function(i,o){t.set(i,o),r.push(i),n.push(e.sourcesContent.get(i)||null)});var i="",o=0,s=0,a=0,u=0;return this.lines.forEach(function(e){o=0,i+=e.map(function(e){var r=Wa(e.col0-o);return o=e.col0,null!=e.sourceUrl&&(r+=Wa(t.get(e.sourceUrl)-s),s=t.get(e.sourceUrl),r+=Wa(e.sourceLine0-a),a=e.sourceLine0,r+=Wa(e.sourceCol0-u),u=e.sourceCol0),r}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:r,sourcesContent:n,mappings:i}},e.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){var t="";e=Q(e);for(var r=0;r<e.length;){var n=e.charCodeAt(r++),i=e.charCodeAt(r++),o=e.charCodeAt(r++);t+=Ka(n>>2),t+=Ka((3&n)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":Ka((15&i)<<2|o>>6),t+=isNaN(i)||isNaN(o)?"=":Ka(63&o)}return t}(JSON.stringify(this,null,0)):""},e}();function Wa(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var r=31&e;(e>>=5)>0&&(r|=32),t+=Ka(r)}while(e>0);return t}var za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ka(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return za[e]}var Xa=/'|\\|\n|\r|\$/g,Qa=/^[$A-Z_][0-9A-Z_$]*$/i,Ga="  ",Ya=va("error",null,null),Ja=va("stack",null,null),$a=function(){return function(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}(),Za=function(){function e(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new $a(e)]}return e.createRoot=function(){return new e(0)},Object.defineProperty(e.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),e.prototype.println=function(e,t){void 0===t&&(t=""),this.print(e||null,t,!0)},e.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},e.prototype.lineLength=function(){return this._currentLine.indent*Ga.length+this._currentLine.partsLength},e.prototype.print=function(e,t,r){void 0===r&&(r=!1),t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new $a(this._indent))},e.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},e.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},e.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},e.prototype.pushClass=function(e){this._classes.push(e)},e.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(e.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),e.prototype.toSource=function(){return this.sourceLines.map(function(e){return e.parts.length>0?ru(e.indent)+e.parts.join(""):""}).join("\n")},e.prototype.toSourceMapGenerator=function(e,t){void 0===t&&(t=0);for(var r=new ja(e),n=!1,i=function(){n||(r.addSource(e," ").addMapping(0,e,0,0),n=!0)},o=0;o<t;o++)r.addLine(),i();return this.sourceLines.forEach(function(e,t){r.addLine();for(var o=e.srcSpans,s=e.parts,a=e.indent*Ga.length,u=0;u<o.length&&!o[u];)a+=s[u].length,u++;for(u<o.length&&0===t&&0===a?n=!0:i();u<o.length;){var p=o[u],c=p.start.file,l=p.start.line,h=p.start.col;for(r.addSource(c.url,c.content).addMapping(a,c.url,l,h),a+=s[u].length,u++;u<o.length&&(p===o[u]||!o[u]);)a+=s[u].length,u++}}),r},e.prototype.setPreambleLineCount=function(e){return this._preambleLineCount=e},e.prototype.spanOf=function(e,t){var r=this._lines[e-this._preambleLineCount];if(r)for(var n=t-ru(r.indent).length,i=0;i<r.parts.length;i++){var o=r.parts[i];if(o.length>n)return r.srcSpans[i];n-=o.length}return null},Object.defineProperty(e.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),e}(),eu=function(){function e(e){this._escapeDollarInStrings=e}return e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null},e.prototype.visitReturnStmt=function(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null},e.prototype.visitIfStmt=function(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var r=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),r&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null},e.prototype.visitThrowStmt=function(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null},e.prototype.visitCommentStmt=function(e,t){return e.comment.split("\n").forEach(function(r){t.println(e,"// "+r)}),null},e.prototype.visitWriteVarExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print(e,"("),t.print(e,e.name+" = "),e.value.visitExpression(this,t),r||t.print(e,")"),null},e.prototype.visitWriteKeyExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),r||t.print(e,")"),null},e.prototype.visitWritePropExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"."+e.name+" = "),e.value.visitExpression(this,t),r||t.print(e,")"),null},e.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var r=e.name;return null!=e.builtin&&null==(r=this.getBuiltinMethodName(e.builtin))?null:(t.print(e,"."+r+"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null)},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(null!=e.builtin)switch(e.builtin){case Es.Super:r="super";break;case Es.This:r="this";break;case Es.CatchError:r=Ya.name;break;case Es.CatchStack:r=Ja.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(e,r),null},e.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},e.prototype.visitLiteralExpr=function(e,t){var r=e.value;return"string"==typeof r?t.print(e,tu(r,this._escapeDollarInStrings)):t.print(e,""+r),null},e.prototype.visitConditionalExpr=function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null},e.prototype.visitNotExpr=function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null},e.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r;switch(e.operator){case ms.Equals:r="==";break;case ms.Identical:r="===";break;case ms.NotEquals:r="!=";break;case ms.NotIdentical:r="!==";break;case ms.And:r="&&";break;case ms.Or:r="||";break;case ms.Plus:r="+";break;case ms.Minus:r="-";break;case ms.Divide:r="/";break;case ms.Multiply:r="*";break;case ms.Modulo:r="%";break;case ms.Lower:r="<";break;case ms.LowerEquals:r="<=";break;case ms.Bigger:r=">";break;case ms.BiggerEquals:r=">=";break;default:throw new Error("Unknown operator "+e.operator)}return t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," "+r+" "),e.rhs.visitExpression(this,t),t.print(e,")"),null},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null},e.prototype.visitLiteralArrayExpr=function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return t.print(e,"{"),this.visitAllObjects(function(n){t.print(e,tu(n.key,r._escapeDollarInStrings,n.quoted)+":"),n.value.visitExpression(r,t)},e.entries,t,","),t.print(e,"}"),null},e.prototype.visitCommaExpr=function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null},e.prototype.visitAllExpressions=function(e,t,r){var n=this;this.visitAllObjects(function(e){return e.visitExpression(n,t)},e,t,r)},e.prototype.visitAllObjects=function(e,t,r,n){for(var i=!1,o=0;o<t.length;o++)o>0&&(r.lineLength()>80?(r.print(null,n,!0),i||(r.incIndent(),r.incIndent(),i=!0)):r.print(null,n,!1)),e(t[o]);i&&(r.decIndent(),r.decIndent())},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}();function tu(e,t,r){if(void 0===r&&(r=!0),null==e)return null;var n=e.replace(Xa,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]});return r||!Qa.test(n)?"'"+n+"'":n}function ru(e){for(var t="",r=0;r<e;r++)t+=Ga;return t}function nu(e){var t=new ou,r=Za.createRoot();return(Array.isArray(e)?e:[e]).forEach(function(e){if(e instanceof Qs)e.visitStatement(t,r);else if(e instanceof _s)e.visitExpression(t,r);else{if(!(e instanceof as))throw new Error("Don't know how to print debug info for "+e);e.visitType(t,r)}}),r.toSource()}var iu=function(){function e(){}return e.prototype.emitStatementsAndContext=function(e,t,r,n,i){void 0===r&&(r=""),void 0===n&&(n=!0);var o=new ou(i),s=Za.createRoot();o.visitAllStatements(t,s);var a=r?r.split("\n"):[];o.reexports.forEach(function(e,t){var r=e.map(function(e){return e.name+" as "+e.as}).join(",");a.push("export {"+r+"} from '"+t+"';")}),o.importsWithPrefixes.forEach(function(e,t){a.push("import * as "+e+" from '"+t+"';")});var u=n?s.toSourceMapGenerator(e,a.length).toJsComment():"",p=a.concat([s.toSource(),u]);return u&&p.push(""),s.setPreambleLineCount(a.length),{sourceText:p.join("\n"),context:s}},e.prototype.emitStatements=function(e,t,r){return void 0===r&&(r=""),this.emitStatementsAndContext(e,t,r).sourceText},e}(),ou=function(e){function t(t){var r=e.call(this,!1)||this;return r.referenceFilter=t,r.typeExpression=0,r.importsWithPrefixes=new Map,r.reexports=new Map,r}return r(t,e),t.prototype.visitType=function(e,t,r){void 0===r&&(r="any"),e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,r)},t.prototype.visitLiteralExpr=function(t,r){var n=t.value;return null==n&&t.type!=ds?(r.print(t,"("+n+" as any)"),null):e.prototype.visitLiteralExpr.call(this,t,r)},t.prototype.visitLiteralArrayExpr=function(t,r){0===t.entries.length&&r.print(t,"(");var n=e.prototype.visitLiteralArrayExpr.call(this,t,r);return 0===t.entries.length&&r.print(t," as any[])"),n},t.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitAssertNotNullExpr=function(t,r){var n=e.prototype.visitAssertNotNullExpr.call(this,t,r);return r.print(t,"!"),n},t.prototype.visitDeclareVarStmt=function(e,t){if(e.hasModifier(Xs.Exported)&&e.value instanceof Ns&&!e.type){var r=e.value.value,n=r.name,i=r.moduleName;if(i){var o=this.reexports.get(i);return o||(o=[],this.reexports.set(i,o)),o.push({name:n,as:e.name}),null}}return e.hasModifier(Xs.Exported)&&t.print(e,"export "),e.hasModifier(Xs.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," "+e.name),this._printColonType(e.type,t),t.print(e," = "),e.value.visitExpression(this,t),t.println(e,";"),null},t.prototype.visitCastExpr=function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null},t.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),e.hasModifier(Xs.Exported)&&t.print(e,"export "),t.print(e,"class "+e.name),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(function(e){return r._visitClassField(e,t)}),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return r._visitClassGetter(e,t)}),e.methods.forEach(function(e){return r._visitClassMethod(e,t)}),t.decIndent(),t.println(e,"}"),t.popClass(),null},t.prototype._visitClassField=function(e,t){e.hasModifier(Xs.Private)&&t.print(null,"/*private*/ "),t.print(null,e.name),this._printColonType(e.type,t),t.println(null,";")},t.prototype._visitClassGetter=function(e,t){e.hasModifier(Xs.Private)&&t.print(null,"private "),t.print(null,"get "+e.name+"()"),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},t.prototype._visitClassConstructor=function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")},t.prototype._visitClassMethod=function(e,t){e.hasModifier(Xs.Private)&&t.print(null,"private "),t.print(null,e.name+"("),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},t.prototype.visitFunctionExpr=function(e,t){return t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return e.hasModifier(Xs.Exported)&&t.print(e,"export "),t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+Ya.name+") {"),t.incIndent();var r=[Ja.set(Ya.prop("stack",null)).toDeclStmt(null,[Xs.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println(e,"}"),null},t.prototype.visitBuiltintType=function(e,t){var r;switch(e.name){case us.Bool:r="boolean";break;case us.Dynamic:r="any";break;case us.Function:r="Function";break;case us.Number:case us.Int:r="number";break;case us.String:r="string";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(null,r),null},t.prototype.visitExpressionType=function(e,t){return e.value.visitExpression(this,t),null},t.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null},t.prototype.visitMapType=function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case Ts.ConcatArray:t="concat";break;case Ts.SubscribeObservable:t="subscribe";break;case Ts.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t.prototype._visitParams=function(e,t){var r=this;this.visitAllObjects(function(e){t.print(null,e.name),r._printColonType(e.type,t)},e,t,",")},t.prototype._visitIdentifier=function(e,t,r){var n=this,i=e.name,o=e.moduleName;if(this.referenceFilter&&this.referenceFilter(e))r.print(null,"(null as any)");else{if(o){var s=this.importsWithPrefixes.get(o);null==s&&(s="i"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(o,s)),r.print(null,s+".")}if(r.print(null,i),this.typeExpression>0)(t||[]).length>0&&(r.print(null,"<"),this.visitAllObjects(function(e){return e.visitType(n,r)},t,r,","),r.print(null,">"))}},t.prototype._printColonType=function(e,t,r){e!==ds&&(t.print(null,":"),this.visitType(e,t,r))},t}(eu),su=function(){function e(e){this._reflector=e}return e.prototype.isPipe=function(e){var t=this._reflector.annotations(Y(e));return t&&t.some(v.isTypeOf)},e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(Y(e));if(r){var n=Bt(r,v.isTypeOf);if(n)return n}if(t)throw new Error("No Pipe decorator found on "+G(e));return null},e}(),au={};function uu(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];au[i.toLowerCase()]=e}}uu(M.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),uu(M.STYLE,["*|style"]),uu(M.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),uu(M.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var pu=function(){return function(){}}(),cu="boolean",lu="number",hu="string",fu="object",du=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],vu={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},mu=function(e){function t(){var t=e.call(this)||this;return t._schema={},du.forEach(function(e){var r={},n=e.split("|"),i=n[0],o=n[1].split(","),s=i.split("^"),a=s[0],u=s[1];a.split(",").forEach(function(e){return t._schema[e.toLowerCase()]=r});var p=u&&t._schema[u.toLowerCase()];p&&Object.keys(p).forEach(function(e){r[e]=p[e]}),o.forEach(function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":r[e.substring(1)]=cu;break;case"#":r[e.substring(1)]=lu;break;case"%":r[e.substring(1)]=fu;break;default:r[e]=hu}})}),t}return r(t,e),t.prototype.hasProperty=function(e,t,r){if(r.some(function(e){return e.name===x.name}))return!0;if(e.indexOf("-")>-1){if(vt(e)||mt(e))return!1;if(r.some(function(e){return e.name===S.name}))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]},t.prototype.hasElement=function(e,t){if(t.some(function(e){return e.name===x.name}))return!0;if(e.indexOf("-")>-1){if(vt(e)||mt(e))return!0;if(t.some(function(e){return e.name===S.name}))return!0}return!!this._schema[e.toLowerCase()]},t.prototype.securityContext=function(e,t,r){r&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();var n=au[e+"|"+t];return n||((n=au["*|"+t])||M.NONE)},t.prototype.getMappedPropName=function(e){return vu[e]||e},t.prototype.getDefaultComponentElementName=function(){return"ng-component"},t.prototype.validateProperty=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=...\nIf '"+e+"' is a directive input, make sure the directive is imported by the current module."}:{error:!1}},t.prototype.validateAttribute=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=..."}:{error:!1}},t.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},t.prototype.normalizeAnimationStyleProperty=function(e){return e.replace(R,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})},t.prototype.normalizeAnimationStyleValue=function(e,t,r){var n="",i=r.toString().trim(),o=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==r&&"0"!==r)if("number"==typeof r)n="px";else{var s=r.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+t+":"+r)}return{error:o,value:i+n}},t}(pu);var yu=function(){function e(){this.strictStyling=!0}return e.prototype.shimCssText=function(e,t,r){void 0===r&&(r="");var n=e.match(Lu)||[];return e=e.replace(Du,""),e=this._insertDirectives(e),[this._scopeCssText(e,t,r)].concat(n).join("\n")},e.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},e.prototype._insertPolyfillDirectivesInCssText=function(e){return e.replace(_u,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[2]+"{"})},e.prototype._insertPolyfillRulesInCssText=function(e){return e.replace(Eu,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0].replace(e[1],"").replace(e[2],"");return e[4]+r})},e.prototype._scopeCssText=function(e,t,r){var n=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,r)),(e=e+"\n"+n).trim()},e.prototype._extractUnscopedRulesFromCssText=function(e){var t,r="";for(Su.lastIndex=0;null!==(t=Su.exec(e));){r+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return r},e.prototype._convertColonHost=function(e){return this._convertColonRule(e,Tu,this._colonHostPartReplacer)},e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,bu,this._colonHostContextPartReplacer)},e.prototype._convertColonRule=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e[2]){for(var n=e[2].split(","),i=[],o=0;o<n.length;o++){var s=n[o].trim();if(!s)break;i.push(r(Au,s,e[3]))}return i.join(",")}return Au+e[3]})},e.prototype._colonHostContextPartReplacer=function(e,t,r){return t.indexOf(xu)>-1?this._colonHostPartReplacer(e,t,r):e+t+r+", "+t+" "+e+r},e.prototype._colonHostPartReplacer=function(e,t,r){return e+t.replace(xu,"")+r},e.prototype._convertShadowDOMSelectors=function(e){return Mu.reduce(function(e,t){return e.replace(t," ")},e)},e.prototype._scopeSelectors=function(e,t,r){var n,i,o,s=this;return n=function(e){var n=e.selector,i=e.content;return"@"!=e.selector[0]?n=s._scopeSelector(e.selector,t,r,s.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(i=s._scopeSelectors(e.content,t,r)),new qu(n,i)},i=function(e){for(var t=e.split(Vu),r=[],n=[],i=0,o=[],s=0;s<t.length;s++){var a=t[s];a==Uu&&i--,i>0?o.push(a):(o.length>0&&(n.push(o.join("")),r.push(Hu),o=[]),r.push(a)),a==Bu&&i++}o.length>0&&(n.push(o.join("")),r.push(Hu));return new ju(r.join(""),n)}(e),o=0,i.escapedString.replace(Fu,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[2],s="",a=e[4],u="";a&&a.startsWith("{"+Hu)&&(s=i.blocks[o++],a=a.substring(Hu.length+1),u="{");var p=n(new qu(r,s));return""+e[1]+p.selector+e[3]+u+p.content+a})},e.prototype._scopeSelector=function(e,t,r,n){var i=this;return e.split(",").map(function(e){return e.trim().split(Nu)}).map(function(e){var o,s=e[0],a=e.slice(1);return[(o=s,i._selectorNeedsScoping(o,t)?n?i._applyStrictSelectorScope(o,t,r):i._applySelectorScope(o,t,r):o)].concat(a).join(" ")}).join(", ")},e.prototype._selectorNeedsScoping=function(e,t){return!this._makeScopeMatcher(t).test(e)},e.prototype._makeScopeMatcher=function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+ku,"m")},e.prototype._applySelectorScope=function(e,t,r){return this._applySimpleSelectorScope(e,t,r)},e.prototype._applySimpleSelectorScope=function(e,t,r){if(Iu.lastIndex=0,Iu.test(e)){var n=this.strictStyling?"["+r+"]":t;return e.replace(Pu,function(e,t){return t.replace(/([^:]*)(:*)(.*)/,function(e,t,r,i){return t+n+r+i})}).replace(Iu,n+" ")}return t+" "+e},e.prototype._applyStrictSelectorScope=function(e,t,r){for(var n,i=this,o="["+(t=t.replace(/\[is=([^\]]*)\]/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t[0]}))+"]",s=function(e){var n=e.trim();if(!n)return"";if(e.indexOf(Au)>-1)n=i._applySimpleSelectorScope(e,t,r);else{var s=e.replace(Iu,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);a&&(n=a[1]+o+a[2]+a[3])}}return n},a=new gu(e),u="",p=0,c=/( |>|\+|~(?!=))\s*/g,l=!((e=a.content()).indexOf(Au)>-1);null!==(n=c.exec(e));){var h=n[1],f=e.slice(p,n.index).trim();u+=((l=l||f.indexOf(Au)>-1)?s(f):f)+" "+h+" ",p=c.lastIndex}var d=e.substring(p);return u+=(l=l||d.indexOf(Au)>-1)?s(d):d,a.restore(u)},e.prototype._insertPolyfillHostInCssText=function(e){return e.replace(Ou,Cu).replace(Ru,xu)},e}(),gu=function(){function e(e){var t=this;this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,function(e,r){var n="__ph-"+t.index+"__";return t.placeholders.push(r),t.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(e,r,n){var i="__ph-"+t.index+"__";return t.placeholders.push(n),t.index++,r+i})}return e.prototype.restore=function(e){var t=this;return e.replace(/__ph-(\d+)__/g,function(e,r){return t.placeholders[+r]})},e.prototype.content=function(){return this._content},e}(),_u=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Eu=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Su=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,xu="-shadowcsshost",Cu="-shadowcsscontext",wu=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Tu=new RegExp("("+xu+wu,"gim"),bu=new RegExp("("+Cu+wu,"gim"),Au=xu+"-no-combinator",Pu=/-shadowcsshost-no-combinator([^\s]*)/,Mu=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Nu=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,ku="([>\\s~+[.,{:][\\s\\S]*)?$",Iu=/-shadowcsshost/gim,Ru=/:host/gim,Ou=/:host-context/gim,Du=/\/\*\s*[\s\S]*?\*\//g;var Lu=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;var Fu=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Vu=/([{}])/g,Bu="{",Uu="}",Hu="%BLOCK%",qu=function(){return function(e,t){this.selector=e,this.content=t}}();var ju=function(){return function(e,t){this.escapedString=e,this.blocks=t}}();var Wu=function(){return function(e,t,r){this.name=e,this.moduleUrl=t,this.setValue=r}}(),zu=function(){return function(e,t,r,n,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=r,this.isShimmed=n,this.meta=i}}(),Ku=function(){function e(e){this._urlResolver=e,this._shadowCss=new yu}return e.prototype.compileComponent=function(e,t){var r=t.template;return this._compileStyles(e,t,new Oe({styles:r.styles,styleUrls:r.styleUrls,moduleUrl:be(t.type)}),this.needsStyleShim(t),!0)},e.prototype.compileStyles=function(e,t,r,n){return void 0===n&&(n=this.needsStyleShim(t)),this._compileStyles(e,t,r,n,!1)},e.prototype.needsStyleShim=function(e){return e.template.encapsulation===h.Emulated},e.prototype._compileStyles=function(e,t,r,n,i){var o=this,s=r.styles.map(function(e){return xa(o._shimIfNeeded(e,n))}),a=[];r.styleUrls.forEach(function(t){var r=s.length;s.push(null),a.push(new Wu(Xu(null),t,function(t){return s[r]=e.importExpr(t)}))});var u=Xu(i?t:null),p=va(u).set(_a(s,new ls(fs,[ss.Const]))).toDeclStmt(null,i?[Xs.Final]:[Xs.Final,Xs.Exported]);return e.statements.push(p),new zu(e,u,a,n,r)},e.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"):e},e}();function Xu(e){var t="styles";return e&&(t+="_"+Te(e.type)),t}var Qu="ngPreserveWhitespaces",Gu=new Set(["pre","template","textarea","script","style"]),Yu=" \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff",Ju=new RegExp("[^"+Yu+"]"),$u=new RegExp("["+Yu+"]{2,}","g");function Zu(e){return e.replace(new RegExp(St,"g")," ")}var ep=function(){function e(){}return e.prototype.visitElement=function(e,t){return Gu.has(e.name)||e.attrs.some(function(e){return e.name===Qu})?new Ze(e.name,tt(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan):new Ze(e.name,e.attrs,tt(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},e.prototype.visitAttribute=function(e,t){return e.name!==Qu?e:null},e.prototype.visitText=function(e,t){return e.value.match(Ju)?new Ge(Zu(e.value).replace($u," "),e.sourceSpan):null},e.prototype.visitComment=function(e,t){return e},e.prototype.visitExpansion=function(e,t){return e},e.prototype.visitExpansionCase=function(e,t){return e},e}();var tp=["zero","one","two","few","many","other"];function rp(e){var t=new op;return new np(tt(t,e),t.isExpanded,t.errors)}var np=function(){return function(e,t,r){this.nodes=e,this.expanded=t,this.errors=r}}(),ip=function(e){function t(t,r){return e.call(this,t,r)||this}return r(t,e),t}(Cn),op=function(){function e(){this.isExpanded=!1,this.errors=[]}return e.prototype.visitElement=function(e,t){return new Ze(e.name,e.attrs,tt(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},e.prototype.visitAttribute=function(e,t){return e},e.prototype.visitText=function(e,t){return e},e.prototype.visitComment=function(e,t){return e},e.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?(s=e,a=this.errors,u=s.cases.map(function(e){-1!=tp.indexOf(e.value)||e.value.match(/^=\d+$/)||a.push(new ip(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+tp.join(", ")));var t=rp(e.expression);return a.push.apply(a,t.errors),new Ze("ng-template",[new $e("ngPluralCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),p=new $e("[ngPlural]",s.switchValue,s.switchValueSourceSpan),new Ze("ng-container",[p],u,s.sourceSpan,s.sourceSpan,s.sourceSpan)):(r=e,n=this.errors,i=r.cases.map(function(e){var t=rp(e.expression);return n.push.apply(n,t.errors),"other"===e.value?new Ze("ng-template",[new $e("ngSwitchDefault","",e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new Ze("ng-template",[new $e("ngSwitchCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),o=new $e("[ngSwitch]",r.switchValue,r.switchValueSourceSpan),new Ze("ng-container",[o],i,r.sourceSpan,r.sourceSpan,r.sourceSpan));var r,n,i,o,s,a,u,p},e.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},e}();var sp="animate-",ap={DEFAULT:0,LITERAL_ATTR:1,ANIMATION:2};ap[ap.DEFAULT]="DEFAULT",ap[ap.LITERAL_ATTR]="LITERAL_ATTR",ap[ap.ANIMATION]="ANIMATION";var up=function(){return function(e,t,r,n){this.name=e,this.expression=t,this.type=r,this.sourceSpan=n,this.isLiteral=this.type===ap.LITERAL_ATTR,this.isAnimation=this.type===ap.ANIMATION}}(),pp=function(){function e(e,t,r,n,i){var o=this;this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=r,this._targetErrors=i,this.pipesByName=new Map,this._usedPipes=new Map,n.forEach(function(e){return o.pipesByName.set(e.name,e)})}return e.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},e.prototype.createDirectiveHostPropertyAsts=function(e,t,r){var n=this;if(e.hostProperties){var i=[];return Object.keys(e.hostProperties).forEach(function(t){var o=e.hostProperties[t];"string"==typeof o?n.parsePropertyBinding(t,o,!0,r,[],i):n._reportError('Value of the host property binding "'+t+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",r)}),i.map(function(e){return n.createElementPropertyAst(t,e)})}return null},e.prototype.createDirectiveHostEventAsts=function(e,t){var r=this;if(e.hostListeners){var n=[];return Object.keys(e.hostListeners).forEach(function(i){var o=e.hostListeners[i];"string"==typeof o?r.parseEvent(i,o,t,[],n):r._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",t)}),n}return null},e.prototype.parseInterpolation=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseInterpolation(e,r,this._interpolationConfig);return n&&this._reportExpressionParserErrors(n.errors,t),this._checkPipes(n,t),n}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype.parseInlineTemplateBinding=function(e,t,r,n,i,o){for(var s=this._parseTemplateBindings(e,t,r),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?o.push(new se(u.key,u.name,r)):u.expression?this._parsePropertyAst(u.key,u.expression,r,n,i):(n.push([u.key,""]),this.parseLiteralAttr(u.key,null,r,n,i))}},e.prototype._parseTemplateBindings=function(e,t,r){var n=this,i=r.start.toString();try{var o=this._exprParser.parseTemplateBindings(e,t,i);return this._reportExpressionParserErrors(o.errors,r),o.templateBindings.forEach(function(e){e.expression&&n._checkPipes(e.expression,r)}),o.warnings.forEach(function(e){n._reportError(e,r,xn.WARNING)}),o.templateBindings}catch(e){return this._reportError(""+e,r),[]}},e.prototype.parseLiteralAttr=function(e,t,r,n,i){lp(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,xn.ERROR),this._parseAnimation(e,t,r,n,i)):i.push(new up(e,this._exprParser.wrapLiteralPrimitive(t,""),ap.LITERAL_ATTR,r))},e.prototype.parsePropertyBinding=function(e,t,r,n,i,o){var s=!1;e.startsWith(sp)?(s=!0,e=e.substring(sp.length)):lp(e)&&(s=!0,e=e.substring(1)),s?this._parseAnimation(e,t,n,i,o):this._parsePropertyAst(e,this._parseBinding(t,r,n),n,i,o)},e.prototype.parsePropertyInterpolation=function(e,t,r,n,i){var o=this.parseInterpolation(t,r);return!!o&&(this._parsePropertyAst(e,o,r,n,i),!0)},e.prototype._parsePropertyAst=function(e,t,r,n,i){n.push([e,t.source]),i.push(new up(e,t,ap.DEFAULT,r))},e.prototype._parseAnimation=function(e,t,r,n,i){var o=this._parseBinding(t||"undefined",!1,r);n.push([e,o.source]),i.push(new up(e,o,ap.ANIMATION,r))},e.prototype._parseBinding=function(e,t,r){var n=r.start.toString();try{var i=t?this._exprParser.parseSimpleBinding(e,n,this._interpolationConfig):this._exprParser.parseBinding(e,n,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,r),this._checkPipes(i,r),i}catch(e){return this._reportError(""+e,r),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},e.prototype.createElementPropertyAst=function(e,t){if(t.isAnimation)return new ne(t.name,de.Animation,M.NONE,t.expression,null,t.sourceSpan);var r=null,n=void 0,i=null,o=t.name.split("."),s=void 0;if(o.length>1)if("attr"==o[0]){i=o[1],this._validatePropertyOrAttributeName(i,t.sourceSpan,!0),s=hp(this._schemaRegistry,e,i,!0);var a=i.indexOf(":");if(a>-1)i=_t(i.substring(0,a),i.substring(a+1));n=de.Attribute}else"class"==o[0]?(i=o[1],n=de.Class,s=[M.NONE]):"style"==o[0]&&(r=o.length>2?o[2]:null,i=o[1],n=de.Style,s=[M.STYLE]);return null===i&&(i=this._schemaRegistry.getMappedPropName(t.name),s=hp(this._schemaRegistry,e,i,!1),n=de.Property,this._validatePropertyOrAttributeName(i,t.sourceSpan,!1)),new ne(i,n,s[0],t.expression,r,t.sourceSpan)},e.prototype.parseEvent=function(e,t,r,n,i){lp(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,r,i)):this._parseEvent(e,t,r,n,i)},e.prototype._parseAnimationEvent=function(e,t,r,n){var i=D(e,".",[e,""]),o=i[0],s=i[1].toLowerCase();if(s)switch(s){case"start":case"done":var a=this._parseAction(t,r);n.push(new ie(o,null,s,a,r));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',r)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",r)},e.prototype._parseEvent=function(e,t,r,n,i){var o=O(e,[null,e]),s=o[0],a=o[1],u=this._parseAction(t,r);n.push([e,u.source]),i.push(new ie(a,s,null,u,r))},e.prototype._parseAction=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseAction(e,r,this._interpolationConfig);return n&&this._reportExpressionParserErrors(n.errors,t),!n||n.ast instanceof Hr?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",r)):(this._checkPipes(n,t),n)}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._reportError=function(e,t,r){void 0===r&&(r=xn.ERROR),this._targetErrors.push(new Cn(t,e,r))},e.prototype._reportExpressionParserErrors=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];this._reportError(i.message,t)}},e.prototype._checkPipes=function(e,t){var r=this;if(e){var n=new cp;e.visit(n),n.pipes.forEach(function(e,n){var i=r.pipesByName.get(n);i?r._usedPipes.set(n,i):r._reportError("The pipe '"+n+"' could not be found",new Sn(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}},e.prototype._validatePropertyOrAttributeName=function(e,t,r){var n=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);n.error&&this._reportError(n.msg,t,xn.ERROR)},e}(),cp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pipes=new Map,t}return r(t,e),t.prototype.visitPipe=function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null},t}(ln);function lp(e){return"@"==e[0]}function hp(e,t,r,n){var i=[];return Yo.parse(t).forEach(function(t){var o=t.element?[t.element]:e.allKnownElementNames(),s=new Set(t.notSelectors.filter(function(e){return e.isElementSelector()}).map(function(e){return e.element})),a=o.filter(function(e){return!s.has(e)});i.push.apply(i,a.map(function(t){return e.securityContext(t,r,n)}))}),0===i.length?[M.NONE]:Array.from(new Set(i)).sort()}var fp=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,dp="template",vp="class",mp=Yo.parse("*")[0],yp="The <template> element is deprecated. Use <ng-template> instead",gp="The template attribute is deprecated. Use an ng-template element instead.",_p={};var Ep=function(e){function t(t,r,n){return e.call(this,r,t,n)||this}return r(t,e),t}(Cn),Sp=function(){return function(e,t,r){this.templateAst=e,this.usedPipes=t,this.errors=r}}(),xp=function(){function e(e,t,r,n,i,o,s){this._config=e,this._reflector=t,this._exprParser=r,this._schemaRegistry=n,this._htmlParser=i,this._console=o,this.transforms=s}return e.prototype.parse=function(e,t,r,n,i,o,s){var a,u=this.tryParse(e,t,r,n,i,o,s),p=u.errors.filter(function(e){return e.level===xn.WARNING}).filter((a=[gp,yp],function(e){return-1===a.indexOf(e.msg)||(_p[e.msg]=(_p[e.msg]||0)+1,_p[e.msg]<=1)})),c=u.errors.filter(function(e){return e.level===xn.ERROR});if(p.length>0&&this._console.warn("Template parse warnings:\n"+p.join("\n")),c.length>0)throw j("Template parse errors:\n"+c.join("\n"),c);return{template:u.templateAst,pipes:u.usedPipes}},e.prototype.tryParse=function(e,t,r,n,i,o,s){var a,u="string"==typeof t?this._htmlParser.parse(t,o,!0,this.getInterpolationConfig(e)):t;return s||(a=u,u=new Hn(tt(new ep,a.rootNodes),a.errors)),this.tryParseHtml(this.expandHtml(u),e,r,n,i)},e.prototype.tryParseHtml=function(e,t,r,n,i){var o,s=e.errors,a=[];if(e.rootNodes.length>0){var u=Ip(r),p=Ip(n),c=new wa(this._reflector,t),l=void 0;t.template&&t.template.interpolation&&(l={start:t.template.interpolation[0],end:t.template.interpolation[1]});var h=new pp(this._exprParser,l,this._schemaRegistry,p,s),f=new Cp(this._reflector,this._config,c,u,h,this._schemaRegistry,i,s);o=tt(f,e.rootNodes,Mp),s.push.apply(s,c.errors),a.push.apply(a,h.getUsedPipes())}else o=[];return this._assertNoReferenceDuplicationOnTemplate(o,s),s.length>0?new Sp(o,a,s):(this.transforms&&this.transforms.forEach(function(e){o=ye(e,o)}),new Sp(o,a,s))},e.prototype.expandHtml=function(e,t){void 0===t&&(t=!1);var r=e.errors;if(0==r.length||t){var n=rp(e.rootNodes);r.push.apply(r,n.errors),e=new Hn(n.nodes,r)}return e},e.prototype.getInterpolationConfig=function(e){if(e.template)return st.fromArray(e.template.interpolation)},e.prototype._assertNoReferenceDuplicationOnTemplate=function(e,t){var r=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var n=e.name;if(r.indexOf(n)<0)r.push(n);else{var i=new Ep('Reference "#'+n+'" is defined several times',e.sourceSpan,xn.ERROR);t.push(i)}})})},e}(),Cp=function(){function e(e,t,r,n,i,o,s,a){var u=this;this.reflector=e,this.config=t,this.providerViewContext=r,this._bindingParser=i,this._schemaRegistry=o,this._schemas=s,this._targetErrors=a,this.selectorMatcher=new Jo,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=r.component.viewQueries.length+1,n.forEach(function(e,t){var r=Yo.parse(e.selector);u.selectorMatcher.addSelectables(r,e),u.directivesIndex.set(e,t)})}return e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(mp),n=Zu(e.value),i=this._bindingParser.parseInterpolation(n,e.sourceSpan);return i?new te(i,r,e.sourceSpan):new ee(n,r,e.sourceSpan)},e.prototype.visitAttribute=function(e,t){return new re(e.name,e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitElement=function(e,t){var r=this,n=this.contentQueryStartId,i=e.name,o=kt(e);if(o.type===It.SCRIPT||o.type===It.STYLE)return null;if(o.type===It.STYLESHEET&&pt(o.hrefAttr))return null;var s=[],a=[],u=[],p=[],c=[],l=[],h=[],f=[],d=!1,v=[],m=function(e,t,r){if(yt(e.name))return!0;var n=dt(e.name)[1];if(n.toLowerCase()===dp&&t&&n.toLowerCase()===dp)return r(yp,e.sourceSpan),!0;return!1}(e,this.config.enableLegacyTemplate,function(e,t){return r._reportError(e,t,xn.WARNING)});e.attrs.forEach(function(e){var t,n,i=r._parseAttr(m,e,s,a,c,u,p),o=r._normalizeAttributeName(e.name);r.config.enableLegacyTemplate&&"template"==o?(r._reportError(gp,e.sourceSpan,xn.WARNING),t=e.value):o.startsWith("*")&&(t=e.value,n=o.substring("*".length)+":");var y=null!=t;y&&(d&&r._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),d=!0,r._bindingParser.parseInlineTemplateBinding(n,t,e.sourceSpan,h,l,f)),i||y||(v.push(r.visitAttribute(e,null)),s.push([e.name,e.value]))});var y=Pp(i,s),g=this._parseDirectives(this.selectorMatcher,y),_=g.directives,E=g.matchElement,S=[],x=new Set,C=this._createDirectiveAsts(m,e.name,_,a,u,e.sourceSpan,S,x),w=this._createElementPropertyAsts(e.name,a,x),T=t.isTemplateElement||d,b=new Ta(this.providerViewContext,t.providerContext,T,C,v,S,m,n,e.sourceSpan),A=tt(o.nonBindable?Np:this,e.children,Ap.create(m,C,m?t.providerContext:b));b.afterElement();var P,M=null!=o.projectAs?Yo.parse(o.projectAs)[0]:y,N=t.findNgContentIndex(M);if(o.type===It.NG_CONTENT)e.children&&!e.children.every(kp)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),P=new fe(this.ngContentCount++,d?null:N,e.sourceSpan);else if(m)this._assertAllEventsPublishedByDirectives(C,c),this._assertNoComponentsNorElementBindingsOnTemplate(C,w,e.sourceSpan),P=new ue(v,c,S,p,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,A,d?null:N,e.sourceSpan);else{this._assertElementExists(E,e),this._assertOnlyOneComponent(C,e.sourceSpan);var k=d?null:t.findNgContentIndex(M);P=new ae(i,v,w,c,S,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,A,d?null:k,e.sourceSpan,e.endSourceSpan||null)}if(d){var I=this.contentQueryStartId,R=Pp(dp,h),O=this._parseDirectives(this.selectorMatcher,R).directives,D=new Set,L=this._createDirectiveAsts(!0,e.name,O,l,[],e.sourceSpan,[],D),F=this._createElementPropertyAsts(e.name,l,D);this._assertNoComponentsNorElementBindingsOnTemplate(L,F,e.sourceSpan);var V=new Ta(this.providerViewContext,t.providerContext,t.isTemplateElement,L,[],[],!0,I,e.sourceSpan);V.afterElement(),P=new ue([],[],[],f,V.transformedDirectiveAsts,V.transformProviders,V.transformedHasViewContainer,V.queryMatches,[P],N,e.sourceSpan)}return P},e.prototype._parseAttr=function(e,t,r,n,i,o,s){var a=this._normalizeAttributeName(t.name),u=t.value,p=t.sourceSpan,c=a.match(fp),l=!1;if(null!==c)if(l=!0,null!=c[1])this._bindingParser.parsePropertyBinding(c[7],u,!1,p,r,n);else if(c[2])if(e){var h=c[7];this._parseVariable(h,u,p,s)}else this._reportError('"let-" is only supported on ng-template elements.',p);else if(c[3]){h=c[7];this._parseReference(h,u,p,o)}else c[4]?this._bindingParser.parseEvent(c[7],u,p,r,i):c[5]?(this._bindingParser.parsePropertyBinding(c[7],u,!1,p,r,n),this._parseAssignmentEvent(c[7],u,p,r,i)):c[6]?this._bindingParser.parseLiteralAttr(a,u,p,r,n):c[8]?(this._bindingParser.parsePropertyBinding(c[8],u,!1,p,r,n),this._parseAssignmentEvent(c[8],u,p,r,i)):c[9]?this._bindingParser.parsePropertyBinding(c[9],u,!1,p,r,n):c[10]&&this._bindingParser.parseEvent(c[10],u,p,r,i);else l=this._bindingParser.parsePropertyInterpolation(a,u,p,r,n);return l||this._bindingParser.parseLiteralAttr(a,u,p,r,n),l},e.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},e.prototype._parseVariable=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',r),n.push(new se(e,t,r))},e.prototype._parseReference=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',r),n.push(new Tp(e,t,r))},e.prototype._parseAssignmentEvent=function(e,t,r,n,i){this._bindingParser.parseEvent(e+"Change",t+"=$event",r,n,i)},e.prototype._parseDirectives=function(e,t){var r=this,n=new Array(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){n[r.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:n.filter(function(e){return!!e}),matchElement:i}},e.prototype._createDirectiveAsts=function(e,t,r,n,i,o,s,a){var u=this,p=new Set,c=null,l=r.map(function(e){var r=new Sn(o.start,o.end,"Directive "+Te(e.type));e.isComponent&&(c=e);var l=[],h=u._bindingParser.createDirectiveHostPropertyAsts(e,t,r);h=u._checkPropertiesInSchema(t,h);var f=u._bindingParser.createDirectiveHostEventAsts(e,r);u._createDirectivePropertyAsts(e.inputs,n,l,a),i.forEach(function(t){(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(s.push(new oe(t.name,Wo(e.type.reference),t.sourceSpan)),p.add(t.name))});var d=u.contentQueryStartId;return u.contentQueryStartId+=e.queries.length,new ce(e,l,h,f,d,r)});return i.forEach(function(t){if(t.value.length>0)p.has(t.name)||u._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(!c){var r=null;e&&(r=zo(u.reflector,jo.TemplateRef)),s.push(new oe(t.name,r,t.sourceSpan))}}),l},e.prototype._createDirectivePropertyAsts=function(e,t,r,n){if(e){var i=new Map;t.forEach(function(e){var t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)}),Object.keys(e).forEach(function(t){var o=e[t],s=i.get(o);s&&(n.add(s.name),Rp(s.expression)||r.push(new pe(t,s.name,s.expression,s.sourceSpan)))})}},e.prototype._createElementPropertyAsts=function(e,t,r){var n=this,i=[];return t.forEach(function(t){t.isLiteral||r.has(t.name)||i.push(n._bindingParser.createElementPropertyAst(e,t))}),this._checkPropertiesInSchema(e,i)},e.prototype._findComponentDirectives=function(e){return e.filter(function(e){return e.directive.isComponent})},e.prototype._findComponentDirectiveNames=function(e){return this._findComponentDirectives(e).map(function(e){return Te(e.directive.type)})},e.prototype._assertOnlyOneComponent=function(e,t){var r=this._findComponentDirectiveNames(e);r.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+r.join(","),t)},e.prototype._assertElementExists=function(e,t){var r=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(r,this._schemas)){var n="'"+r+"' is not a known element:\n";n+="1. If '"+r+"' is an Angular component, then verify that it is part of this module.\n",r.indexOf("-")>-1?n+="2. If '"+r+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":n+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(n,t.sourceSpan)}},e.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,r){var n=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),r),t.forEach(function(e){n._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',r)})},e.prototype._assertAllEventsPublishedByDirectives=function(e,t){var r=this,n=new Set;e.forEach(function(e){Object.keys(e.directive.outputs).forEach(function(t){var r=e.directive.outputs[t];n.add(r)})}),t.forEach(function(e){null==e.target&&n.has(e.name)||r._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',e.sourceSpan)})},e.prototype._checkPropertiesInSchema=function(e,t){var r=this;return t.filter(function(t){if(t.type===de.Property&&!r._schemaRegistry.hasProperty(e,t.name,r._schemas)){var n="Can't bind to '"+t.name+"' since it isn't a known property of '"+e+"'.";e.startsWith("ng-")?n+="\n1. If '"+t.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(n+="\n1. If '"+e+"' is an Angular component and it has '"+t.name+"' input, then verify that it is part of this module.\n2. If '"+e+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),r._reportError(n,t.sourceSpan)}return!Rp(t.value)})},e.prototype._reportError=function(e,t,r){void 0===r&&(r=xn.ERROR),this._targetErrors.push(new Cn(t,e,r))},e}(),wp=function(){function e(){}return e.prototype.visitElement=function(e,t){var r=kt(e);if(r.type===It.SCRIPT||r.type===It.STYLE||r.type===It.STYLESHEET)return null;var n=e.attrs.map(function(e){return[e.name,e.value]}),i=Pp(e.name,n),o=t.findNgContentIndex(i),s=tt(this,e.children,Mp);return new ae(e.name,tt(this,e.attrs),[],[],[],[],[],!1,[],s,o,e.sourceSpan,e.endSourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return new re(e.name,e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(mp);return new ee(e.value,r,e.sourceSpan)},e.prototype.visitExpansion=function(e,t){return e},e.prototype.visitExpansionCase=function(e,t){return e},e}(),Tp=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.isReferenceToDirective=function(e){return-1!==(t=e.exportAs,t?t.split(",").map(function(e){return e.trim()}):[]).indexOf(this.value);var t},e}();function bp(e){return e.trim().split(/\s+/g)}var Ap=function(){function e(e,t,r,n){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=r,this.providerContext=n}return e.create=function(t,r,n){var i=new Jo,o=null,s=r.find(function(e){return e.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){"*"===a[u]?o=u:i.addSelectables(Yo.parse(a[u]),u)}return new e(t,i,o,n)},e.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,r){t.push(r)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},e}();function Pp(e,t){var r=new Yo,n=dt(e)[1];r.setElement(n);for(var i=0;i<t.length;i++){var o=t[i][0],s=dt(o)[1],a=t[i][1];if(r.addAttribute(s,a),o.toLowerCase()==vp)bp(a).forEach(function(e){return r.addClassName(e)})}return r}var Mp=new Ap(!0,new Jo,null,null),Np=new wp;function kp(e){return e instanceof Ge&&0==e.value.trim().length}function Ip(e){var t=new Map;return e.forEach(function(e){t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function Rp(e){return e instanceof un&&(e=e.ast),e instanceof Hr}var Op=function(){function e(){}return e.event=va("$event"),e}(),Dp=function(){return function(e,t){this.stmts=e,this.allowDefault=t}}();function Lp(e,t,r,n){e||(e=new Qp);var i=Fp({createLiteralArrayConverter:function(e){return function(e){return _a(e)}},createLiteralMapConverter:function(e){return function(t){return Ea(e.map(function(e,r){return{key:e.key,value:t[r],quoted:e.quoted}}))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+e)}},r),o=new Xp(e,t,n),s=[];!function e(t,r){Array.isArray(t)?t.forEach(function(t){return e(t,r)}):r.push(t)}(i.visit(o,jp.Statement),s),function(e,t,r){for(var n=e-1;n>=0;n--)r.unshift(qp(t,n))}(o.temporaryCount,n,s);var a=s.length-1,u=null;if(a>=0){var p=function(e){{if(e instanceof Js)return e.expr;if(e instanceof $s)return e.value}return null}(s[a]);p&&(u=va("pd_"+n),s[a]=u.set(p.cast(fs).notIdentical(xa(!1))).toDeclStmt(null,[Xs.Final]))}return new Dp(s,u)}function Fp(e,t){return r=t,n=new Kp(e),r.visit(n);var r,n}var Vp=function(){return function(e,t){this.stmts=e,this.currValExpr=t}}(),Bp={General:0,TrySimple:1};function Up(e,t,r,n,i){e||(e=new Qp);var o=va("currVal_"+n),s=[],a=new Xp(e,t,n),u=r.visit(a,jp.Expression);if(a.temporaryCount)for(var p=0;p<a.temporaryCount;p++)s.push(qp(n,p));else if(i==Bp.TrySimple)return new Vp([],u);return s.push(o.set(u).toDeclStmt(fs,[Xs.Final])),new Vp(s,o)}function Hp(e,t){return"tmp_"+e+"_"+t}function qp(e,t){return new Gs(Hp(e,t),zs)}Bp[Bp.General]="General",Bp[Bp.TrySimple]="TrySimple";var jp={Statement:0,Expression:1};function Wp(e,t){if(e!==jp.Expression)throw new Error("Expected an expression, but saw "+t)}function zp(e,t){return e===jp.Statement?t.toStmt():t}jp[jp.Statement]="Statement",jp[jp.Expression]="Expression";var Kp=function(e){function t(t){var r=e.call(this)||this;return r._converterFactory=t,r}return r(t,e),t.prototype.visitPipe=function(e,t){var r=this,n=[e.exp].concat(e.args).map(function(e){return e.visit(r,t)});return new Gp(e.span,n,this._converterFactory.createPipeConverter(e.name,n.length))},t.prototype.visitLiteralArray=function(e,t){var r=this,n=e.expressions.map(function(e){return e.visit(r,t)});return new Gp(e.span,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))},t.prototype.visitLiteralMap=function(e,t){var r=this,n=e.values.map(function(e){return e.visit(r,t)});return new Gp(e.span,n,this._converterFactory.createLiteralMapConverter(e.keys))},t}(hn),Xp=function(){function e(e,t,r){this._localResolver=e,this._implicitReceiver=t,this.bindingId=r,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}return e.prototype.visitBinary=function(e,t){var r;switch(e.operation){case"+":r=ms.Plus;break;case"-":r=ms.Minus;break;case"*":r=ms.Multiply;break;case"/":r=ms.Divide;break;case"%":r=ms.Modulo;break;case"&&":r=ms.And;break;case"||":r=ms.Or;break;case"==":r=ms.Equals;break;case"!=":r=ms.NotEquals;break;case"===":r=ms.Identical;break;case"!==":r=ms.NotIdentical;break;case"<":r=ms.Lower;break;case">":r=ms.Bigger;break;case"<=":r=ms.LowerEquals;break;case">=":r=ms.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return zp(t,new Vs(r,this._visit(e.left,jp.Expression),this._visit(e.right,jp.Expression)))},e.prototype.visitChain=function(e,t){return function(e,t){if(e!==jp.Statement)throw new Error("Expected a statement, but saw "+t)}(t,e),this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){return zp(t,this._visit(e.condition,jp.Expression).conditional(this._visit(e.trueExp,jp.Expression),this._visit(e.falseExp,jp.Expression)))},e.prototype.visitPipe=function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+e.name)},e.prototype.visitFunctionCall=function(e,t){var r=this.visitAll(e.args,jp.Expression);return zp(t,e instanceof Gp?e.converter(r):this._visit(e.target,jp.Expression).callFn(r))},e.prototype.visitImplicitReceiver=function(e,t){return Wp(t,e),this._implicitReceiver},e.prototype.visitInterpolation=function(e,t){Wp(t,e);for(var r=[xa(e.expressions.length)],n=0;n<e.strings.length-1;n++)r.push(xa(e.strings[n])),r.push(this._visit(e.expressions[n],jp.Expression));return r.push(xa(e.strings[e.strings.length-1])),e.expressions.length<=9?ma(jo.inlineInterpolate).callFn(r):ma(jo.interpolate).callFn([r[0],_a(r.slice(1))])},e.prototype.visitKeyedRead=function(e,t){var r=this.leftMostSafeNode(e);return r?this.convertSafeAccess(e,r,t):zp(t,this._visit(e.obj,jp.Expression).key(this._visit(e.key,jp.Expression)))},e.prototype.visitKeyedWrite=function(e,t){var r=this._visit(e.obj,jp.Expression),n=this._visit(e.key,jp.Expression),i=this._visit(e.value,jp.Expression);return zp(t,r.key(n).set(i))},e.prototype.visitLiteralArray=function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")},e.prototype.visitLiteralMap=function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")},e.prototype.visitLiteralPrimitive=function(e,t){var r=null===e.value||void 0===e.value||!0===e.value||!0===e.value?ds:void 0;return zp(t,xa(e.value,r))},e.prototype._getLocal=function(e){return this._localResolver.getLocal(e)},e.prototype.visitMethodCall=function(e,t){if(e.receiver instanceof qr&&"$any"==e.name){if(1!=(n=this.visitAll(e.args,jp.Expression)).length)throw new Error("Invalid call to $any, expected 1 argument but received "+(n.length||"none"));return n[0].cast(fs)}var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=this.visitAll(e.args,jp.Expression),i=null,o=this._visit(e.receiver,jp.Expression);if(o===this._implicitReceiver){var s=this._getLocal(e.name);s&&(i=s.callFn(n))}return null==i&&(i=o.callMethod(e.name,n)),zp(t,i)},e.prototype.visitPrefixNot=function(e,t){return zp(t,(r=this._visit(e.expression,jp.Expression),new Rs(r,n)));var r,n},e.prototype.visitNonNullAssert=function(e,t){return zp(t,(r=this._visit(e.expression,jp.Expression),new Os(r,n)));var r,n},e.prototype.visitPropertyRead=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=null,i=this._visit(e.receiver,jp.Expression);return i===this._implicitReceiver&&(n=this._getLocal(e.name)),null==n&&(n=i.prop(e.name)),zp(t,n)},e.prototype.visitPropertyWrite=function(e,t){var r=this._visit(e.receiver,jp.Expression);if(r===this._implicitReceiver&&this._getLocal(e.name))throw new Error("Cannot assign to a reference or variable!");return zp(t,r.prop(e.name).set(this._visit(e.value,jp.Expression)))},e.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitAll=function(e,t){var r=this;return e.map(function(e){return r._visit(e,t)})},e.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+e.uninterpretedExpression+" located at "+e.location)},e.prototype._visit=function(e,t){var r=this._resultMap.get(e);return r||(this._nodeMap.get(e)||e).visit(this,t)},e.prototype.convertSafeAccess=function(e,t,r){var n=this._visit(t.receiver,jp.Expression),i=void 0;this.needsTemporary(t.receiver)&&(n=(i=this.allocateTemporary()).set(n),this._resultMap.set(t.receiver,i));var o=n.isBlank();t instanceof sn?this._nodeMap.set(t,new on(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new zr(t.span,t.receiver,t.name));var s=this._visit(e,jp.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),zp(r,o.conditional(xa(null),s))},e.prototype.leftMostSafeNode=function(e){var t=this,r=function(e,r){return(t._nodeMap.get(r)||r).visit(e)};return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return r(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return r(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return r(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return r(this,e.receiver)||e},visitSafePropertyRead:function(e){return r(this,e.receiver)||e}})},e.prototype.needsTemporary=function(e){var t=this,r=function(e,r){return r&&(t._nodeMap.get(r)||r).visit(e)};return e.visit({visitBinary:function(e){return r(this,e.left)||r(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return r(this,e.condition)||r(this,e.trueExp)||r(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return t=this,e.expressions.some(function(e){return r(t,e)});var t},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return r(this,e.expression)},visitNonNullAssert:function(e){return r(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},e.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Ss(Hp(this.bindingId,e))},e.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=Hp(this.bindingId,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},e}();var Qp=function(){function e(){}return e.prototype.getLocal=function(e){return e===Op.event.name?Op.event:null},e}();var Gp=function(e){function t(t,r,n){var i=e.call(this,t,null,r)||this;return i.args=r,i.converter=n,i}return r(t,e),t}(an),Yp=function(){function e(e,t){this.options=e,this.reflector=t}return e.prototype.compileComponent=function(e,t,r,n,i,o){var s=this,a=new Map;n.forEach(function(e){return a.set(e.name,e.type.reference)});var u=0,p=function(e,r){var n=u++;return new Zp(s.options,s.reflector,i,e,t.type.reference,t.isHost,n,a,r,o,p)},c=p(null,[]);return c.visitAll([],r),c.build(e)},e}(),Jp="_any",$p=new(function(){function e(){}return e.prototype.getLocal=function(e){return e===Op.event.name?va(Jp):null},e}()),Zp=function(){function e(e,t,r,n,i,o,s,a,u,p,c){this.options=e,this.reflector=t,this.externalReferenceVars=r,this.parent=n,this.component=i,this.isHostComponent=o,this.embeddedViewIndex=s,this.pipes=a,this.guards=u,this.ctx=p,this.viewBuilderFactory=c,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}return e.prototype.getOutputVar=function(e){var t;if(!(t=e===this.component&&this.isHostComponent?Jp:e instanceof Ee?this.externalReferenceVars.get(e):Jp))throw new Error("Illegal State: referring to a type without a variable "+JSON.stringify(e));return t},e.prototype.getTypeGuardExpressions=function(e){for(var t=this.guards.slice(),r=0,n=e.directives;r<n.length;r++)for(var i=n[r],o=0,s=i.inputs;o<s.length;o++){var a=s[o],u=i.directive.guards[a.directiveName];if(u){var p="UseIf"===u;t.push({guard:u,useIf:p,expression:{context:this.component,value:a.value}})}}return t},e.prototype.visitAll=function(e,t){this.variables=e,ye(this,t)},e.prototype.build=function(e,t){var r=this;void 0===t&&(t=[]),this.children.forEach(function(r){return r.build(e,t)});var n=[va(Jp).set(zs).toDeclStmt(fs)],i=0;if(this.updates.forEach(function(e){var t=r.preprocessUpdateExpression(e),o=t.sourceSpan,s=t.context,a=t.value,u=""+i++,p=Up(s===r.component?r:$p,va(r.getOutputVar(s)),a,u,Bp.General),c=p.stmts,l=p.currValExpr;c.push(new Js(l)),n.push.apply(n,c.map(function(e){return ha(e,o)}))}),this.actions.forEach(function(e){var t=e.sourceSpan,o=e.context,s=e.value,a=""+i++,u=Lp(o===r.component?r:$p,va(r.getOutputVar(o)),s,a).stmts;n.push.apply(n,u.map(function(e){return ha(e,t)}))}),this.guards.length){for(var o=void 0,s=0,a=this.guards;s<a.length;s++){var u=a[s],p=this.preprocessUpdateExpression(u.expression),c=p.context,l=p.value,h=""+i++,f=Up(c===this.component?this:$p,va(this.getOutputVar(c)),l,h,Bp.TrySimple),d=f.stmts,v=f.currValExpr;if(0==d.length){var m=u.useIf?v:this.ctx.importExpr(u.guard).callFn([v]);o=o?o.and(m):m}}o&&(n=[new na(o,n)])}var y="_View_"+e+"_"+this.embeddedViewIndex,g=new Ys(y,[],n);return t.push(g),t},e.prototype.visitBoundText=function(e,t){var r=this;e.value.ast.expressions.forEach(function(t){return r.updates.push({context:r.component,value:t,sourceSpan:e.sourceSpan})})},e.prototype.visitEmbeddedTemplate=function(e,t){if(this.visitElementOrTemplate(e),this.options.fullTemplateTypeCheck){var r=this.getTypeGuardExpressions(e),n=this.viewBuilderFactory(this,r);this.children.push(n),n.visitAll(e.variables,e.children)}},e.prototype.visitElement=function(e,t){var r=this;this.visitElementOrTemplate(e);e.inputs.forEach(function(e){r.updates.push({context:r.component,value:e.value,sourceSpan:e.sourceSpan})}),ye(this,e.children)},e.prototype.visitElementOrTemplate=function(e){var t=this;e.directives.forEach(function(e){t.visitDirective(e)}),e.references.forEach(function(e){var r=null;r=e.value&&e.value.identifier&&t.options.fullTemplateTypeCheck?e.value.identifier.reference:us.Dynamic,t.refOutputVars.set(e.name,r)}),e.outputs.forEach(function(e){t.actions.push({context:t.component,value:e.handler,sourceSpan:e.sourceSpan})})},e.prototype.visitDirective=function(e){var t=this,r=e.directive.type.reference;e.inputs.forEach(function(e){return t.updates.push({context:t.component,value:e.value,sourceSpan:e.sourceSpan})}),this.options.fullTemplateTypeCheck&&(e.hostProperties.forEach(function(e){return t.updates.push({context:r,value:e.value,sourceSpan:e.sourceSpan})}),e.hostEvents.forEach(function(e){return t.actions.push({context:r,value:e.handler,sourceSpan:e.sourceSpan})}))},e.prototype.getLocal=function(e){if(e==Op.event.name)return va(this.getOutputVar(us.Dynamic));for(var t=this;t;t=t.parent){var r=void 0;if(null==(r=t.refOutputVars.get(e)))t.variables.find(function(t){return t.name===e})&&(r=us.Dynamic);if(null!=r)return va(this.getOutputVar(r))}return null},e.prototype.pipeOutputVar=function(e){var t=this.pipes.get(e);if(!t)throw new Error("Illegal State: Could not find pipe "+e+" in template of "+this.component);return this.getOutputVar(t)},e.prototype.preprocessUpdateExpression=function(e){var t=this;return{sourceSpan:e.sourceSpan,context:e.context,value:Fp({createLiteralArrayConverter:function(e){return function(e){var r=_a(e);return t.options.fullTemplateTypeCheck?r:r.cast(fs)}},createLiteralMapConverter:function(e){return function(r){var n=Ea(e.map(function(e,t){return{key:e.key,value:r[t],quoted:e.quoted}}));return t.options.fullTemplateTypeCheck?n:n.cast(fs)}},createPipeConverter:function(e,r){return function(r){return(t.options.fullTemplateTypeCheck?va(t.pipeOutputVar(e)):va(t.getOutputVar(us.Dynamic))).callMethod("transform",r)}}},e.value)}},e.prototype.visitNgContent=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitDirectiveProperty=function(e,t){},e.prototype.visitReference=function(e,t){},e.prototype.visitVariable=function(e,t){},e.prototype.visitEvent=function(e,t){},e.prototype.visitElementProperty=function(e,t){},e.prototype.visitAttr=function(e,t){},e}(),ec="class",tc="style",rc=function(){return function(e,t){this.viewClassVar=e,this.rendererTypeVar=t}}(),nc=function(){function e(e){this._reflector=e}return e.prototype.compileComponent=function(e,t,r,n,i){var o=this,s=0,a=function e(t,r){void 0===r&&(r=new Map);t.forEach(function(t){var n=new Set,i=new Set,o=void 0;t instanceof ae?(e(t.children,r),t.children.forEach(function(e){var t=r.get(e);t.staticQueryIds.forEach(function(e){return n.add(e)}),t.dynamicQueryIds.forEach(function(e){return i.add(e)})}),o=t.queryMatches):t instanceof ue&&(e(t.children,r),t.children.forEach(function(e){var t=r.get(e);t.staticQueryIds.forEach(function(e){return i.add(e)}),t.dynamicQueryIds.forEach(function(e){return i.add(e)})}),o=t.queryMatches),o&&o.forEach(function(e){return n.add(e.queryId)}),i.forEach(function(e){return n.delete(e)}),r.set(t,{staticQueryIds:n,dynamicQueryIds:i})});return r}(r),u=void 0;if(!t.isHost){var p=t.template,c=[];p.animations&&p.animations.length&&c.push(new qs("animation",ka(e,p.animations),!0));var l=va(Pe(t.type.reference));u=l.name,e.statements.push(l.set(ma(jo.createRendererType2).callFn([new js([new qs("encapsulation",xa(p.encapsulation),!1),new qs("styles",n,!1),new qs("data",new js(c),!1)])])).toDeclStmt(ya(jo.RendererType2),[Xs.Final,Xs.Exported]))}var h,f=function(r){var n=s++;return new cc(o._reflector,e,r,t,n,i,a,f)},d=f(null);return d.visitAll([],r),(h=e.statements).push.apply(h,d.build()),new rc(d.viewName,u)},e}(),ic=va("_l"),oc=va("_v"),sc=va("_ck"),ac=va("_co"),uc=va("en"),pc=va("ad"),cc=function(){function e(e,t,r,n,i,o,s,a){this.reflector=e,this.outputCtx=t,this.parent=r,this.component=n,this.embeddedViewIndex=i,this.usedPipes=o,this.staticQueryIds=s,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?fs:ga(t.importExpr(this.component.type.reference)),this.viewName=Ae(this.component.type.reference,this.embeddedViewIndex)}return e.prototype.visitAll=function(e,t){var r,n,i,o=this;if(this.variables=e,this.parent||this.usedPipes.forEach(function(e){e.pure&&(o.purePipeNodeIndices[e.name]=o._createPipe(null,e))}),!this.parent){var s=(r=this.staticQueryIds,n=new Set,i=new Set,Array.from(r.values()).forEach(function(e){e.staticQueryIds.forEach(function(e){return n.add(e)}),e.dynamicQueryIds.forEach(function(e){return i.add(e)})}),i.forEach(function(e){return n.delete(e)}),{staticQueryIds:n,dynamicQueryIds:i});this.component.viewQueries.forEach(function(e,t){var r=t+1,n=e.first?0:1,i=134217728|dc(s,r,e.first);o.nodes.push(function(){return{sourceSpan:null,nodeFlags:i,nodeDef:ma(jo.queryDef).callFn([xa(i),xa(r),new js([new qs(e.propertyName,xa(n),!1)])])}})})}ye(this,t),this.parent&&(0===t.length||function e(t){var r=t[t.length-1];if(r instanceof ue)return r.hasViewContainer;if(r instanceof ae)return vt(r.name)&&r.children.length?e(r.children):r.hasViewContainer;return r instanceof fe}(t))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:ma(jo.anchorDef).callFn([xa(0),zs,zs,xa(0)])}})},e.prototype.build=function(e){void 0===e&&(e=[]),this.children.forEach(function(t){return t.build(e)});var t=this._createNodeExpressions(),r=t.updateRendererStmts,n=t.updateDirectivesStmts,i=t.nodeDefExprs,o=this._createUpdateFn(r),s=this._createUpdateFn(n),a=0;this.parent||this.component.changeDetection!==f.OnPush||(a|=2);var u=new Ys(this.viewName,[new Ls(ic.name)],[new $s(ma(jo.viewDef).callFn([xa(a),_a(i),s,o]))],ya(jo.ViewDefinition),0===this.embeddedViewIndex?[Xs.Exported]:[]);return e.push(u),e},e.prototype._createUpdateFn=function(e){var t;if(e.length>0){var r=[];!this.component.isHost&&pa(e).has(ac.name)&&r.push(ac.set(oc.prop("component")).toDeclStmt(this.compType)),t=Sa([new Ls(sc.name,ds),new Ls(oc.name,ds)],r.concat(e),ds)}else t=zs;return t},e.prototype.visitNgContent=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:ma(jo.ngContentDef).callFn([xa(e.ngContentIndex),xa(e.index)])}})},e.prototype.visitText=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:ma(jo.textDef).callFn([xa(-1),xa(e.ngContentIndex),_a([xa(e.value)])])}})},e.prototype.visitBoundText=function(e,t){var r=this,n=this.nodes.length;this.nodes.push(null);var i=e.value.ast,o=i.expressions.map(function(t,i){return r._preprocessUpdateExpression({nodeIndex:n,bindingIndex:i,sourceSpan:e.sourceSpan,context:ac,value:t})}),s=n;this.nodes[n]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:ma(jo.textDef).callFn([xa(s),xa(e.ngContentIndex),_a(i.strings.map(function(e){return xa(e)}))]),updateRenderer:o}}},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this,n=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(n,e),o=i.flags,s=i.queryMatchesExpr,a=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var p=this.nodes.length-n-1;this.nodes[n]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|o,nodeDef:ma(jo.anchorDef).callFn([xa(o),s,xa(e.ngContentIndex),xa(p),r._createElementHandleEventFn(n,a),va(u.viewName)])}}},e.prototype.visitElement=function(e,t){var r=this,n=this.nodes.length;this.nodes.push(null);var i=vt(e.name)?null:e.name,o=this._visitElementOrTemplate(n,e),s=o.flags,a=o.usedEvents,u=o.queryMatchesExpr,p=o.hostBindings,c=o.hostEvents,l=[],h=[],f=[];if(i){var d=e.inputs.map(function(e){return{context:ac,inputAst:e,dirAst:null}}).concat(p);d.length&&(h=d.map(function(e,t){return r._preprocessUpdateExpression({context:e.context,nodeIndex:n,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})}),l=d.map(function(e){return function(e,t){switch(e.type){case de.Attribute:return _a([xa(1),xa(e.name),xa(e.securityContext)]);case de.Property:return _a([xa(8),xa(e.name),xa(e.securityContext)]);case de.Animation:var r=8|(t&&t.directive.isComponent?32:16);return _a([xa(r),xa("@"+e.name),xa(e.securityContext)]);case de.Class:return _a([xa(2),xa(e.name),zs]);case de.Style:return _a([xa(4),xa(e.name),xa(e.unit)])}}(e.inputAst,e.dirAst)})),f=a.map(function(e){var t=e[0],r=e[1];return _a([xa(t),xa(r)])})}ye(this,e.children);var v=this.nodes.length-n-1,m=e.directives.find(function(e){return e.directive.isComponent}),y=zs,g=zs;m&&(g=this.outputCtx.importExpr(m.directive.componentViewType),y=this.outputCtx.importExpr(m.directive.rendererType));var _=n;this.nodes[n]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:ma(jo.elementDef).callFn([xa(_),xa(s),u,xa(e.ngContentIndex),xa(v),xa(i),i?(t=e,o=Object.create(null),t.attrs.forEach(function(e){o[e.name]=e.value}),t.directives.forEach(function(e){Object.keys(e.directive.hostAttributes).forEach(function(t){var r,n,i=e.directive.hostAttributes[t],s=o[t];o[t]=null!=s?(n=i,(r=t)==ec||r==tc?s+" "+n:n):i})}),_a(Object.keys(o).sort().map(function(e){return _a([xa(e),xa(o[e])])}))):zs,l.length?_a(l):zs,f.length?_a(f):zs,r._createElementHandleEventFn(n,c),g,y]),updateRenderer:h};var t,o}},e.prototype._visitElementOrTemplate=function(e,t){var r=this,n=0;t.hasViewContainer&&(n|=16777216);var i=new Map;t.outputs.forEach(function(e){var t=fc(e,null),r=t.name,n=t.target;i.set(vc(n,r),[n,r])}),t.directives.forEach(function(e){e.hostEvents.forEach(function(t){var r=fc(t,e),n=r.name,o=r.target;i.set(vc(o,n),[o,n])})});var o=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach(function(n,a){var u=void 0,p=void 0;if(t.directives.forEach(function(e,t){e.directive.type.reference===Re(n.token)&&(u=e,p=t)}),u){var c=r._visitDirective(n,u,p,e,t.references,t.queryMatches,i,r.staticQueryIds.get(t)),l=c.hostBindings,h=c.hostEvents;o.push.apply(o,l),s.push.apply(s,h)}else r._visitProvider(n,t.queryMatches)});var a=[];return t.queryMatches.forEach(function(e){var t=void 0;Re(e.value)===r.reflector.resolveExternalReference(jo.ElementRef)?t=0:Re(e.value)===r.reflector.resolveExternalReference(jo.ViewContainerRef)?t=3:Re(e.value)===r.reflector.resolveExternalReference(jo.TemplateRef)&&(t=2),null!=t&&a.push(_a([xa(e.queryId),xa(t)]))}),t.references.forEach(function(t){var n=void 0;t.value?Re(t.value)===r.reflector.resolveExternalReference(jo.TemplateRef)&&(n=2):n=1,null!=n&&(r.refNodeIndices[t.name]=e,a.push(_a([xa(t.name),xa(n)])))}),t.outputs.forEach(function(e){s.push({context:ac,eventAst:e,dirAst:null})}),{flags:n,usedEvents:Array.from(i.values()),queryMatchesExpr:a.length?_a(a):zs,hostBindings:o,hostEvents:s}},e.prototype._visitDirective=function(e,t,r,n,i,o,s,a){var u=this,p=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach(function(e,r){var n=t.contentQueryStartId+r,i=67108864|dc(a,n,e.first),o=e.first?0:1;u.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:ma(jo.queryDef).callFn([xa(i),xa(n),new js([new qs(e.propertyName,xa(o),!1)])])}})});var c=this.nodes.length-p-1,l=this._visitProviderOrDirective(e,o),h=l.flags,f=l.queryMatchExprs,d=l.providerExpr,v=l.depsExpr;i.forEach(function(t){t.value&&Re(t.value)===Re(e.token)&&(u.refNodeIndices[t.name]=p,f.push(_a([xa(t.name),xa(4)])))}),t.directive.isComponent&&(h|=32768);var m=t.inputs.map(function(e,t){var r=_a([xa(t),xa(e.directiveName)]);return new qs(e.directiveName,r,!1)}),y=[],g=t.directive;Object.keys(g.outputs).forEach(function(e){var t=g.outputs[e];s.has(t)&&y.push(new qs(e,xa(t),!1))});var _=[];(t.inputs.length||(327680&h)>0)&&(_=t.inputs.map(function(e,t){return u._preprocessUpdateExpression({nodeIndex:p,bindingIndex:t,sourceSpan:e.sourceSpan,context:ac,value:e.value})}));var E=ma(jo.nodeValue).callFn([oc,xa(p)]),S=t.hostProperties.map(function(e){return{context:E,dirAst:t,inputAst:e}}),x=t.hostEvents.map(function(e){return{context:E,eventAst:e,dirAst:t}}),C=p;return this.nodes[p]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:16384|h,nodeDef:ma(jo.directiveDef).callFn([xa(C),xa(h),f.length?_a(f):zs,xa(c),d,v,m.length?new js(m):zs,y.length?new js(y):zs]),updateDirectives:_,directive:t.directive.type}},{hostBindings:S,hostEvents:x}},e.prototype._visitProvider=function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))},e.prototype._visitComponentFactoryResolverProvider=function(e){var t=e.find(function(e){return e.directive.isComponent});if(t&&t.directive.entryComponents.length){var r=Va(this.reflector,this.outputCtx,8192,t.directive.entryComponents),n=r.providerExpr,i=r.depsExpr,o=r.flags,s=r.tokenExpr;this._addProviderNode({providerExpr:n,depsExpr:i,flags:o,tokenExpr:s,queryMatchExprs:[],sourceSpan:t.sourceSpan})}},e.prototype._addProviderNode=function(e){this.nodes.length;this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:ma(jo.providerDef).callFn([xa(e.flags),e.queryMatchExprs.length?_a(e.queryMatchExprs):zs,e.tokenExpr,e.providerExpr,e.depsExpr])}})},e.prototype._visitProviderOrDirective=function(e,t){var r=[];t.forEach(function(t){Re(t.value)===Re(e.token)&&r.push(_a([xa(t.queryId),xa(4)]))});var n=Ra(this.outputCtx,e),i=n.providerExpr,o=n.depsExpr,s=n.flags,a=n.tokenExpr;return{flags:0|s,queryMatchExprs:r,providerExpr:i,depsExpr:o,tokenExpr:a,sourceSpan:e.sourceSpan}},e.prototype.getLocal=function(e){if(e==Op.event.name)return Op.event;for(var t=oc,r=this;r;r=r.parent,t=t.prop("parent").cast(fs)){var n=r.refNodeIndices[e];if(null!=n)return ma(jo.nodeValue).callFn([t,xa(n)]);var i=r.variables.find(function(t){return t.name===e});if(i){var o=i.value||"$implicit";return t.prop("context").prop(o)}}return null},e.prototype._createLiteralArrayConverter=function(e,t){if(0===t){var r=ma(jo.EMPTY_ARRAY);return function(){return r}}var n=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:32,nodeDef:ma(jo.pureArrayDef).callFn([xa(n),xa(t)])}}),function(e){return lc(n,e)}},e.prototype._createLiteralMapConverter=function(e,t){if(0===t.length){var r=ma(jo.EMPTY_MAP);return function(){return r}}var i=Ea(t.map(function(e,t){return n({},e,{value:xa(t)})})),o=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:64,nodeDef:ma(jo.pureObjectDef).callFn([xa(o),i])}}),function(e){return lc(o,e)}},e.prototype._createPipeConverter=function(e,t,r){var n=this.usedPipes.find(function(e){return e.name===t});if(n.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:ma(jo.purePipeDef).callFn([xa(i),xa(r)])}});for(var o=oc,s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(fs);var a=s.purePipeNodeIndices[t],u=ma(jo.nodeValue).callFn([o,xa(a)]);return function(t){return hc(e.nodeIndex,e.bindingIndex,lc(i,[u].concat(t)))}}var p=this._createPipe(e.sourceSpan,n),c=ma(jo.nodeValue).callFn([oc,xa(p)]);return function(t){return hc(e.nodeIndex,e.bindingIndex,c.callMethod("transform",t))}},e.prototype._createPipe=function(e,t){var r=this,n=this.nodes.length,i=0;t.type.lifecycleHooks.forEach(function(e){e===Ko.OnDestroy&&(i|=Fa(e))});var o=t.type.diDeps.map(function(e){return La(r.outputCtx,e)});return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:16,nodeDef:ma(jo.pipeDef).callFn([xa(i),r.outputCtx.importExpr(t.type.reference),_a(o)])}}),n},e.prototype._preprocessUpdateExpression=function(e){var t=this;return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:Fp({createLiteralArrayConverter:function(r){return t._createLiteralArrayConverter(e.sourceSpan,r)},createLiteralMapConverter:function(r){return t._createLiteralMapConverter(e.sourceSpan,r)},createPipeConverter:function(r,n){return t._createPipeConverter(e,r,n)}},e.value)}},e.prototype._createNodeExpressions=function(){var e=this,t=0,r=[],n=[],i=this.nodes.map(function(e,t){var i=e(),s=i.nodeDef,a=i.nodeFlags,u=i.updateDirectives,p=i.updateRenderer,c=i.sourceSpan;return p&&r.push.apply(r,o(t,c,p,!1)),u&&n.push.apply(n,o(t,c,u,(327680&a)>0)),fa(3&a?new Ws([ic.callFn([]).callFn([]),s]):s,c)});return{updateRendererStmts:r,updateDirectivesStmts:n,nodeDefExprs:i};function o(r,n,i,o){var s=[],a=i.map(function(r){var n=r.sourceSpan,i=r.context,o=r.value,a=""+t++,u=Up(i===ac?e:null,i,o,a,Bp.General),p=u.stmts,c=u.currValExpr;return s.push.apply(s,p.map(function(e){return ha(e,n)})),fa(c,n)});return(i.length||o)&&s.push(ha(lc(r,a).toStmt(),n)),s}},e.prototype._createElementHandleEventFn=function(e,t){var r,n=this,i=[],o=0;if(t.forEach(function(e){var t=e.context,r=e.eventAst,s=e.dirAst,a=""+o++,u=Lp(t===ac?n:null,t,r.handler,a),p=u.stmts,c=u.allowDefault,l=p;c&&l.push(pc.set(c.and(pc)).toStmt());var h=fc(r,s),f=vc(h.target,h.name);i.push(ha(new na(xa(f).identical(uc),l),r.sourceSpan))}),i.length>0){var s=[pc.set(xa(!0)).toDeclStmt(vs)];!this.component.isHost&&pa(i).has(ac.name)&&s.push(ac.set(oc.prop("component")).toDeclStmt(this.compType)),r=Sa([new Ls(oc.name,ds),new Ls(uc.name,ds),new Ls(Op.event.name,ds)],s.concat(i,[new $s(pc)]),ds)}else r=zs;return r},e.prototype.visitDirective=function(e,t){},e.prototype.visitDirectiveProperty=function(e,t){},e.prototype.visitReference=function(e,t){},e.prototype.visitVariable=function(e,t){},e.prototype.visitEvent=function(e,t){},e.prototype.visitElementProperty=function(e,t){},e.prototype.visitAttr=function(e,t){},e}();function lc(e,t){return t.length>10?sc.callFn([oc,xa(e),xa(1),_a(t)]):sc.callFn([oc,xa(e),xa(0)].concat(t))}function hc(e,t,r){return ma(jo.unwrapValue).callFn([oc,xa(e),xa(t),r])}function fc(e,t){return e.isAnimation?{name:"@"+e.name+"."+e.phase,target:t&&t.directive.isComponent?"component":null}:e}function dc(e,t,r){var n=0;return!r||!e.staticQueryIds.has(t)&&e.dynamicQueryIds.has(t)?n|=536870912:n|=268435456,n}function vc(e,t){return e?e+":"+t:t}var mc=function(){function e(e,t,r,n){void 0===n&&(n=null),this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=r,this._locale=n,this._messages=[]}return e.prototype.updateFromTemplate=function(e,t,r){var n=this._htmlParser.parse(e,t,!0,r);if(n.errors.length)return n.errors;var i,o,s,a,u,p=(i=n.rootNodes,o=r,s=this._implicitTags,a=this._implicitAttrs,new Fi(s,a).extract(i,o));return p.errors.length?p.errors:((u=this._messages).push.apply(u,p.messages),[])},e.prototype.getMessages=function(){return this._messages},e.prototype.write=function(e,t){var r={},n=new yc;this._messages.forEach(function(t){var n,i=e.digest(t);r.hasOwnProperty(i)?(n=r[i].sources).push.apply(n,t.sources):r[i]=t});var i=Object.keys(r).map(function(i){var o=e.createNameMapper(r[i]),s=r[i],a=o?n.convert(s.nodes,o):s.nodes,u=new ci(a,{},{},s.meaning,s.description,i);return u.sources=s.sources,t&&u.sources.forEach(function(e){return e.filePath=t(e.filePath)}),u});return e.write(i,this._locale)},e}(),yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.convert=function(e,t){var r=this;return t?e.map(function(e){return e.visit(r,t)}):e},t.prototype.visitTagPlaceholder=function(e,t){var r=this,n=t.toPublicName(e.startName),i=e.closeName?t.toPublicName(e.closeName):e.closeName,o=e.children.map(function(e){return e.visit(r,t)});return new di(e.tag,e.attrs,n,i,o,e.isVoid,e.sourceSpan)},t.prototype.visitPlaceholder=function(e,t){return new vi(e.value,t.toPublicName(e.name),e.sourceSpan)},t.prototype.visitIcuPlaceholder=function(e,t){return new mi(e.value,t.toPublicName(e.name),e.sourceSpan)},t}(yi),gc=function(){function e(e,t,r){this.srcFileUrl=e,this.genFileUrl=t,"string"==typeof r?(this.source=r,this.stmts=null):(this.source=null,this.stmts=r)}return e.prototype.isEquivalent=function(e){return this.genFileUrl===e.genFileUrl&&(this.source?this.source===e.source:null!=e.stmts&&gs(this.stmts,e.stmts))},e}();function _c(e,t){for(var r=[],n=0,i=e.transitiveModule.providers;n<i.length;n++){var o=i[n],s=o.provider,a=o.module;if(Re(s.token)===t.ROUTES)for(var u=0,p=Ec(s.useValue);u<p.length;u++){var c=p[u];r.push(Sc(c,t,a.reference))}}return r}function Ec(e,t){if(void 0===t&&(t=[]),"string"==typeof e)t.push(e);else if(Array.isArray(e))for(var r=0,n=e;r<n.length;r++){Ec(n[r],t)}else e.loadChildren?Ec(e.loadChildren,t):e.children&&Ec(e.children,t);return t}function Sc(e,t,r){var n=e.split("#"),i=n[0],o=n[1],s=t.resolveExternalReference({moduleName:i,name:o},r?r.filePath:void 0);return{route:e,module:r||s,referencedModule:s}}var xc=function(){return function(e,t){this.symbol=e,this.metadata=t}}(),Cc=function(){function e(e,t,r,n){this.host=e,this.staticSymbolCache=t,this.summaryResolver=r,this.errorRecorder=n,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return e.prototype.resolveSymbol=function(e){if(e.members.length>0)return this._resolveSymbolMembers(e);var t=this._resolveSymbolFromSummary(e);if(t)return t;var r=this.resolvedSymbols.get(e);return r||(this._createSymbolsOf(e.filePath),this.resolvedSymbols.get(e))},e.prototype.getImportAs=function(e,t){if(void 0===t&&(t=!0),e.members.length){var r=this.getStaticSymbol(e.filePath,e.name);return(i=this.getImportAs(r,t))?this.getStaticSymbol(i.filePath,i.name,e.members):null}var n=e.filePath.replace(ko,".");if(n!==e.filePath){var i,o=e.name.replace(Io,"");r=this.getStaticSymbol(n,o,e.members);return(i=this.getImportAs(r,t))?this.getStaticSymbol(Vo(i.filePath),Bo(i.name),r.members):null}var s=t&&this.summaryResolver.getImportAs(e)||null;return s||(s=this.importAs.get(e)),s},e.prototype.getResourcePath=function(e){return this.symbolResourcePaths.get(e)||e.filePath},e.prototype.getTypeArity=function(e){if(t=e.filePath,No.test(t))return null;for(var t,r=Tc(this.resolveSymbol(e));r&&r.metadata instanceof Ee;)r=Tc(this.resolveSymbol(r.metadata));return r&&r.metadata&&r.metadata.arity||null},e.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},e.prototype.recordImportAs=function(e,t){e.assertNoMembers(),t.assertNoMembers(),this.importAs.set(e,t)},e.prototype.recordModuleNameForFileName=function(e,t){this.knownFileNameToModuleNames.set(e,t)},e.prototype.invalidateFile=function(e){this.metadataCache.delete(e),this.resolvedFilePaths.delete(e);var t=this.symbolFromFile.get(e);if(t){this.symbolFromFile.delete(e);for(var r=0,n=t;r<n.length;r++){var i=n[r];this.resolvedSymbols.delete(i),this.importAs.delete(i),this.symbolResourcePaths.delete(i)}}},e.prototype.ignoreErrorsFor=function(e){var t=this.errorRecorder;this.errorRecorder=function(){};try{return e()}finally{this.errorRecorder=t}},e.prototype._resolveSymbolMembers=function(e){var t=e.members,r=this.resolveSymbol(this.getStaticSymbol(e.filePath,e.name));if(!r)return null;var n=Tc(r.metadata);if(n instanceof Ee)return new xc(e,this.getStaticSymbol(n.filePath,n.name,t));if(!n||"class"!==n.__symbolic){for(var i=n,o=0;o<t.length&&i;o++)i=i[t[o]];return new xc(e,i)}return n.statics&&1===t.length?new xc(e,n.statics[t[0]]):null},e.prototype._resolveSymbolFromSummary=function(e){var t=this.summaryResolver.resolveSummary(e);return t?new xc(e,t.metadata):null},e.prototype.getStaticSymbol=function(e,t,r){return this.staticSymbolCache.get(e,t,r)},e.prototype.hasDecorators=function(e){var t=this.getModuleMetadata(e);return!!t.metadata&&Object.keys(t.metadata).some(function(e){var r=t.metadata[e];return r&&"class"===r.__symbolic&&r.decorators})},e.prototype.getSymbolsOf=function(e){var t=this.summaryResolver.getSymbolsOf(e);if(t)return t;this._createSymbolsOf(e);var r=[];return this.resolvedSymbols.forEach(function(t){t.symbol.filePath===e&&r.push(t.symbol)}),r},e.prototype._createSymbolsOf=function(e){var t=this;if(!this.resolvedFilePaths.has(e)){this.resolvedFilePaths.add(e);var r=[],n=this.getModuleMetadata(e);if(n.importAs&&this.knownFileNameToModuleNames.set(e,n.importAs),n.exports)for(var i=function(n){if(n.export)n.export.forEach(function(i){var o,s=o=wc(o="string"==typeof i?i:i.as);"string"!=typeof i&&(s=wc(i.name));var a=t.resolveModule(n.from,e);if(a){var u=t.getStaticSymbol(a,s),p=t.getStaticSymbol(e,o);r.push(t.createExport(p,u))}});else{var i=o.resolveModule(n.from,e);if(i)o.getSymbolsOf(i).forEach(function(n){var i=t.getStaticSymbol(e,n.name);r.push(t.createExport(i,n))})}},o=this,s=0,a=n.exports;s<a.length;s++){i(a[s])}if(n.metadata){var u=new Set(Object.keys(n.metadata).map(wc)),p=n.origins||{};Object.keys(n.metadata).forEach(function(i){var o=n.metadata[i],s=wc(i),a=t.getStaticSymbol(e,s),c=p.hasOwnProperty(i)&&p[i];if(c){var l=t.resolveModule(c,e);l?t.symbolResourcePaths.set(a,l):t.reportError(new Error("Couldn't resolve original symbol for "+c+" from "+e))}r.push(t.createResolvedSymbol(a,e,u,o))})}r.forEach(function(e){return t.resolvedSymbols.set(e.symbol,e)}),this.symbolFromFile.set(e,r.map(function(e){return e.symbol}))}},e.prototype.createResolvedSymbol=function(e,t,i,o){var s,a=this;if(this.summaryResolver.isLibraryFile(e.filePath)&&o&&"class"===o.__symbolic){var u={__symbolic:"class",arity:o.arity};return new xc(e,u)}var p=function(){return s||(s=a.host.getOutputName(t.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))),s},c=this,l=L(o,new(function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return r(s,o),s.prototype.visitStringMap=function(r,s){var a=r.__symbolic;if("function"===a){var u=s.length;s.push.apply(s,r.parameters||[]);var l=o.prototype.visitStringMap.call(this,r,s);return s.length=u,l}if("reference"!==a)return"error"===a?n({},r,{fileName:p()}):o.prototype.visitStringMap.call(this,r,s);var h=r.module,f=r.name?wc(r.name):r.name;if(!f)return null;var d=void 0;return h?(d=c.resolveModule(h,e.filePath))?{__symbolic:"resolved",symbol:c.getStaticSymbol(d,f),line:r.line,character:r.character,fileName:p()}:{__symbolic:"error",message:"Could not resolve "+h+" relative to "+e.filePath+".",line:r.line,character:r.character,fileName:p()}:s.indexOf(f)>=0?{__symbolic:"reference",name:f}:i.has(f)?c.getStaticSymbol(t,f):void 0},s}(B)),[]),h=Tc(l);return h instanceof Ee?this.createExport(e,h):new xc(e,l)},e.prototype.createExport=function(e,t){return e.assertNoMembers(),t.assertNoMembers(),this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(t,this.getImportAs(e)||e),new xc(e,t)},e.prototype.reportError=function(e,t,r){if(!this.errorRecorder)throw e;this.errorRecorder(e,t&&t.filePath||r)},e.prototype.getModuleMetadata=function(e){var t=this.metadataCache.get(e);if(!t){var r=this.host.getMetadataFor(e);if(r){var n=-1;r.forEach(function(e){e&&e.version>n&&(n=e.version,t=e)})}if(t||(t={__symbolic:"module",version:4,module:e,metadata:{}}),4!=t.version){var i=2==t.version?"Unsupported metadata version "+t.version+" for module "+e+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+e+", found version "+t.version+", expected 4";this.reportError(new Error(i))}this.metadataCache.set(e,t)}return t},e.prototype.getSymbolByModule=function(e,t,r){var n=this.resolveModule(e,r);return n?this.getStaticSymbol(n,t):(this.reportError(new Error("Could not resolve module "+e+(r?" relative to "+r:""))),this.getStaticSymbol("ERROR:"+e,t))},e.prototype.resolveModule=function(e,t){try{return this.host.moduleNameToFileName(e,t)}catch(r){console.error("Could not resolve module '"+e+"' relative to file "+t),this.reportError(r,void 0,t)}return null},e}();function wc(e){return e.startsWith("___")?e.substr(1):e}function Tc(e){return e&&"resolved"===e.__symbolic?e.symbol:e}function bc(e,t,r){var n=Bo(t.name);e.statements.push(Sa([],[new $s(r)],new ls(fs)).toDeclStmt(n,[Xs.Final,Xs.Exported]))}var Ac=function(e){function t(t,r,n){var i=e.call(this)||this;return i.symbolResolver=t,i.summaryResolver=r,i.srcFileName=n,i.symbols=[],i.indexBySymbol=new Map,i.reexportedBy=new Map,i.processedSummaryBySymbol=new Map,i.processedSummaries=[],i.unprocessedSymbolSummariesBySymbol=new Map,i.moduleName=t.getKnownModuleName(n),i}return r(t,e),t.prototype.addSummary=function(e){var t,r,n=this,i=this.unprocessedSymbolSummariesBySymbol.get(e.symbol),o=this.processedSummaryBySymbol.get(e.symbol);if(i||(i={symbol:e.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(e.symbol,i),o={symbol:this.processValue(e.symbol,0)},this.processedSummaries.push(o),this.processedSummaryBySymbol.set(e.symbol,o)),!i.metadata&&e.metadata){var s=e.metadata||{};if("class"===s.__symbolic){var a={};Object.keys(s).forEach(function(e){"decorators"!==e&&(a[e]=s[e])}),s=a}else Nc(s)&&(Nc(r=s)&&Tc(r.expression)instanceof Ee||Nc(t=s)&&t.expression&&"select"===t.expression.__symbolic&&Tc(t.expression.expression)instanceof Ee||(s={__symbolic:"error",message:"Complex function calls are not supported."}));if(i.metadata=s,o.metadata=this.processValue(s,1),s instanceof Ee&&this.summaryResolver.isLibraryFile(s.filePath)){var u=this.symbols[this.indexBySymbol.get(s)];Ho(u.name)||this.reexportedBy.set(u,e.symbol)}}if(!i.type&&e.type&&(i.type=e.type,o.type=this.processValue(e.type,0),e.type.summaryKind===ke.NgModule)){var p=e.type;p.exportedDirectives.concat(p.exportedPipes).forEach(function(e){var t=e.reference;if(n.summaryResolver.isLibraryFile(t.filePath)&&!n.unprocessedSymbolSummariesBySymbol.has(t)){var r=n.summaryResolver.resolveSummary(t);r&&n.addSummary(r)}})}},t.prototype.serialize=function(){var e=this,t=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(r,n){r.assertNoMembers();var i=void 0;if(e.summaryResolver.isLibraryFile(r.filePath)){var o=e.reexportedBy.get(r);if(o)i=e.indexBySymbol.get(o);else{var s=e.unprocessedSymbolSummariesBySymbol.get(r);s&&s.metadata&&"interface"===s.metadata.__symbolic||(i=r.name+"_"+n,t.push({symbol:r,exportAs:i}))}}return{__symbol:n,name:r.name,filePath:e.summaryResolver.toSummaryFileName(r.filePath,e.srcFileName),importAs:i}})}),exportAs:t}},t.prototype.processValue=function(e,t){return L(e,this,t)},t.prototype.visitOther=function(e,t){if(e instanceof Ee){var r=this.symbolResolver.getStaticSymbol(e.filePath,e.name);return{__symbol:this.visitStaticSymbol(r,t),members:e.members}}},t.prototype.visitStaticSymbol=function(e,t){var r=this.indexBySymbol.get(e),n=null;if(1&t&&this.summaryResolver.isLibraryFile(e.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(e))return r;(n=this.loadSummary(e))&&n.metadata instanceof Ee&&(r=this.visitStaticSymbol(n.metadata,t),n=null)}else if(null!=r)return r;return null==r&&(r=this.symbols.length,this.symbols.push(e)),this.indexBySymbol.set(e,r),n&&this.addSummary(n),r},t.prototype.loadSummary=function(e){var t=this.summaryResolver.resolveSummary(e);if(!t){var r=this.symbolResolver.resolveSymbol(e);r&&(t={symbol:r.symbol,metadata:r.metadata})}return t},t}(B),Pc=function(){function e(e,t,r){this.outputCtx=e,this.symbolResolver=t,this.summaryResolver=r,this.data=[]}return e.prototype.addSourceType=function(e,t){this.data.push({summary:e,metadata:t,isLibrary:!1})},e.prototype.addLibType=function(e){this.data.push({summary:e,metadata:null,isLibrary:!0})},e.prototype.serialize=function(e){for(var t=this,r=new Map,n=0,i=e;n<i.length;n++){var o=i[n],s=o.symbol,a=o.exportAs;r.set(s,a)}for(var u=new Set,p=0,c=this.data;p<c.length;p++){var l=c[p],h=l.summary,f=l.metadata,d=l.isLibrary;if(h.summaryKind===ke.NgModule){u.add(h.type.reference);for(var v=0,m=h.modules;v<m.length;v++){var y=m[v];u.add(y.reference)}}if(!d){Bo(h.type.reference.name);bc(this.outputCtx,h.type.reference,this.serializeSummaryWithDeps(h,f))}}u.forEach(function(e){if(t.summaryResolver.isLibraryFile(e.filePath)){var n=Bo(r.get(e)||e.name);t.outputCtx.statements.push(va(n).set(t.serializeSummaryRef(e)).toDeclStmt(null,[Xs.Exported]))}})},e.prototype.serializeSummaryWithDeps=function(e,t){var r=this,n=[this.serializeSummary(e)],i=[];if(t instanceof Ve)n.push.apply(n,t.declaredDirectives.concat(t.declaredPipes).map(function(e){return e.reference}).concat(t.transitiveModule.modules.map(function(e){return e.reference}).filter(function(e){return e!==t.type.reference})).map(function(e){return r.serializeSummaryRef(e)})),i=t.providers;else if(e.summaryKind===ke.Directive){var o=e;i=o.providers.concat(o.viewProviders)}return n.push.apply(n,i.filter(function(e){return!!e.useClass}).map(function(e){return r.serializeSummary({summaryKind:ke.Injectable,type:e.useClass})})),_a(n)},e.prototype.serializeSummaryRef=function(e){var t=this.symbolResolver.getStaticSymbol(Vo(e.filePath),Bo(e.name));return this.outputCtx.importExpr(t)},e.prototype.serializeSummary=function(e){var t=this.outputCtx;return L(e,new(function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return _a(e.map(function(e){return L(e,r,t)}))},e.prototype.visitStringMap=function(e,t){var r=this;return new js(Object.keys(e).map(function(n){return new qs(n,L(e[n],r,t),!1)}))},e.prototype.visitPrimitive=function(e,t){return xa(e)},e.prototype.visitOther=function(e,r){if(e instanceof Ee)return t.importExpr(e);throw new Error("Illegal State: Encountered value "+e)},e}()),null)},e}(),Mc=function(e){function t(t,r){var n=e.call(this)||this;return n.symbolCache=t,n.summaryResolver=r,n}return r(t,e),t.prototype.deserialize=function(e,t){var r=this,n=JSON.parse(t),i=[];this.symbols=n.symbols.map(function(t){return r.symbolCache.get(r.summaryResolver.fromSummaryFileName(t.filePath,e),t.name)}),n.symbols.forEach(function(t,n){var o=r.symbols[n],s=t.importAs;"number"==typeof s?i.push({symbol:o,importAs:r.symbols[s]}):"string"==typeof s&&i.push({symbol:o,importAs:r.symbolCache.get(Ro(e),s)})});var o=L(n.summaries,this,null);return{moduleName:n.moduleName,summaries:o,importAs:i}},t.prototype.visitStringMap=function(t,r){if("__symbol"in t){var n=this.symbols[t.__symbol],i=t.members;return i.length?this.symbolCache.get(n.filePath,n.name,i):n}return e.prototype.visitStringMap.call(this,t,r)},t}(B);function Nc(e){return e&&"call"===e.__symbolic}var kc={Basic:1,TypeCheck:2,All:3};kc[kc.Basic]="Basic",kc[kc.TypeCheck]="TypeCheck",kc[kc.All]="All";var Ic=function(){function e(e,t,r,n,i,o,s,a,u,p,c,l,h){this._config=e,this._options=t,this._host=r,this._reflector=n,this._metadataResolver=i,this._templateParser=o,this._styleCompiler=s,this._viewCompiler=a,this._typeCheckCompiler=u,this._ngModuleCompiler=p,this._outputEmitter=c,this._summaryResolver=l,this._symbolResolver=h,this._templateAstCache=new Map,this._analyzedFiles=new Map}return e.prototype.clearCache=function(){this._metadataResolver.clearCache()},e.prototype.analyzeModulesSync=function(e){var t=this,r=Fc(e,this._host,this._symbolResolver,this._metadataResolver);return r.ngModules.forEach(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)}),r},e.prototype.analyzeModulesAsync=function(e){var t=this,r=Fc(e,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(r.ngModules.map(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){return r})},e.prototype._analyzeFile=function(e){var t=this._analyzedFiles.get(e);return t||(t=Bc(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFiles.set(e,t)),t},e.prototype.findGeneratedFileNames=function(e){var t=this,r=[],n=this._analyzeFile(e);(this._options.allowEmptyCodegenFiles||n.directives.length||n.pipes.length||n.injectables.length||n.ngModules.length||n.exportsNonSourceFiles)&&(r.push(Ro(n.fileName,!0)),this._options.enableSummariesForJit&&r.push(Vo(n.fileName,!0)));var i=Lo(Do(n.fileName,!0)[1]);return n.directives.forEach(function(e){var o=t._metadataResolver.getNonNormalizedDirectiveMetadata(e).metadata;o.isComponent&&o.template.styleUrls.forEach(function(e){var s=t._host.resourceNameToFileName(e,n.fileName);if(!s)throw j("Couldn't resolve resource "+e+" relative to "+n.fileName);var a=(o.template.encapsulation||t._config.defaultEncapsulation)===h.Emulated;r.push(Dc(s,a,i)),t._options.allowEmptyCodegenFiles&&r.push(Dc(s,!a,i))})}),r},e.prototype.emitBasicStub=function(e,t){var r=this._createOutputContext(e);if(e.endsWith(".ngfactory.ts")){if(!t)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: "+e);var n=this._analyzeFile(t);this._createNgFactoryStub(r,n,kc.Basic)}else if(e.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!t)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: "+e);n=this._analyzeFile(t);Rc(r),n.ngModules.forEach(function(e){var t,n;t=r,n=e.type.reference,bc(t,n,zs)})}}else e.endsWith(".ngstyle.ts")&&Rc(r);return this._codegenSourceModule("unknown",r)},e.prototype.emitTypeCheckStub=function(e,t){var r=this._analyzeFile(t),n=this._createOutputContext(e);return e.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(n,r,kc.TypeCheck),n.statements.length>0?this._codegenSourceModule(r.fileName,n):null},e.prototype.loadFilesAsync=function(e){var t=this,r=e.map(function(e){return t._analyzeFile(e)}),n=[];return r.forEach(function(e){return e.ngModules.forEach(function(e){return n.push(t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1))})}),Promise.all(n).then(function(e){return Hc(r)})},e.prototype.loadFilesSync=function(e){var t=this,r=e.map(function(e){return t._analyzeFile(e)});return r.forEach(function(e){return e.ngModules.forEach(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)})}),Hc(r)},e.prototype._createNgFactoryStub=function(e,t,r){var n=this,i=0;t.ngModules.forEach(function(t,o){n._ngModuleCompiler.createStub(e,t.type.reference);var s=t.transitiveModule.directives.map(function(e){return e.reference}).concat(t.transitiveModule.pipes.map(function(e){return e.reference}),t.importedModules.map(function(e){return e.type.reference}),t.exportedModules.map(function(e){return e.type.reference}),n._externalIdentifierReferences([jo.TemplateRef,jo.ElementRef])),a=new Map;s.forEach(function(e,t){a.set(e,"_decl"+o+"_"+t)}),a.forEach(function(t,r){e.statements.push(va(t).set(zs.cast(fs)).toDeclStmt(ga(e.importExpr(r,null,!1))))}),r&kc.TypeCheck&&t.declaredDirectives.forEach(function(r){var o=n._metadataResolver.getDirectiveMetadata(r.reference);o.isComponent&&(i++,n._createTypeCheckBlock(e,o.type.reference.name+"_Host_"+i,t,n._metadataResolver.getHostComponentMetadata(o),[o.type],a),n._createTypeCheckBlock(e,o.type.reference.name+"_"+i,t,o,t.transitiveModule.directives,a))})}),0===e.statements.length&&Rc(e)},e.prototype._externalIdentifierReferences=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r],o=zo(this._reflector,i);o.identifier&&t.push(o.identifier.reference)}return t},e.prototype._createTypeCheckBlock=function(e,t,r,n,i,o){var s,a=this._parseTemplate(n,r,i),u=a.template,p=a.pipes;(s=e.statements).push.apply(s,this._typeCheckCompiler.compileComponent(t,n,u,p,o,e))},e.prototype.emitMessageBundle=function(e,t){var r=this,n=[],i=new To,o=new mc(i,[],{},t);if(e.files.forEach(function(e){var t=[];e.directives.forEach(function(e){var n=r._metadataResolver.getDirectiveMetadata(e);n&&n.isComponent&&t.push(n)}),t.forEach(function(t){var r=t.template.template,i=st.fromArray(t.template.interpolation);n.push.apply(n,o.updateFromTemplate(r,e.fileName,i))})}),n.length)throw new Error(n.map(function(e){return e.toString()}).join("\n"));return o},e.prototype.emitAllImpls=function(e){var t=this,r=e.ngModuleByPipeOrDirective;return qe(e.files.map(function(e){return t._compileImplFile(e.fileName,r,e.directives,e.pipes,e.ngModules,e.injectables)}))},e.prototype._compileImplFile=function(e,t,r,n,i,o){var s=this,a=Lo(Do(e,!0)[1]),u=[],p=this._createOutputContext(Ro(e,!0));if(u.push.apply(u,this._createSummary(e,r,n,i,o,p)),i.forEach(function(e){return s._compileModule(p,e)}),r.forEach(function(r){var n=s._metadataResolver.getDirectiveMetadata(r);if(n.isComponent){var i=t.get(r);if(!i)throw new Error("Internal Error: cannot determine the module for component "+Te(n.type)+"!");var o=s._styleCompiler.compileComponent(p,n);n.template.externalStylesheets.forEach(function(t){var r=s._styleCompiler.needsStyleShim(n);u.push(s._codegenStyles(e,n,t,r,a)),s._options.allowEmptyCodegenFiles&&u.push(s._codegenStyles(e,n,t,!r,a))});s._compileComponent(p,n,i,i.transitiveModule.directives,o,a);s._compileComponentFactory(p,n,i,a)}}),p.statements.length>0||this._options.allowEmptyCodegenFiles){var c=this._codegenSourceModule(e,p);u.unshift(c)}return u},e.prototype._createSummary=function(e,t,r,n,i,o){var s=this,a=this._symbolResolver.getSymbolsOf(e).map(function(e){return s._symbolResolver.resolveSymbol(e)}),u=n.map(function(e){return{summary:s._metadataResolver.getNgModuleSummary(e.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(e.type.reference)}}).concat(t.map(function(e){return{summary:s._metadataResolver.getDirectiveSummary(e),metadata:s._metadataResolver.getDirectiveMetadata(e)}}),r.map(function(e){return{summary:s._metadataResolver.getPipeSummary(e),metadata:s._metadataResolver.getPipeMetadata(e)}}),i.map(function(e){return{summary:s._metadataResolver.getInjectableSummary(e),metadata:s._metadataResolver.getInjectableSummary(e).type}})),p=this._options.enableSummariesForJit?this._createOutputContext(Vo(e,!0)):null,c=function(e,t,r,n,i,o){var s=new Ac(n,r,e);i.forEach(function(e){return s.addSummary({symbol:e.symbol,metadata:e.metadata})}),o.forEach(function(e){var t=e.summary;e.metadata,s.addSummary({symbol:t.type.reference,metadata:void 0,type:t})});var a=s.serialize(),u=a.json,p=a.exportAs;if(t){var c=new Pc(t,n,r);o.forEach(function(e){var t=e.summary,r=e.metadata;c.addSourceType(t,r)}),s.unprocessedSymbolSummariesBySymbol.forEach(function(e){r.isLibraryFile(e.symbol.filePath)&&e.type&&c.addLibType(e.type)}),c.serialize(p)}return{json:u,exportAs:p}}(e,p,this._summaryResolver,this._symbolResolver,a,u),l=c.json;c.exportAs.forEach(function(e){o.statements.push(va(e.exportAs).set(o.importExpr(e.symbol)).toDeclStmt(null,[Xs.Exported]))});var h=[new gc(e,Fo(e),l)];return p&&h.push(this._codegenSourceModule(e,p)),h},e.prototype._compileModule=function(e,t){var r=[];if(this._options.locale){var n=this._options.locale.replace(/_/g,"-");r.push({token:zo(this._reflector,jo.LOCALE_ID),useValue:n})}this._options.i18nFormat&&r.push({token:zo(this._reflector,jo.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(e,t,r)},e.prototype._compileComponentFactory=function(e,t,r,n){var i=this._metadataResolver.getHostComponentMetadata(t),o=this._compileComponent(e,i,r,[t.type],null,n).viewClassVar,s=Ne(t.type.reference),a=[];for(var u in t.inputs){var p=t.inputs[u];a.push(new qs(u,xa(p),!1))}var c=[];for(var u in t.outputs){p=t.outputs[u];c.push(new qs(u,xa(p),!1))}e.statements.push(va(s).set(ma(jo.createComponentFactory).callFn([xa(t.selector),e.importExpr(t.type.reference),va(o),new js(a),new js(c),_a(t.template.ngContentSelectors.map(function(e){return xa(e)}))])).toDeclStmt(ya(jo.ComponentFactory,[ga(e.importExpr(t.type.reference))],[ss.Const]),[Xs.Final,Xs.Exported]))},e.prototype._compileComponent=function(e,t,r,n,i,o){var s=this._parseTemplate(t,r,n),a=s.template,u=s.pipes,p=i?va(i.stylesVar):_a([]),c=this._viewCompiler.compileComponent(e,t,a,p,u);return i&&Oc(this._symbolResolver,i,this._styleCompiler.needsStyleShim(t),o),c},e.prototype._parseTemplate=function(e,t,r){var n=this;if(this._templateAstCache.has(e.type.reference))return this._templateAstCache.get(e.type.reference);var i=e.template.preserveWhitespaces,o=r.map(function(e){return n._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return n._metadataResolver.getPipeSummary(e.reference)}),a=this._templateParser.parse(e,e.template.htmlAst,o,s,t.schemas,We(t.type,e,e.template),i);return this._templateAstCache.set(e.type.reference,a),a},e.prototype._createOutputContext=function(e){var t=this;return{statements:[],genFilePath:e,importExpr:function(r,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!0),!(r instanceof Ee))throw new Error("Internal error: unknown identifier "+JSON.stringify(r));var o=t._symbolResolver.getTypeArity(r)||0,s=t._symbolResolver.getImportAs(r,i)||r,a=s.filePath,u=s.name,p=s.members,c=t._fileNameToModuleName(a,e),l=c===t._fileNameToModuleName(e,e)?null:c,h=n||[],f=o-h.length,d=h.concat(new Array(f).fill(fs));return p.reduce(function(e,t){return e.prop(t)},ma(new ks(l,u,null),d))}}},e.prototype._fileNameToModuleName=function(e,t){return this._summaryResolver.getKnownModuleName(e)||this._symbolResolver.getKnownModuleName(e)||this._host.fileNameToModuleName(e,t)},e.prototype._codegenStyles=function(e,t,r,n,i){var o=this._createOutputContext(Dc(r.moduleUrl,n,i)),s=this._styleCompiler.compileStyles(o,t,r,n);return Oc(this._symbolResolver,s,n,i),this._codegenSourceModule(e,o)},e.prototype._codegenSourceModule=function(e,t){return new gc(e,t.genFilePath,t.statements)},e.prototype.listLazyRoutes=function(e,t){var r=this;if(e)return function e(t,n,i){void 0===n&&(n=new Set);void 0===i&&(i=[]);if(n.has(t)||!t.name)return i;n.add(t);var o=_c(r._metadataResolver.getNgModuleMetadata(t,!0),r._reflector);for(var s=0,a=o;s<a.length;s++){var u=a[s];i.push(u),e(u.referencedModule,n,i)}return i}(Sc(e,this._reflector).referencedModule);if(t){for(var n=[],i=0,o=t.ngModules;i<o.length;i++)for(var s=0,a=_c(o[i],this._reflector);s<a.length;s++){var u=a[s];n.push(u)}return n}throw new Error("Either route or analyzedModules has to be specified!")},e}();function Rc(e){e.statements.push(ma(jo.ComponentFactory).toStmt())}function Oc(e,t,r,n){t.dependencies.forEach(function(t){t.setValue(e.getStaticSymbol(Dc(t.moduleUrl,r,n),t.name))})}function Dc(e,t,r){return e+(t?".shim":"")+".ngstyle"+r}function Lc(e,t,r,n){var i,o,s,a,u,p,c;return Uc((i=e,o=t,s=r,a=n,u=new Set,p=[],c=function(e){if(u.has(e)||!o.isSourceFile(e))return!1;u.add(e);var t=Bc(o,s,a,e);p.push(t),t.ngModules.forEach(function(e){e.transitiveModule.modules.forEach(function(e){return c(e.reference.filePath)})})},i.forEach(function(e){return c(e)}),p))}function Fc(e,t,r,n){return Vc(Lc(e,t,r,n))}function Vc(e){if(e.symbolsMissingModule&&e.symbolsMissingModule.length)throw j(e.symbolsMissingModule.map(function(e){return"Cannot determine the module for class "+e.name+" in "+e.filePath+"! Add "+e.name+" to the NgModule to fix it."}).join("\n"));return e}function Bc(e,t,r,n){var i=[],o=[],s=[],a=[],u=t.hasDecorators(n),p=!1;return n.endsWith(".d.ts")&&!u||t.getSymbolsOf(n).forEach(function(n){var u=t.resolveSymbol(n).metadata;if(u&&"error"!==u.__symbolic){var c,l,h,f,d=!1;if("class"===u.__symbolic)if(r.isDirective(n))d=!0,i.push(n);else if(r.isPipe(n))d=!0,o.push(n);else if(r.isNgModule(n)){var v=r.getNgModuleMetadata(n,!1);v&&(d=!0,a.push(v))}else r.isInjectable(n)&&(d=!0,s.push(n));d||(p=p||(c=e,l=u,h=!1,f=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;e.forEach(function(e){return L(e,r,t)})},e.prototype.visitStringMap=function(e,t){var r=this;Object.keys(e).forEach(function(n){return L(e[n],r,t)})},e.prototype.visitPrimitive=function(e,t){},e.prototype.visitOther=function(e,t){e instanceof Ee&&!c.isSourceFile(e.filePath)&&(h=!0)},e}(),L(l,new f,null),h))}}),{fileName:n,directives:i,pipes:o,ngModules:a,injectables:s,exportsNonSourceFiles:p}}function Uc(e){var t=[],r=new Map,n=new Set;e.forEach(function(e){e.ngModules.forEach(function(e){t.push(e),e.declaredDirectives.forEach(function(t){return r.set(t.reference,e)}),e.declaredPipes.forEach(function(t){return r.set(t.reference,e)})}),e.directives.forEach(function(e){return n.add(e)}),e.pipes.forEach(function(e){return n.add(e)})});var i=[];return n.forEach(function(e){r.has(e)||i.push(e)}),{ngModules:t,ngModuleByPipeOrDirective:r,symbolsMissingModule:i,files:e}}function Hc(e){return Vc(Uc(e))}var qc="ngFormattedMessage";function jc(e,t){if(void 0===t&&(t=0),!e)return"";var r=e.position?e.position.fileName+"("+(e.position.line+1)+","+(e.position.column+1)+")":"",n=r&&0!==t?" at "+r:"",i=""+(r&&0===t?r+": ":"")+e.message+n;return""+function e(t){if(t<=0)return"";if(t<6)return[""," ","  ","   ","    ","     "][t];var r=e(Math.floor(t/2));return r+r+(t%2==1?" ":"")}(t)+i+(e.next&&"\n"+jc(e.next,t+2)||"")}function Wc(e){var t=j(jc(e)+".");return t[qc]=!0,t.chain=e,t.position=e.position,t}var zc="@angular/core",Kc=/^\$.*\$$/,Xc={__symbolic:"ignore"},Qc="useValue",Gc="provide",Yc=new Set([Qc,"useFactory","data"]),Jc="TypeGuard",$c="UseIf";function Zc(e){return e&&"ignore"==e.__symbolic}var el=function(){function e(e,t,r,n,i){void 0===r&&(r=[]),void 0===n&&(n=[]);var o=this;this.summaryResolver=e,this.symbolResolver=t,this.errorRecorder=i,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),r.forEach(function(e){return o._registerDecoratorOrConstructor(o.getStaticSymbol(e.filePath,e.name),e.ctor)}),n.forEach(function(e){return o._registerFunction(o.getStaticSymbol(e.filePath,e.name),e.fn)}),this.annotationForParentClassWithSummaryKind.set(ke.Directive,[l,d]),this.annotationForParentClassWithSummaryKind.set(ke.Pipe,[v]),this.annotationForParentClassWithSummaryKind.set(ke.NgModule,[E]),this.annotationForParentClassWithSummaryKind.set(ke.Injectable,[w,v,l,d,E])}return e.prototype.componentModuleUrl=function(e){var t=this.findSymbolDeclaration(e);return this.symbolResolver.getResourcePath(t)},e.prototype.resolveExternalReference=function(e,t){var r=void 0;if(!t){r=e.moduleName+":"+e.name;var n=this.resolvedExternalReferences.get(r);if(n)return n}var i=this.symbolResolver.getSymbolByModule(e.moduleName,e.name,t),o=this.findSymbolDeclaration(i);return t||(this.symbolResolver.recordModuleNameForFileName(i.filePath,e.moduleName),this.symbolResolver.recordImportAs(o,i)),r&&this.resolvedExternalReferences.set(r,o),o},e.prototype.findDeclaration=function(e,t,r){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(e,t,r))},e.prototype.tryFindDeclaration=function(e,t){var r=this;return this.symbolResolver.ignoreErrorsFor(function(){return r.findDeclaration(e,t)})},e.prototype.findSymbolDeclaration=function(e){var t=this.symbolResolver.resolveSymbol(e);if(t){var r=t.metadata;if(r&&"resolved"===r.__symbolic&&(r=r.symbol),r instanceof Ee)return this.findSymbolDeclaration(t.metadata)}return e},e.prototype.annotations=function(e){var t=this.annotationCache.get(e);if(!t){t=[];var r=this.getTypeMetadata(e),n=this.findParentType(e,r);if(n){var i=this.annotations(n);t.push.apply(t,i)}var o=[];if(r.decorators&&(o=this.simplify(e,r.decorators),t.push.apply(t,o)),n&&!this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(n.filePath)){var s=this.summaryResolver.resolveSummary(n);if(s&&s.type){var a=this.annotationForParentClassWithSummaryKind.get(s.type.summaryKind);a.some(function(e){return o.some(function(t){return e.isTypeOf(t)})})||this.reportError(vl(rl("Class "+e.name+" in "+e.filePath+" extends from a "+ke[s.type.summaryKind]+" in another compilation unit without duplicating the decorator",void 0,"Please add a "+a.map(function(e){return e.ngMetadataName}).join(" or ")+" decorator to the class"),e),e)}}this.annotationCache.set(e,t.filter(function(e){return!!e}))}return t},e.prototype.propMetadata=function(e){var t=this,r=this.propertyCache.get(e);if(!r){var n=this.getTypeMetadata(e);r={};var i=this.findParentType(e,n);if(i){var o=this.propMetadata(i);Object.keys(o).forEach(function(e){r[e]=o[e]})}var s=n.members||{};Object.keys(s).forEach(function(n){var i=s[n].find(function(e){return"property"==e.__symbolic||"method"==e.__symbolic}),o=[];r[n]&&o.push.apply(o,r[n]),r[n]=o,i&&i.decorators&&o.push.apply(o,t.simplify(e,i.decorators))}),this.propertyCache.set(e,r)}return r},e.prototype.parameters=function(e){var t=this;if(!(e instanceof Ee))return this.reportError(new Error("parameters received "+JSON.stringify(e)+" which is not a StaticSymbol"),e),[];try{var r=this.parameterCache.get(e);if(!r){var n=this.getTypeMetadata(e),i=this.findParentType(e,n),o=n?n.members:null,s=o?o.__ctor__:null;if(s){var a=s.find(function(e){return"constructor"==e.__symbolic}),u=a.parameters||[],p=this.simplify(e,a.parameterDecorators||[]);r=[],u.forEach(function(n,i){var o=[],s=t.trySimplify(e,n);s&&o.push(s);var a=p?p[i]:null;a&&o.push.apply(o,a),r.push(o)})}else i&&(r=this.parameters(i));r||(r=[]),this.parameterCache.set(e,r)}return r}catch(t){throw console.error("Failed on type "+JSON.stringify(e)+" with error "+t),t}},e.prototype._methodNames=function(e){var t=this.methodCache.get(e);if(!t){var r=this.getTypeMetadata(e);t={};var n=this.findParentType(e,r);if(n){var i=this._methodNames(n);Object.keys(i).forEach(function(e){t[e]=i[e]})}var o=r.members||{};Object.keys(o).forEach(function(e){var r=o[e].some(function(e){return"method"==e.__symbolic});t[e]=t[e]||r}),this.methodCache.set(e,t)}return t},e.prototype._staticMembers=function(e){var t=this.staticCache.get(e);if(!t){var r=this.getTypeMetadata(e).statics||{};t=Object.keys(r),this.staticCache.set(e,t)}return t},e.prototype.findParentType=function(e,t){var r=this.trySimplify(e,t.extends);if(r instanceof Ee)return r},e.prototype.hasLifecycleHook=function(e,t){e instanceof Ee||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(e)+" which is not a StaticSymbol"),e);try{return!!this._methodNames(e)[t]}catch(t){throw console.error("Failed on type "+JSON.stringify(e)+" with error "+t),t}},e.prototype.guards=function(e){if(!(e instanceof Ee))return this.reportError(new Error("guards received "+JSON.stringify(e)+" which is not a StaticSymbol"),e),{};for(var t={},r=0,n=this._staticMembers(e);r<n.length;r++){var i=n[r];if(i.endsWith(Jc)){var o=i.substr(0,i.length-Jc.length),s=void 0;o.endsWith($c)?(o=i.substr(0,o.length-$c.length),s=$c):s=this.getStaticSymbol(e.filePath,e.name,[i]),t[o]=s}}return t},e.prototype._registerDecoratorOrConstructor=function(e,t){this.conversionMap.set(e,function(e,r){return new(t.bind.apply(t,[void 0].concat(r)))})},e.prototype._registerFunction=function(e,t){this.conversionMap.set(e,function(e,r){return t.apply(void 0,r)})},e.prototype.initializeConversionMap=function(){this.injectionToken=this.findDeclaration(zc,"InjectionToken"),this.opaqueToken=this.findDeclaration(zc,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(zc,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Host"),A),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Injectable"),w),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Self"),T),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"SkipSelf"),b),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Inject"),i),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Optional"),C),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Attribute"),s),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"ContentChild"),u),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"ContentChildren"),a),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"ViewChild"),c),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"ViewChildren"),p),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Input"),m),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Output"),y),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Pipe"),v),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"HostBinding"),g),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"HostListener"),_),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Directive"),l),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Component"),d),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"NgModule"),E),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Host"),A),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Self"),T),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"SkipSelf"),b),this._registerDecoratorOrConstructor(this.findDeclaration(zc,"Optional"),C)},e.prototype.getStaticSymbol=function(e,t,r){return this.symbolResolver.getStaticSymbol(e,t,r)},e.prototype.trySimplify=function(e,t){var r=this.errorRecorder;this.errorRecorder=function(e,t){};var n=this.simplify(e,t);return this.errorRecorder=r,n},e.prototype.simplify=function(e,t){var r,n=this,i=hl.empty,o=new Map;try{r=function e(t,r,s,a){function u(e){var t=n.symbolResolver.resolveSymbol(e);return t?t.metadata:null}function p(r){return e(t,r,s,0)}function c(r,i){if(r===t)return e(r,i,s+1,a);try{return e(r,i,s+1,a)}catch(e){if(!nl(e))throw e;var o=e.chain?"references '"+e.symbol.name+"'":function(e){if(e.summary)return e.summary;switch(e.message){case il:if(e.context&&e.context.className)return"references non-exported class "+e.context.className;break;case ol:return"is not initialized";case sl:return"is a destructured variable";case al:return"could not be resolved";case ul:return e.context&&e.context.name?"calls '"+e.context.name+"'":"calls a function";case pl:return e.context&&e.context.name?"references local variable "+e.context.name:"references a local variable"}return"contains the error"}(e),u={message:"'"+r.name+"' "+o,position:e.position,next:e.chain};n.error({message:e.message,advise:e.advise,context:e.context,chain:u,symbol:r},t)}}function l(r){if(ll(r))return r;if(r instanceof Array){for(var h=[],f=0,d=r;f<d.length;f++){var v=d[f];if(v&&"spread"===v.__symbolic){var m=p(v.expression);if(Array.isArray(m)){for(var y=0,g=m;y<g.length;y++){var _=g[y];h.push(_)}continue}}var E=l(v);Zc(E)||h.push(E)}return h}if(r instanceof Ee)return r===n.injectionToken||n.conversionMap.has(r)||a>0&&!r.members.length?r:null!=(N=u(S=r))?c(S,N):S;if(r){if(r.__symbolic){var S=void 0;switch(r.__symbolic){case"binop":var x=l(r.left);if(Zc(x))return x;var C=l(r.right);if(Zc(C))return C;switch(r.operator){case"&&":return x&&C;case"||":return x||C;case"|":return x|C;case"^":return x^C;case"&":return x&C;case"==":return x==C;case"!=":return x!=C;case"===":return x===C;case"!==":return x!==C;case"<":return x<C;case">":return x>C;case"<=":return x<=C;case">=":return x>=C;case"<<":return x<<C;case">>":return x>>C;case"+":return x+C;case"-":return x-C;case"*":return x*C;case"/":return x/C;case"%":return x%C}return null;case"if":return l(l(r.condition)?r.thenExpression:r.elseExpression);case"pre":var w=l(r.operand);if(Zc(w))return w;switch(r.operator){case"+":return w;case"-":return-w;case"!":return!w;case"~":return~w}return null;case"index":var T=p(r.expression),b=p(r.index);return T&&ll(b)?T[b]:null;case"select":var A=r.member,P=t,M=l(r.expression);if(M instanceof Ee){var N,k=M.members.concat(A);return null!=(N=u(P=n.getStaticSymbol(M.filePath,M.name,k)))?c(P,N):P}return M&&ll(A)?c(P,M[A]):null;case"reference":var I=r.name,R=i.resolve(I);if(R!=hl.missing)return R;break;case"resolved":try{return l(r.symbol)}catch(e){throw nl(e)&&null!=r.fileName&&null!=r.line&&null!=r.character&&(e.position={fileName:r.fileName,line:r.line,column:r.character}),e}case"class":case"function":return t;case"new":case"call":if((S=e(t,r.expression,s+1,0))instanceof Ee){if(S===n.injectionToken||S===n.opaqueToken)return t;var O=r.arguments||[],D=n.conversionMap.get(S);if(D){var L=O.map(function(e){return c(t,e)}).map(function(e){return Zc(e)?void 0:e});return D(t,L)}return function(e,r,a,u){if(r&&"function"==r.__symbolic){o.get(e)&&n.error({message:"Recursion is not supported",summary:"called '"+e.name+"' recursively",value:r},e);try{var p=r.value;if(p&&(0!=s||"error"!=p.__symbolic)){var h=r.parameters,f=r.defaults;a=a.map(function(e){return c(t,e)}).map(function(e){return Zc(e)?void 0:e}),f&&f.length>a.length&&a.push.apply(a,f.slice(a.length).map(function(e){return l(e)})),o.set(e,!0);for(var d=hl.build(),v=0;v<h.length;v++)d.define(h[v],a[v]);var m,y=i;try{i=d.done(),m=c(e,p)}finally{i=y}return m}}finally{o.delete(e)}}if(0===s)return Xc;var g=void 0;if(u&&"resolved"==u.__symbolic){var _=u.line,E=u.character,S=u.fileName;null!=S&&null!=_&&null!=E&&(g={fileName:S,line:_,column:E})}n.error({message:ul,context:e,value:r,position:g},t)}(S,u(S),O,r.expression)}return Xc;case"error":var F=r.message;return null!=r.line?n.error({message:F,context:r.context,value:r,position:{fileName:r.fileName,line:r.line,column:r.character}},t):n.error({message:F,context:r.context},t),Xc;case"ignore":return r}return null}return function(e,t){if(!e)return{};var r={};return Object.keys(e).forEach(function(n){var i=t(e[n],n);Zc(i)||(Kc.test(n)?Object.defineProperty(r,n,{enumerable:!1,configurable:!0,value:i}):r[n]=i)}),r}(r,function(i,o){if(Yc.has(o)){if(o===Qc&&Gc in r){var u=l(r.provide);if(u===n.ROUTES||u==n.ANALYZE_FOR_ENTRY_COMPONENTS)return l(i)}return e(t,i,s,a+1)}return l(i)})}return Xc}return l(r)}(e,t,0,0)}catch(t){if(!this.errorRecorder)throw vl(t,e);this.reportError(t,e)}if(!Zc(r))return r},e.prototype.getTypeMetadata=function(e){var t=this.symbolResolver.resolveSymbol(e);return t&&t.metadata?t.metadata:{__symbolic:"class"}},e.prototype.reportError=function(e,t,r){if(!this.errorRecorder)throw e;this.errorRecorder(vl(e,t),t&&t.filePath||r)},e.prototype.error=function(e,t){var r=e.message,n=e.summary,i=e.advise,o=e.position,s=e.context,a=(e.value,e.symbol),u=e.chain;this.reportError(rl(r,n,i,o,a,s,u),t)},e}(),tl="ngMetadataError";function rl(e,t,r,n,i,o,s){var a=j(e);return a[tl]=!0,r&&(a.advise=r),n&&(a.position=n),t&&(a.summary=t),o&&(a.context=o),s&&(a.chain=s),i&&(a.symbol=i),a}function nl(e){return!!e[tl]}var il="Reference to non-exported class",ol="Variable not initialized",sl="Destructuring not supported",al="Could not resolve type",ul="Function call not supported",pl="Reference to a local symbol",cl="Lambda not supported";function ll(e){return null===e||"function"!=typeof e&&"object"!=typeof e}var hl=function(){function e(){}return e.build=function(){var t=new Map;return{define:function(e,r){return t.set(e,r),this},done:function(){return t.size>0?new fl(t):e.empty}}},e.missing={},e.empty={resolve:function(t){return e.missing}},e}(),fl=function(e){function t(t){var r=e.call(this)||this;return r.bindings=t,r}return r(t,e),t.prototype.resolve=function(e){return this.bindings.has(e)?this.bindings.get(e):hl.missing},t}(hl);function dl(e,t){return{message:""+function(e,t){switch(e){case il:if(t&&t.className)return"References to a non-exported class are not supported in decorators but "+t.className+" was referenced.";break;case ol:return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case sl:return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case al:if(t&&t.typeName)return"Could not resolve type "+t.typeName;break;case ul:return t&&t.name?"Function calls are not supported in decorators but '"+t.name+"' was called":"Function calls are not supported in decorators";case pl:if(t&&t.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '"+t.name+"' was referenced";break;case cl:return"Function expressions are not supported in decorators"}return e}(e.message,e.context)+(e.symbol?" in '"+e.symbol.name+"'":""),position:e.position,next:e.next?dl(e.next,t):t?{message:t}:void 0}}function vl(e,t){if(nl(e)){var r=e.position;return Wc(dl({message:"Error during template compile of '"+t.name+"'",position:r,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(e,t){switch(e){case il:if(t&&t.className)return"Consider exporting '"+t.className+"'";break;case sl:return"Consider simplifying to avoid destructuring";case pl:if(t&&t.name)return"Consider exporting '"+t.name+"'";break;case cl:return"Consider changing the function expression into an exported function"}}(e.message,e.context)))}return e}var ml=function(){function e(e,t){this.host=e,this.staticSymbolCache=t,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}return e.prototype.isLibraryFile=function(e){return!this.host.isSourceFile(Oo(e))},e.prototype.toSummaryFileName=function(e,t){return this.host.toSummaryFileName(e,t)},e.prototype.fromSummaryFileName=function(e,t){return this.host.fromSummaryFileName(e,t)},e.prototype.resolveSummary=function(e){var t=e.members.length?this.staticSymbolCache.get(e.filePath,e.name):e,r=this.summaryCache.get(t);return r||(this._loadSummaryFile(e.filePath),r=this.summaryCache.get(e)),t===e&&r||null},e.prototype.getSymbolsOf=function(e){return this._loadSummaryFile(e)?Array.from(this.summaryCache.keys()).filter(function(t){return t.filePath===e}):null},e.prototype.getImportAs=function(e){return e.assertNoMembers(),this.importAs.get(e)},e.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},e.prototype.addSummary=function(e){this.summaryCache.set(e.symbol,e)},e.prototype._loadSummaryFile=function(e){var t=this,r=this.loadedFilePaths.get(e);if(null!=r)return r;var n,i,o,s=null;if(this.isLibraryFile(e)){var a=Fo(e);try{s=this.host.loadSummary(a)}catch(e){throw console.error("Error loading summary file "+a),e}}if(r=null!=s,this.loadedFilePaths.set(e,r),s){var u=(n=this.staticSymbolCache,i=e,o=s,new Mc(n,this).deserialize(i,o)),p=u.moduleName,c=u.summaries,l=u.importAs;c.forEach(function(e){return t.summaryCache.set(e.symbol,e)}),p&&this.knownFileNameToModuleNames.set(e,p),l.forEach(function(e){t.importAs.set(e.symbol,e.importAs)})}return r},e}();function yl(e){return{resolve:function(t,r){var n=e.resourceNameToFileName(r,t);if(!n)throw j("Couldn't resolve resource "+r+" from "+t);return n}}}var gl=function(){return function(){}}(),_l=function(){function e(){this._summaries=new Map}return e.prototype.isLibraryFile=function(){return!1},e.prototype.toSummaryFileName=function(e){return e},e.prototype.fromSummaryFileName=function(e){return e},e.prototype.resolveSummary=function(e){return this._summaries.get(e)||null},e.prototype.getSymbolsOf=function(){return[]},e.prototype.getImportAs=function(e){return e},e.prototype.getKnownModuleName=function(e){return null},e.prototype.addSummary=function(e){this._summaries.set(e.symbol,e)},e}();function El(e,t,r,n,i){for(var o=n.createChildWihtLocalVars(),s=0;s<e.length;s++)o.vars.set(e[s],t[s]);var a=i.visitAllStatements(r,o);return a?a.value:null}var Sl=function(){function e(e,t,r,n){this.parent=e,this.instance=t,this.className=r,this.vars=n,this.exports=[]}return e.prototype.createChildWihtLocalVars=function(){return new e(this,this.instance,this.className,new Map)},e}(),xl=function(){return function(e){this.value=e}}();var Cl=function(){function e(e){this.reflector=e}return e.prototype.debugAst=function(e){return nu(e)},e.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),e.hasModifier(Xs.Exported)&&t.exports.push(e.name),null},e.prototype.visitWriteVarExpr=function(e,t){for(var r=e.value.visitExpression(this,t),n=t;null!=n;){if(n.vars.has(e.name))return n.vars.set(e.name,r),r;n=n.parent}throw new Error("Not declared variable "+e.name)},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(null!=e.builtin)switch(e.builtin){case Es.Super:return t.instance.__proto__;case Es.This:return t.instance;case Es.CatchError:r=Tl;break;case Es.CatchStack:r=bl;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var n=t;null!=n;){if(n.vars.has(r))return n.vars.get(r);n=n.parent}throw new Error("Not declared variable "+r)},e.prototype.visitWriteKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return r[n]=i,i},e.prototype.visitWritePropExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.value.visitExpression(this,t);return r[e.name]=n,n},e.prototype.visitInvokeMethodExpr=function(e,t){var r,n=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case Ts.ConcatArray:r=n.concat.apply(n,i);break;case Ts.SubscribeObservable:r=n.subscribe({next:i[0]});break;case Ts.Bind:r=n.bind.apply(n,i);break;default:throw new Error("Unknown builtin method "+e.builtin)}else r=n[e.name].apply(n,i);return r},e.prototype.visitInvokeFunctionExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.fn;return n instanceof Ss&&n.builtin===Es.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,r),null):e.fn.visitExpression(this,t).apply(null,r)},e.prototype.visitReturnStmt=function(e,t){return new xl(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){var r=function(e,t,r){var n={};e.getters.forEach(function(i){n[i.name]={configurable:!1,get:function(){var n=new Sl(t,this,e.name,t.vars);return El([],[],i.body,n,r)}}}),e.methods.forEach(function(i){var o=i.params.map(function(e){return e.name});n[i.name]={writable:!1,configurable:!1,value:function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var a=new Sl(t,this,e.name,t.vars);return El(o,n,i.body,a,r)}}});var i=e.constructorMethod.params.map(function(e){return e.name}),o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new Sl(t,this,e.name,t.vars);e.fields.forEach(function(e){n[e.name]=void 0}),El(i,o,e.constructorMethod.body,a,r)},s=e.parent?e.parent.visitExpression(r,t):Object;return o.prototype=Object.create(s.prototype,n),o}(e,t,this);return t.vars.set(e.name,r),e.hasModifier(Xs.Exported)&&t.exports.push(e.name),null},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},e.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null},e.prototype.visitTryCatchStmt=function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){var r=t.createChildWihtLocalVars();return r.vars.set(Tl,n),r.vars.set(bl,n.stack),this.visitAllStatements(e.catchStmts,r)}},e.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},e.prototype.visitCommentStmt=function(e,t){return null},e.prototype.visitInstantiateExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.classExpr.visitExpression(this,t);return new(n.bind.apply(n,[void 0].concat(r)))},e.prototype.visitLiteralExpr=function(e,t){return e.value},e.prototype.visitExternalExpr=function(e,t){return this.reflector.resolveExternalReference(e.value)},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null},e.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},e.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t)},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},e.prototype.visitFunctionExpr=function(e,t){return wl(e.params.map(function(e){return e.name}),e.statements,t,this)},e.prototype.visitDeclareFunctionStmt=function(e,t){var r=e.params.map(function(e){return e.name});return t.vars.set(e.name,wl(r,e.statements,t,this)),e.hasModifier(Xs.Exported)&&t.exports.push(e.name),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r=this,n=function(){return e.lhs.visitExpression(r,t)},i=function(){return e.rhs.visitExpression(r,t)};switch(e.operator){case ms.Equals:return n()==i();case ms.Identical:return n()===i();case ms.NotEquals:return n()!=i();case ms.NotIdentical:return n()!==i();case ms.And:return n()&&i();case ms.Or:return n()||i();case ms.Plus:return n()+i();case ms.Minus:return n()-i();case ms.Divide:return n()/i();case ms.Multiply:return n()*i();case ms.Modulo:return n()%i();case ms.Lower:return n()<i();case ms.LowerEquals:return n()<=i();case ms.Bigger:return n()>i();case ms.BiggerEquals:return n()>=i();default:throw new Error("Unknown operator "+e.operator)}},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.name]},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n={};return e.entries.forEach(function(e){return n[e.key]=e.value.visitExpression(r,t)}),n},e.prototype.visitCommaExpr=function(e,t){var r=this.visitAllExpressions(e.parts,t);return r[r.length-1]},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitAllStatements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r].visitStatement(this,t);if(n instanceof xl)return n}return null},e}();function wl(e,t,r,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return El(e,i,t,r,n)}}var Tl="error",bl="stack";function Al(e,t,r,n){var i=new Pl(r),o=Za.createRoot();return i.visitAllStatements(t,o),i.createReturnStmt(o),function(e,t,r,n){var i=t.toSource()+"\n//# sourceURL="+e,o=[],s=[];for(var a in r)o.push(a),s.push(r[a]);if(n){var u=(new(Function.bind.apply(Function,[void 0].concat(o.concat("return null;"))))).toString(),p=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n"+t.toSourceMapGenerator(e,p).toJsComment()}return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}(e,o,i.getArgs(),n)}var Pl=function(e){function t(t){var r=e.call(this)||this;return r.reflector=t,r._evalArgNames=[],r._evalArgValues=[],r._evalExportedVars=[],r}return r(t,e),t.prototype.createReturnStmt=function(e){new $s(new js(this._evalExportedVars.map(function(e){return new qs(e,va(e),!1)}))).visitStatement(this,e)},t.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},t.prototype.visitExternalExpr=function(e,t){var r=this.reflector.resolveExternalReference(e.value),n=this._evalArgValues.indexOf(r);if(-1===n){n=this._evalArgValues.length,this._evalArgValues.push(r);var i=Te({reference:r})||"val";this._evalArgNames.push("jit_"+i+"_"+n)}return t.print(e,this._evalArgNames[n]),null},t.prototype.visitDeclareVarStmt=function(t,r){return t.hasModifier(Xs.Exported)&&this._evalExportedVars.push(t.name),e.prototype.visitDeclareVarStmt.call(this,t,r)},t.prototype.visitDeclareFunctionStmt=function(t,r){return t.hasModifier(Xs.Exported)&&this._evalExportedVars.push(t.name),e.prototype.visitDeclareFunctionStmt.call(this,t,r)},t.prototype.visitDeclareClassStmt=function(t,r){return t.hasModifier(Xs.Exported)&&this._evalExportedVars.push(t.name),e.prototype.visitDeclareClassStmt.call(this,t,r)},t}(function(e){function t(){return e.call(this,!1)||this}return r(t,e),t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(function(n){return r._visitClassGetter(e,n,t)}),e.methods.forEach(function(n){return r._visitClassMethod(e,n,t)}),t.popClass(),null},t.prototype._visitClassConstructor=function(e,t){t.print(e,"function "+e.name+"("),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")},t.prototype._visitClassGetter=function(e,t,r){r.println(e,"Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),r.incIndent(),t.body.length>0&&(r.println(e,"var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println(e,"}});")},t.prototype._visitClassMethod=function(e,t,r){r.print(e,e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,r),r.println(e,") {"),r.incIndent(),t.body.length>0&&(r.println(e,"var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println(e,"};")},t.prototype.visitReadVarExpr=function(t,r){if(t.builtin===Es.This)r.print(t,"self");else{if(t.builtin===Es.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,r)}return null},t.prototype.visitDeclareVarStmt=function(e,t){return t.print(e,"var "+e.name+" = "),e.value.visitExpression(this,t),t.println(e,";"),null},t.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},t.prototype.visitInvokeFunctionExpr=function(t,r){var n=t.fn;return n instanceof Ss&&n.builtin===Es.Super?(r.currentClass.parent.visitExpression(this,r),r.print(t,".call(this"),t.args.length>0&&(r.print(t,", "),this.visitAllExpressions(t.args,r,",")),r.print(t,")")):e.prototype.visitInvokeFunctionExpr.call(this,t,r),null},t.prototype.visitFunctionExpr=function(e,t){return t.print(e,"function("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+Ya.name+") {"),t.incIndent();var r=[Ja.set(Ya.prop("stack")).toDeclStmt(null,[Xs.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println(e,"}"),null},t.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(null,e.name)},e,t,",")},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case Ts.ConcatArray:t="concat";break;case Ts.SubscribeObservable:t="subscribe";break;case Ts.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t}(eu)),Ml=function(){function e(e,t,r,n,i,o,s,a,u,p){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=r,this._viewCompiler=n,this._ngModuleCompiler=i,this._summaryResolver=o,this._reflector=s,this._compilerConfig=a,this._console=u,this.getExtraNgModuleProviders=p,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return e.prototype.compileModuleSync=function(e){return U(this._compileModuleAndComponents(e,!0))},e.prototype.compileModuleAsync=function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))},e.prototype.compileModuleAndAllComponentsSync=function(e){return U(this._compileModuleAndAllComponents(e,!0))},e.prototype.compileModuleAndAllComponentsAsync=function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))},e.prototype.getComponentFactory=function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory},e.prototype.loadAotSummaries=function(e){this.clearCache(),this._addAotSummaries(e)},e.prototype._addAotSummaries=function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),r=0;r<t.length;r++){var n=t[r];if("function"==typeof n)this._addAotSummaries(n);else{var i=n;this._summaryResolver.addSummary({symbol:i.type.reference,metadata:null,type:i})}}}},e.prototype.hasAotSummary=function(e){return!!this._summaryResolver.resolveSummary(e)},e.prototype._filterJitIdentifiers=function(e){var t=this;return e.map(function(e){return e.reference}).filter(function(e){return!t.hasAotSummary(e)})},e.prototype._compileModuleAndComponents=function(e,t){var r=this;return H(this._loadModules(e,t),function(){return r._compileComponents(e,null),r._compileModule(e)})},e.prototype._compileModuleAndAllComponents=function(e,t){var r=this;return H(this._loadModules(e,t),function(){var t=[];return r._compileComponents(e,t),{ngModuleFactory:r._compileModule(e),componentFactories:t}})},e.prototype._loadModules=function(e,t){var r=this,n=[],i=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(i.transitiveModule.modules).forEach(function(e){var i=r._metadataResolver.getNgModuleMetadata(e);r._filterJitIdentifiers(i.declaredDirectives).forEach(function(e){var o=r._metadataResolver.loadDirectiveMetadata(i.type.reference,e,t);o&&n.push(o)}),r._filterJitIdentifiers(i.declaredPipes).forEach(function(e){return r._metadataResolver.getOrLoadPipeMetadata(e)})}),q(n)},e.prototype._compileModule=function(e){var t=this._compiledNgModuleCache.get(e);if(!t){var r=this._metadataResolver.getNgModuleMetadata(e),n=this.getExtraNgModuleProviders(r.type.reference),i=Il(),o=this._ngModuleCompiler.compile(i,r,n);t=this._interpretOrJit(Ke(r),i.statements)[o.ngModuleFactoryVar],this._compiledNgModuleCache.set(r.type.reference,t)}return t},e.prototype._compileComponents=function(e,t){var r=this,n=this._metadataResolver.getNgModuleMetadata(e),i=new Map,o=new Set,s=this._filterJitIdentifiers(n.transitiveModule.modules);s.forEach(function(e){var n=r._metadataResolver.getNgModuleMetadata(e);r._filterJitIdentifiers(n.declaredDirectives).forEach(function(e){i.set(e,n);var s=r._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(o.add(r._createCompiledTemplate(s,n)),t)){var a=r._createCompiledHostTemplate(s.type.reference,n);o.add(a),t.push(s.componentFactory)}})}),s.forEach(function(e){var t=r._metadataResolver.getNgModuleMetadata(e);r._filterJitIdentifiers(t.declaredDirectives).forEach(function(e){var t=r._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(function(e){var t=i.get(e.componentType);o.add(r._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(function(e){if(!r.hasAotSummary(e.componentType.reference)){var t=i.get(e.componentType);o.add(r._createCompiledHostTemplate(e.componentType,t))}})}),o.forEach(function(e){return r._compileTemplate(e)})},e.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)},e.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},e.prototype._createCompiledHostTemplate=function(e,t){if(!t)throw new Error("Component "+G(e)+" is not part of any NgModule or the module has not been imported into your module.");var r=this._compiledHostTemplateCache.get(e);if(!r){var n=this._metadataResolver.getDirectiveMetadata(e);kl(n);var i=this._metadataResolver.getHostComponentMetadata(n,n.componentFactory.viewDefFactory);r=new Nl(!0,n.type,i,t,[n.type]),this._compiledHostTemplateCache.set(e,r)}return r},e.prototype._createCompiledTemplate=function(e,t){var r=this._compiledTemplateCache.get(e.type.reference);return r||(kl(e),r=new Nl(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,r)),r},e.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var r=e.compMeta,n=new Map,i=Il(),o=this._styleCompiler.compileComponent(i,r);r.template.externalStylesheets.forEach(function(e){var i=t._styleCompiler.compileStyles(Il(),r,e);n.set(e.moduleUrl,i)}),this._resolveStylesCompileResult(o,n);e.ngModule.transitiveModule.pipes.map(function(e){return t._metadataResolver.getPipeSummary(e.reference)});var s=this._parseTemplate(r,e.ngModule,e.directives),a=s.template,u=s.pipes,p=this._viewCompiler.compileComponent(i,r,a,va(o.stylesVar),u),c=this._interpretOrJit(Xe(e.ngModule.type,e.compMeta),i.statements),l=c[p.viewClassVar],h=c[p.rendererTypeVar];e.compiled(l,h)}},e.prototype._parseTemplate=function(e,t,r){var n=this,i=e.template.preserveWhitespaces,o=r.map(function(e){return n._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return n._metadataResolver.getPipeSummary(e.reference)});return this._templateParser.parse(e,e.template.htmlAst,o,s,t.schemas,We(t.type,e,e.template),i)},e.prototype._resolveStylesCompileResult=function(e,t){var r=this;e.dependencies.forEach(function(e,n){var i=t.get(e.moduleUrl),o=r._resolveAndEvalStylesCompileResult(i,t);e.setValue(o)})},e.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(ze(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]},e.prototype._interpretOrJit=function(e,t){return this._compilerConfig.useJit?Al(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var r=new Sl(null,null,null,new Map);new Cl(t).visitAllStatements(e,r);var n={};return r.exports.forEach(function(e){n[e]=r.vars.get(e)}),n}(t,this._reflector)},e}(),Nl=function(){function e(e,t,r,n,i){this.isHost=e,this.compType=t,this.compMeta=r,this.ngModule=n,this.directives=i,this._viewClass=null,this.isCompiled=!1}return e.prototype.compiled=function(e,t){this._viewClass=e,this.compMeta.componentViewType.setDelegate(e);for(var r in t)this.compMeta.rendererType[r]=t[r];this.isCompiled=!0},e}();function kl(e){if(!e.isComponent)throw new Error("Could not compile '"+Te(e.type)+"' because it is not a component.")}function Il(){return{statements:[],genFilePath:"",importExpr:function(e){return ma({name:Te(e),moduleName:null,runtime:e})}}}var Rl=function(){return function(){}}();var Ol=function(){function e(e){void 0===e&&(e=null),this._packagePrefix=e}return e.prototype.resolve=function(e,t){var r=t;null!=e&&e.length>0&&(r=function(e,t){var r=Fl(encodeURI(t)),n=Fl(e);{if(null!=r[Ll.Scheme])return Vl(r);r[Ll.Scheme]=n[Ll.Scheme]}for(var i=Ll.Scheme;i<=Ll.Port;i++)null==r[i]&&(r[i]=n[i]);if("/"==r[Ll.Path][0])return Vl(r);var o=n[Ll.Path];null==o&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+r[Ll.Path],r[Ll.Path]=o,Vl(r)}(e,r));var n=Fl(r),i=this._packagePrefix;if(null!=i&&null!=n&&"package"==n[Ll.Scheme]){var o=n[Ll.Path];return(i=i.replace(/\/+$/,""))+"/"+(o=o.replace(/^\/+/,""))}return r},e}();var Dl=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Ll={Scheme:1,UserInfo:2,Domain:3,Port:4,Path:5,QueryData:6,Fragment:7};function Fl(e){return e.match(Dl)}function Vl(e){var t,r,n,i,o,s,a,u,p=e[Ll.Path];return p=null==p?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",r="/"===e[e.length-1]?"/":"",n=e.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==t){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+r}(p),e[Ll.Path]=p,t=e[Ll.Scheme],r=e[Ll.UserInfo],n=e[Ll.Domain],i=e[Ll.Port],o=p,s=e[Ll.QueryData],a=e[Ll.Fragment],u=[],null!=t&&u.push(t+":"),null!=n&&(u.push("//"),null!=r&&u.push(r+"@"),u.push(n),null!=i&&u.push(":"+i)),null!=o&&u.push(o),null!=s&&u.push("?"+s),null!=a&&u.push("#"+a),u.join("")}Ll[Ll.Scheme]="Scheme",Ll[Ll.UserInfo]="UserInfo",Ll[Ll.Domain]="Domain",Ll[Ll.Port]="Port",Ll[Ll.Path]="Path",Ll[Ll.QueryData]="QueryData",Ll[Ll.Fragment]="Fragment";var Bl=function(){function e(){}return e.prototype.get=function(e){return""},e}(),Ul=function(){function e(e,t,r,n){this.host=e,this.staticSymbolResolver=t,this.messageBundle=r,this.metadataResolver=n}return e.prototype.extract=function(e){var t=this,r=Fc(e,this.host,this.staticSymbolResolver,this.metadataResolver),n=r.files,i=r.ngModules;return Promise.all(i.map(function(e){return t.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){var e=[];if(n.forEach(function(r){var n=[];r.directives.forEach(function(e){var r=t.metadataResolver.getDirectiveMetadata(e);r&&r.isComponent&&n.push(r)}),n.forEach(function(n){var i=n.template.template,o=st.fromArray(n.template.interpolation);e.push.apply(e,t.messageBundle.updateFromTemplate(i,r.fileName,o))})}),e.length)throw new Error(e.map(function(e){return e.toString()}).join("\n"));return t.messageBundle})},e.create=function(t,r){var n=new To,i=yl(t),o=new Se,s=new ml(t,o),a=new Cc(t,o,s),u=new el(s,a),p=new ge({defaultEncapsulation:h.Emulated,useJit:!1}),c=new Ot({get:function(e){return t.loadResource(e)}},i,n,p),l=new mu,f=new ts(p,n,new qa(u),new Ft(u),new su(u),s,l,c,console,o,u),d=new mc(n,[],{},r);return{extractor:new e(t,a,d,f),staticReflector:u}},e}();e.core=I,e.CompilerConfig=ge,e.preserveWhitespacesDefault=_e,e.isLoweredSymbol=Ho,e.createLoweredSymbol=function(e){return"ɵ"+e},e.Identifiers=jo,e.JitCompiler=Ml,e.DirectiveResolver=Ft,e.PipeResolver=su,e.NgModuleResolver=qa,e.DEFAULT_INTERPOLATION_CONFIG=at,e.InterpolationConfig=st,e.NgModuleCompiler=Ha,e.AssertNotNull=Os,e.BinaryOperator=ms,e.BinaryOperatorExpr=Vs,e.BuiltinMethod=Ts,e.BuiltinVar=Es,e.CastExpr=Ds,e.ClassStmt=ra,e.CommaExpr=Ws,e.CommentStmt=ia,e.ConditionalExpr=Is,e.DeclareFunctionStmt=Ys,e.DeclareVarStmt=Gs,e.ExpressionStatement=Js,e.ExternalExpr=Ns,e.ExternalReference=ks,e.FunctionExpr=Fs,e.IfStmt=na,e.InstantiateExpr=Ps,e.InvokeFunctionExpr=As,e.InvokeMethodExpr=bs,e.LiteralArrayExpr=Hs,e.LiteralExpr=Ms,e.LiteralMapExpr=js,e.NotExpr=Rs,e.ReadKeyExpr=Us,e.ReadPropExpr=Bs,e.ReadVarExpr=Ss,e.ReturnStatement=$s,e.ThrowStmt=sa,e.TryCatchStmt=oa,e.WriteKeyExpr=Cs,e.WritePropExpr=ws,e.WriteVarExpr=xs,e.StmtModifier=Xs,e.Statement=Qs,e.collectExternalReferences=function(e){var t=new la;return t.visitAllStatements(e,null),t.externalReferences},e.EmitterVisitorContext=Za,e.ViewCompiler=nc,e.getParseErrors=function(e){return e[z]||[]},e.isSyntaxError=function(e){return e[W]},e.syntaxError=j,e.Version=$,e.VERSION=Z,e.TextAst=ee,e.BoundTextAst=te,e.AttrAst=re,e.BoundElementPropertyAst=ne,e.BoundEventAst=ie,e.ReferenceAst=oe,e.VariableAst=se,e.ElementAst=ae,e.EmbeddedTemplateAst=ue,e.BoundDirectivePropertyAst=pe,e.DirectiveAst=ce,e.ProviderAst=le,e.ProviderAstType=he,e.NgContentAst=fe,e.PropertyBindingType=de,e.NullTemplateVisitor=ve,e.RecursiveTemplateAstVisitor=me,e.templateVisitAll=ye,e.identifierName=Te,e.identifierModuleUrl=be,e.viewClassName=Ae,e.rendererTypeName=Pe,e.hostViewClassName=Me,e.componentFactoryName=Ne,e.CompileSummaryKind=ke,e.tokenName=Ie,e.tokenReference=Re,e.CompileStylesheetMetadata=Oe,e.CompileTemplateMetadata=De,e.CompileDirectiveMetadata=Le,e.CompilePipeMetadata=Fe,e.CompileNgModuleMetadata=Ve,e.TransitiveCompileNgModuleMetadata=Be,e.ProviderMeta=He,e.flatten=qe,e.templateSourceUrl=We,e.sharedStylesheetJitUrl=ze,e.ngModuleJitUrl=Ke,e.templateJitUrl=Xe,e.createAotUrlResolver=yl,e.createAotCompiler=function(e,t,r){var n=t.translations||"",i=yl(e),o=new Se,s=new ml(e,o),a=new Cc(e,o,s),u=new el(s,a,[],[],r),p=new Po(new To,n,t.i18nFormat,t.missingTranslation,console),c=new ge({defaultEncapsulation:h.Emulated,useJit:!1,enableLegacyTemplate:!0===t.enableLegacyTemplate,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces,strictInjectionParameters:t.strictInjectionParameters}),l=new Ot({get:function(t){return e.loadResource(t)}},i,p,c),f=new mn(new br),d=new mu,v=new xp(c,u,f,d,p,console,[]),m=new ts(c,p,new qa(u),new Ft(u),new su(u),s,d,l,console,o,u,r),y=new nc(u),g=new Yp(t,u);return{compiler:new Ic(c,t,e,u,m,v,new Ku(i),y,g,new Ha(u),new iu,s,a),reflector:u}},e.AotCompiler=Ic,e.analyzeNgModules=Lc,e.analyzeAndValidateNgModules=Fc,e.analyzeFile=Bc,e.mergeAnalyzedFiles=Uc,e.GeneratedFile=gc,e.toTypeScript=function(e,t){if(void 0===t&&(t=""),!e.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile "+e.genFileUrl);return(new iu).emitStatements(e.genFileUrl,e.stmts,t)},e.formattedError=Wc,e.isFormattedError=function(e){return!!e[qc]},e.StaticReflector=el,e.StaticSymbol=Ee,e.StaticSymbolCache=Se,e.ResolvedStaticSymbol=xc,e.StaticSymbolResolver=Cc,e.unescapeIdentifier=wc,e.unwrapResolvedMetadata=Tc,e.AotSummaryResolver=ml,e.AstPath=Qe,e.SummaryResolver=gl,e.JitSummaryResolver=_l,e.CompileReflector=Rl,e.createUrlResolverWithoutPackagePrefix=function(){return new Ol},e.createOfflineCompileUrlResolver=function(){return new Ol(".")},e.UrlResolver=Ol,e.getUrlScheme=function(e){var t=Fl(e);return t&&t[Ll.Scheme]||""},e.ResourceLoader=Bl,e.ElementSchemaRegistry=pu,e.Extractor=Ul,e.I18NHtmlParser=Po,e.MessageBundle=mc,e.Serializer=qi,e.Xliff=to,e.Xliff2=ao,e.Xmb=vo,e.Xtb=xo,e.DirectiveNormalizer=Ot,e.ParserError=Fr,e.ParseSpan=Vr,e.AST=Br,e.Quote=Ur,e.EmptyExpr=Hr,e.ImplicitReceiver=qr,e.Chain=jr,e.Conditional=Wr,e.PropertyRead=zr,e.PropertyWrite=Kr,e.SafePropertyRead=Xr,e.KeyedRead=Qr,e.KeyedWrite=Gr,e.BindingPipe=Yr,e.LiteralPrimitive=Jr,e.LiteralArray=$r,e.LiteralMap=Zr,e.Interpolation=en,e.Binary=tn,e.PrefixNot=rn,e.NonNullAssert=nn,e.MethodCall=on,e.SafeMethodCall=sn,e.FunctionCall=an,e.ASTWithSource=un,e.TemplateBinding=pn,e.NullAstVisitor=cn,e.RecursiveAstVisitor=ln,e.AstTransformer=hn,e.visitAstChildren=function(e,t,r){function n(e){t.visit&&t.visit(e,r)||e.visit(t,r)}function i(e){e.forEach(n)}e.visit({visitBinary:function(e){n(e.left),n(e.right)},visitChain:function(e){i(e.expressions)},visitConditional:function(e){n(e.condition),n(e.trueExp),n(e.falseExp)},visitFunctionCall:function(e){e.target&&n(e.target),i(e.args)},visitImplicitReceiver:function(e){},visitInterpolation:function(e){i(e.expressions)},visitKeyedRead:function(e){n(e.obj),n(e.key)},visitKeyedWrite:function(e){n(e.obj),n(e.key),n(e.obj)},visitLiteralArray:function(e){i(e.expressions)},visitLiteralMap:function(e){},visitLiteralPrimitive:function(e){},visitMethodCall:function(e){n(e.receiver),i(e.args)},visitPipe:function(e){n(e.exp),i(e.args)},visitPrefixNot:function(e){n(e.expression)},visitNonNullAssert:function(e){n(e.expression)},visitPropertyRead:function(e){n(e.receiver)},visitPropertyWrite:function(e){n(e.receiver),n(e.value)},visitQuote:function(e){},visitSafeMethodCall:function(e){n(e.receiver),i(e.args)},visitSafePropertyRead:function(e){n(e.receiver)}})},e.TokenType=wr,e.Lexer=br,e.Token=Ar,e.EOF=Nr,e.isIdentifier=Rr,e.isQuote=Dr,e.SplitInterpolation=fn,e.TemplateBindingParseResult=dn,e.Parser=mn,e._ParseAST=yn,e.ERROR_COMPONENT_TYPE=es,e.CompileMetadataResolver=ts,e.Text=Ge,e.Expansion=Ye,e.ExpansionCase=Je,e.Attribute=$e,e.Element=Ze,e.Comment=et,e.visitAll=tt,e.RecursiveVisitor=rt,e.findNode=function(e,t){var n=[];return tt(new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),i.prototype.visit=function(e,r){var i=function e(t){var r=t.sourceSpan.start.offset,n=t.sourceSpan.end.offset;return t instanceof Ze&&(t.endSourceSpan?n=t.endSourceSpan.end.offset:t.children&&t.children.length&&(n=e(t.children[t.children.length-1]).end)),{start:r,end:n}}(e);if(!(i.start<=t&&t<i.end))return!0;n.push(e)},i}(rt)),e),new Qe(n,t)},e.ParseTreeResult=Hn,e.TreeError=Un,e.HtmlParser=To,e.HtmlTagDefinition=_i,e.getHtmlTagDefinition=xi,e.TagContentType=ft,e.splitNsName=dt,e.isNgContainer=vt,e.isNgContent=mt,e.isNgTemplate=yt,e.getNsPrefix=gt,e.mergeNsAndName=_t,e.NAMED_ENTITIES=Et,e.NGSP_UNICODE=St,e.debugOutputAstAsTypeScript=nu,e.TypeScriptEmitter=iu,e.ParseLocation=_n,e.ParseSourceFile=En,e.ParseSourceSpan=Sn,e.ParseErrorLevel=xn,e.ParseError=Cn,e.typeSourceSpan=wn,e.DomElementSchemaRegistry=mu,e.CssSelector=Yo,e.SelectorMatcher=Jo,e.SelectorListContext=$o,e.SelectorContext=Zo,e.StylesCompileDependency=Wu,e.CompiledStylesheet=zu,e.StyleCompiler=Ku,e.TemplateParseError=Ep,e.TemplateParseResult=Sp,e.TemplateParser=xp,e.splitClasses=bp,e.createElementCssSelector=Pp,e.removeSummaryDuplicates=Ip,Object.defineProperty(e,"__esModule",{value:!0})});