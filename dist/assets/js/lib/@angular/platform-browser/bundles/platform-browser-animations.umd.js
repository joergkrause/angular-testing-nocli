!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/animations/browser")):"function"==typeof define&&define.amd?define("@angular/platform-browser/animations",["exports","@angular/core","@angular/platform-browser","@angular/animations","@angular/animations/browser"],t):t((e.ng=e.ng||{},e.ng.platformBrowser=e.ng.platformBrowser||{},e.ng.platformBrowser.animations={}),e.ng.core,e.ng.platformBrowser,e.ng.animations,e.ng.animations.browser)}(this,function(e,t,n,r,o){"use strict";var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(e){function o(n,r){var o=e.call(this)||this;o._nextAnimationId=0;var i={id:"0",encapsulation:t.ViewEncapsulation.None,styles:[],data:{animation:[]}};return o._renderer=n.createRenderer(r.body,i),o}return a(o,e),o.prototype.build=function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?r.sequence(e):e;return d(this._renderer,null,t,"register",[n]),new u(t,this._renderer)},o.decorators=[{type:t.Injectable}],o.ctorParameters=function(){return[{type:t.RendererFactory2},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},o}(r.AnimationBuilder),u=function(e){function t(t,n){var r=e.call(this)||this;return r._id=t,r._renderer=n,r}return a(t,e),t.prototype.create=function(e,t){return new c(this._id,e,t||{},this._renderer)},t}(r.AnimationFactory),c=function(){function e(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return e.prototype._listen=function(e,t){return this._renderer.listen(this.element,"@@"+this.id+":"+e,t)},e.prototype._command=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return d(this._renderer,this.element,this.id,e,t)},e.prototype.onDone=function(e){this._listen("done",e)},e.prototype.onStart=function(e){this._listen("start",e)},e.prototype.onDestroy=function(e){this._listen("destroy",e)},e.prototype.init=function(){this._command("init")},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this._command("play"),this._started=!0},e.prototype.pause=function(){this._command("pause")},e.prototype.restart=function(){this._command("restart")},e.prototype.finish=function(){this._command("finish")},e.prototype.destroy=function(){this._command("destroy")},e.prototype.reset=function(){this._command("reset")},e.prototype.setPosition=function(e){this._command("setPosition",e)},e.prototype.getPosition=function(){return 0},e}();function d(e,t,n,r,o){return e.setProperty(t,"@@"+n+":"+r,o)}var p="@",l="@.disabled",h=function(){function e(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return e.prototype.createRenderer=function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var o=this._rendererCache.get(r);return o||(o=new f("",r,this.engine),this._rendererCache.set(r,o)),o}var i=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach(function(t){return n.engine.registerTrigger(i,a,e,t.name,t)}),new m(this,a,r,this.engine)},e.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},e.prototype._scheduleCountTask=function(){var e=this;this.promise.then(function(){e._microtaskId++})},e.prototype.scheduleListenerCallback=function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))},e.prototype.end=function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.RendererFactory2},{type:o.ɵAnimationEngine},{type:t.NgZone}]},e}(),f=function(){function e(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(e.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},e.prototype.createElement=function(e,t){return this.delegate.createElement(e,t)},e.prototype.createComment=function(e){return this.delegate.createComment(e)},e.prototype.createText=function(e){return this.delegate.createText(e)},e.prototype.appendChild=function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)},e.prototype.insertBefore=function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)},e.prototype.removeChild=function(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)},e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setAttribute=function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){t.charAt(0)==p&&t==l?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)},e.prototype.setValue=function(e,t){this.delegate.setValue(e,t)},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.disableAnimations=function(e,t){this.engine.disableAnimations(e,t)},e}(),m=function(e){function t(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.factory=t,i.namespaceId=n,i}return a(t,e),t.prototype.setProperty=function(e,t,n){t.charAt(0)==p?"."==t.charAt(1)&&t==l?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)},t.prototype.listen=function(e,t,n){var r,o,i,a,s,u=this;if(t.charAt(0)==p){var c=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),d=t.substr(1),l="";return d.charAt(0)!=p&&(o=(r=d).indexOf("."),i=r.substring(0,o),a=r.substr(o+1),d=(s=[i,a])[0],l=s[1]),this.engine.listen(this.namespaceId,c,d,l,function(e){var t=e._data||-1;u.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n)},t}(f);var y=function(e){function n(t,n){return e.call(this,t,n)||this}return a(n,e),n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[{type:o.AnimationDriver},{type:o.ɵAnimationStyleNormalizer}]},n}(o.ɵAnimationEngine);function g(){return o.ɵsupportsWebAnimations()?new o.ɵWebAnimationsDriver:new o.ɵNoopAnimationDriver}function _(){return new o.ɵWebAnimationsStyleNormalizer}function v(e,t,n){return new h(e,t,n)}var b=[{provide:r.AnimationBuilder,useClass:s},{provide:o.ɵAnimationStyleNormalizer,useFactory:_},{provide:o.ɵAnimationEngine,useClass:y},{provide:t.RendererFactory2,useFactory:v,deps:[n.ɵDomRendererFactory2,o.ɵAnimationEngine,t.NgZone]}],A=[{provide:o.AnimationDriver,useFactory:g}].concat(b),w=[{provide:o.AnimationDriver,useClass:o.ɵNoopAnimationDriver}].concat(b),C=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[n.BrowserModule],providers:A}]}],e.ctorParameters=function(){return[]},e}(),I=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[n.BrowserModule],providers:w}]}],e.ctorParameters=function(){return[]},e}();e.BrowserAnimationsModule=C,e.NoopAnimationsModule=I,e.ɵBrowserAnimationBuilder=s,e.ɵBrowserAnimationFactory=u,e.ɵAnimationRenderer=m,e.ɵAnimationRendererFactory=h,e.ɵa=f,e.ɵf=A,e.ɵg=w,e.ɵb=y,e.ɵd=_,e.ɵe=v,e.ɵc=g,Object.defineProperty(e,"__esModule",{value:!0})});